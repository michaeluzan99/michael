function FC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Fd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kf={exports:{}},Il={},Qf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function UC(){if(Fy)return Ne;Fy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function A(z,X,pe){this.props=z,this.context=X,this.refs=C,this.updater=pe||I}A.prototype.isReactComponent={},A.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=A.prototype;function V(z,X,pe){this.props=z,this.context=X,this.refs=C,this.updater=pe||I}var B=V.prototype=new O;B.constructor=V,T(B,A.prototype),B.isPureReactComponent=!0;var H=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(z,X,pe){var Pe,be={},De=null,Oe=null;if(X!=null)for(Pe in X.ref!==void 0&&(Oe=X.ref),X.key!==void 0&&(De=""+X.key),X)q.call(X,Pe)&&!k.hasOwnProperty(Pe)&&(be[Pe]=X[Pe]);var Le=arguments.length-2;if(Le===1)be.children=pe;else if(1<Le){for(var He=Array(Le),rt=0;rt<Le;rt++)He[rt]=arguments[rt+2];be.children=He}if(z&&z.defaultProps)for(Pe in Le=z.defaultProps,Le)be[Pe]===void 0&&(be[Pe]=Le[Pe]);return{$$typeof:n,type:z,key:De,ref:Oe,props:be,_owner:J.current}}function x(z,X){return{$$typeof:n,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return X[pe]})}var j=/\/+/g;function R(z,X){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):X.toString(36)}function Ce(z,X,pe,Pe,be){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var Oe=!1;if(z===null)Oe=!0;else switch(De){case"string":case"number":Oe=!0;break;case"object":switch(z.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=z,be=be(Oe),z=Pe===""?"."+R(Oe,0):Pe,H(be)?(pe="",z!=null&&(pe=z.replace(j,"$&/")+"/"),Ce(be,X,pe,"",function(rt){return rt})):be!=null&&(N(be)&&(be=x(be,pe+(!be.key||Oe&&Oe.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+z)),X.push(be)),1;if(Oe=0,Pe=Pe===""?".":Pe+":",H(z))for(var Le=0;Le<z.length;Le++){De=z[Le];var He=Pe+R(De,Le);Oe+=Ce(De,X,pe,He,be)}else if(He=E(z),typeof He=="function")for(z=He.call(z),Le=0;!(De=z.next()).done;)De=De.value,He=Pe+R(De,Le++),Oe+=Ce(De,X,pe,He,be);else if(De==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Ke(z,X,pe){if(z==null)return z;var Pe=[],be=0;return Ce(z,Pe,"","",function(De){return X.call(pe,De,be++)}),Pe}function Qe(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var Fe={current:null},se={transition:null},ge={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:se,ReactCurrentOwner:J};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Ke,forEach:function(z,X,pe){Ke(z,function(){X.apply(this,arguments)},pe)},count:function(z){var X=0;return Ke(z,function(){X++}),X},toArray:function(z){return Ke(z,function(X){return X})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ne.Component=A,Ne.Fragment=t,Ne.Profiler=s,Ne.PureComponent=V,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=le,Ne.cloneElement=function(z,X,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Pe=T({},z.props),be=z.key,De=z.ref,Oe=z._owner;if(X!=null){if(X.ref!==void 0&&(De=X.ref,Oe=J.current),X.key!==void 0&&(be=""+X.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(He in X)q.call(X,He)&&!k.hasOwnProperty(He)&&(Pe[He]=X[He]===void 0&&Le!==void 0?Le[He]:X[He])}var He=arguments.length-2;if(He===1)Pe.children=pe;else if(1<He){Le=Array(He);for(var rt=0;rt<He;rt++)Le[rt]=arguments[rt+2];Pe.children=Le}return{$$typeof:n,type:z.type,key:be,ref:De,props:Pe,_owner:Oe}},Ne.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ne.createElement=P,Ne.createFactory=function(z){var X=P.bind(null,z);return X.type=z,X},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:c,render:z}},Ne.isValidElement=N,Ne.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Qe}},Ne.memo=function(z,X){return{$$typeof:p,type:z,compare:X===void 0?null:X}},Ne.startTransition=function(z){var X=se.transition;se.transition={};try{z()}finally{se.transition=X}},Ne.unstable_act=le,Ne.useCallback=function(z,X){return Fe.current.useCallback(z,X)},Ne.useContext=function(z){return Fe.current.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z){return Fe.current.useDeferredValue(z)},Ne.useEffect=function(z,X){return Fe.current.useEffect(z,X)},Ne.useId=function(){return Fe.current.useId()},Ne.useImperativeHandle=function(z,X,pe){return Fe.current.useImperativeHandle(z,X,pe)},Ne.useInsertionEffect=function(z,X){return Fe.current.useInsertionEffect(z,X)},Ne.useLayoutEffect=function(z,X){return Fe.current.useLayoutEffect(z,X)},Ne.useMemo=function(z,X){return Fe.current.useMemo(z,X)},Ne.useReducer=function(z,X,pe){return Fe.current.useReducer(z,X,pe)},Ne.useRef=function(z){return Fe.current.useRef(z)},Ne.useState=function(z){return Fe.current.useState(z)},Ne.useSyncExternalStore=function(z,X,pe){return Fe.current.useSyncExternalStore(z,X,pe)},Ne.useTransition=function(){return Fe.current.useTransition()},Ne.version="18.3.1",Ne}var Uy;function dm(){return Uy||(Uy=1,Qf.exports=UC()),Qf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function BC(){if(By)return Il;By=1;var n=dm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,v={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:c,key:E,ref:I,props:v,_owner:s.current}}return Il.Fragment=t,Il.jsx=l,Il.jsxs=l,Il}var jy;function jC(){return jy||(jy=1,Kf.exports=BC()),Kf.exports}var U=jC(),$=dm();const tt=Fd($),zC=FC({__proto__:null,default:tt},[$]);var Vc={},Yf={exports:{}},fn={},Xf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function $C(){return zy||(zy=1,function(n){function e(se,ge){var le=se.length;se.push(ge);e:for(;0<le;){var z=le-1>>>1,X=se[z];if(0<s(X,ge))se[z]=ge,se[le]=X,le=z;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ge=se[0],le=se.pop();if(le!==ge){se[0]=le;e:for(var z=0,X=se.length,pe=X>>>1;z<pe;){var Pe=2*(z+1)-1,be=se[Pe],De=Pe+1,Oe=se[De];if(0>s(be,le))De<X&&0>s(Oe,be)?(se[z]=Oe,se[De]=le,z=De):(se[z]=be,se[Pe]=le,z=Pe);else if(De<X&&0>s(Oe,le))se[z]=Oe,se[De]=le,z=De;else break e}}return ge}function s(se,ge){var le=se.sortIndex-ge.sortIndex;return le!==0?le:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,v=null,E=3,I=!1,T=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(se){for(var ge=t(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=se)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(p)}}function H(se){if(C=!1,B(se),!T)if(t(f)!==null)T=!0,Qe(q);else{var ge=t(p);ge!==null&&Fe(H,ge.startTime-se)}}function q(se,ge){T=!1,C&&(C=!1,O(P),P=-1),I=!0;var le=E;try{for(B(ge),v=t(f);v!==null&&(!(v.expirationTime>ge)||se&&!L());){var z=v.callback;if(typeof z=="function"){v.callback=null,E=v.priorityLevel;var X=z(v.expirationTime<=ge);ge=n.unstable_now(),typeof X=="function"?v.callback=X:v===t(f)&&r(f),B(ge)}else r(f);v=t(f)}if(v!==null)var pe=!0;else{var Pe=t(p);Pe!==null&&Fe(H,Pe.startTime-ge),pe=!1}return pe}finally{v=null,E=le,I=!1}}var J=!1,k=null,P=-1,x=5,N=-1;function L(){return!(n.unstable_now()-N<x)}function j(){if(k!==null){var se=n.unstable_now();N=se;var ge=!0;try{ge=k(!0,se)}finally{ge?R():(J=!1,k=null)}}else J=!1}var R;if(typeof V=="function")R=function(){V(j)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ke=Ce.port2;Ce.port1.onmessage=j,R=function(){Ke.postMessage(null)}}else R=function(){A(j,0)};function Qe(se){k=se,J||(J=!0,R())}function Fe(se,ge){P=A(function(){se(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){T||I||(T=!0,Qe(q))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var le=E;E=ge;try{return se()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=E;E=se;try{return ge()}finally{E=le}},n.unstable_scheduleCallback=function(se,ge,le){var z=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,se={id:g++,callback:ge,priorityLevel:se,startTime:le,expirationTime:X,sortIndex:-1},le>z?(se.sortIndex=le,e(p,se),t(f)===null&&se===t(p)&&(C?(O(P),P=-1):C=!0,Fe(H,le-z))):(se.sortIndex=X,e(f,se),T||I||(T=!0,Qe(q))),se},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(se){var ge=E;return function(){var le=E;E=ge;try{return se.apply(this,arguments)}finally{E=le}}}}(Jf)),Jf}var $y;function WC(){return $y||($y=1,Xf.exports=$C()),Xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function HC(){if(Wy)return fn;Wy=1;var n=dm(),e=WC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(i){return f.call(v,i)?!0:f.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function I(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,o,u,h){if(o===null||typeof o>"u"||I(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(i,o,u,h,m,_,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new C(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,V);A[o]=new C(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,V);A[o]=new C(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,V);A[o]=new C(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,h){var m=A.hasOwnProperty(o)?A[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,u,m,h)&&(u=null),h||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,z;function X(i){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var pe=!1;function Pe(i,o){if(!i||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var h=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){h=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){h=Q}i()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),_=h.stack.split(`
`),S=m.length-1,D=_.length-1;1<=S&&0<=D&&m[S]!==_[D];)D--;for(;1<=S&&0<=D;S--,D--)if(m[S]!==_[D]){if(S!==1||D!==1)do if(S--,D--,0>D||m[S]!==_[D]){var M=`
`+m[S].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=S&&0<=D);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?X(i):""}function be(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case J:return"Portal";case x:return"Profiler";case P:return"StrictMode";case R:return"Suspense";case Ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ke:return o=i.displayName||null,o!==null?o:De(i.type)||"Memo";case Qe:o=i._payload,i=i._init;try{return De(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function rt(i){var o=He(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,_.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function vn(i){i._valueTracker||(i._valueTracker=rt(i))}function Fr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function kn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Nn(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Ur(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Le(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Br(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function jr(i,o){Br(i,o);var u=Le(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?On(i,o.type,u):o.hasOwnProperty("defaultValue")&&On(i,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function so(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function On(i,o,u){(o!=="number"||kn(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var yn=Array.isArray;function zr(i,o,u,h){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Le(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function xa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function oo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(yn(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Le(u)}}function ao(i,o){var u=Le(o.value),h=Le(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Da(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function It(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?It(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var $r,ka=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=$r.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function pi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(i){gs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ms[o]=ms[i]})});function Na(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ms.hasOwnProperty(i)&&ms[i]?(""+o).trim():o+"px"}function Oa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=Na(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,m):i[u]=m}}var La=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(i,o){if(o){if(La[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Va(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function lo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uo=null,Ln=null,vr=null;function co(i){if(i=al(i)){if(typeof uo!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Ju(o),uo(i.stateNode,i.type,o))}}function yr(i){Ln?vr?vr.push(i):vr=[i]:Ln=i}function Fa(){if(Ln){var i=Ln,o=vr;if(vr=Ln=null,co(i),o)for(i=0;i<o.length;i++)co(o[i])}}function ys(i,o){return i(o)}function Ua(){}var Wr=!1;function Ba(i,o,u){if(Wr)return i(o,u);Wr=!0;try{return ys(i,o,u)}finally{Wr=!1,(Ln!==null||vr!==null)&&(Ua(),Fa())}}function pt(i,o){var u=i.stateNode;if(u===null)return null;var h=Ju(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ho=!1;if(c)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{ho=!1}function _s(i,o,u,h,m,_,S,D,M){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(ne){this.onError(ne)}}var Es=!1,fo=null,Jn=!1,ja=null,wh={onError:function(i){Es=!0,fo=i}};function po(i,o,u,h,m,_,S,D,M){Es=!1,fo=null,_s.apply(wh,arguments)}function Tu(i,o,u,h,m,_,S,D,M){if(po.apply(this,arguments),Es){if(Es){var Q=fo;Es=!1,fo=null}else throw Error(t(198));Jn||(Jn=!0,ja=Q)}}function Zn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function ws(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function er(i){if(Zn(i)!==i)throw Error(t(188))}function Su(i){var o=i.alternate;if(!o){if(o=Zn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,h=o;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return er(m),i;if(_===h)return er(m),o;_=_.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=_;else{for(var S=!1,D=m.child;D;){if(D===u){S=!0,u=m,h=_;break}if(D===h){S=!0,h=m,u=_;break}D=D.sibling}if(!S){for(D=_.child;D;){if(D===u){S=!0,u=_,h=m;break}if(D===h){S=!0,h=_,u=m;break}D=D.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function za(i){return i=Su(i),i!==null?mo(i):null}function mo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=mo(i);if(o!==null)return o;i=i.sibling}return null}var go=e.unstable_scheduleCallback,$a=e.unstable_cancelCallback,Cu=e.unstable_shouldYield,Ih=e.unstable_requestPaint,Ze=e.unstable_now,bu=e.unstable_getCurrentPriorityLevel,Is=e.unstable_ImmediatePriority,mi=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,Au=e.unstable_IdlePriority,Ts=null,_n=null;function Ru(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Ts,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:xu,Ha=Math.log,Pu=Math.LN2;function xu(i){return i>>>=0,i===0?32:31-(Ha(i)/Pu|0)|0}var vo=64,yo=4194304;function gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ss(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,m=i.suspendedLanes,_=i.pingedLanes,S=u&268435455;if(S!==0){var D=S&~m;D!==0?h=gi(D):(_&=S,_!==0&&(h=gi(_)))}else S=u&~m,S!==0?h=gi(S):_!==0&&(h=gi(_));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-Zt(o),m=1<<u,h|=i[u],o&=~m;return h}function Th(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes;0<_;){var S=31-Zt(_),D=1<<S,M=m[S];M===-1?((D&u)===0||(D&h)!==0)&&(m[S]=Th(D,o)):M<=o&&(i.expiredLanes|=D),_&=~D}}function En(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cs(){var i=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),i}function vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function yi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=u}function Je(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-Zt(u),_=1<<m;o[m]=0,h[m]=-1,i[m]=-1,u&=~_}}function _i(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-Zt(u),m=1<<h;m&o|i[h]&o&&(i[h]|=o),u&=~m}}var Ue=0;function Ei(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Du,_o,ku,Nu,Ou,Ga=!1,_r=[],Mt=null,tr=null,nr=null,wi=new Map,Vn=new Map,Er=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lu(i,o){switch(i){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(o.pointerId)}}function on(i,o,u,h,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},o!==null&&(o=al(o),o!==null&&_o(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Ch(i,o,u,h,m){switch(o){case"focusin":return Mt=on(Mt,i,o,u,h,m),!0;case"dragenter":return tr=on(tr,i,o,u,h,m),!0;case"mouseover":return nr=on(nr,i,o,u,h,m),!0;case"pointerover":var _=m.pointerId;return wi.set(_,on(wi.get(_)||null,i,o,u,h,m)),!0;case"gotpointercapture":return _=m.pointerId,Vn.set(_,on(Vn.get(_)||null,i,o,u,h,m)),!0}return!1}function Mu(i){var o=xs(i.target);if(o!==null){var u=Zn(o);if(u!==null){if(o=u.tag,o===13){if(o=ws(u),o!==null){i.blockedOn=o,Ou(i.priority,function(){ku(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Eo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);vs=h,u.target.dispatchEvent(h),vs=null}else return o=al(u),o!==null&&_o(o),i.blockedOn=u,!1;o.shift()}return!0}function bs(i,o,u){Gr(i)&&u.delete(o)}function Vu(){Ga=!1,Mt!==null&&Gr(Mt)&&(Mt=null),tr!==null&&Gr(tr)&&(tr=null),nr!==null&&Gr(nr)&&(nr=null),wi.forEach(bs),Vn.forEach(bs)}function rr(i,o){i.blockedOn===o&&(i.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vu)))}function ir(i){function o(m){return rr(m,i)}if(0<_r.length){rr(_r[0],i);for(var u=1;u<_r.length;u++){var h=_r[u];h.blockedOn===i&&(h.blockedOn=null)}}for(Mt!==null&&rr(Mt,i),tr!==null&&rr(tr,i),nr!==null&&rr(nr,i),wi.forEach(o),Vn.forEach(o),u=0;u<Er.length;u++)h=Er[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Er.length&&(u=Er[0],u.blockedOn===null);)Mu(u),u.blockedOn===null&&Er.shift()}var qr=H.ReactCurrentBatchConfig,Ii=!0;function at(i,o,u,h){var m=Ue,_=qr.transition;qr.transition=null;try{Ue=1,qa(i,o,u,h)}finally{Ue=m,qr.transition=_}}function bh(i,o,u,h){var m=Ue,_=qr.transition;qr.transition=null;try{Ue=4,qa(i,o,u,h)}finally{Ue=m,qr.transition=_}}function qa(i,o,u,h){if(Ii){var m=Eo(i,o,u,h);if(m===null)Vh(i,o,h,As,u),Lu(i,h);else if(Ch(m,i,o,u,h))h.stopPropagation();else if(Lu(i,h),o&4&&-1<Sh.indexOf(i)){for(;m!==null;){var _=al(m);if(_!==null&&Du(_),_=Eo(i,o,u,h),_===null&&Vh(i,o,h,As,u),_===m)break;m=_}m!==null&&h.stopPropagation()}else Vh(i,o,h,null,u)}}var As=null;function Eo(i,o,u,h){if(As=null,i=lo(h),i=xs(i),i!==null)if(o=Zn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=ws(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return As=i,null}function Ka(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bu()){case Is:return 1;case mi:return 4;case Mn:case Wa:return 16;case Au:return 536870912;default:return 16}default:return 16}}var wn=null,wo=null,an=null;function Qa(){if(an)return an;var i,o=wo,u=o.length,h,m="value"in wn?wn.value:wn.textContent,_=m.length;for(i=0;i<u&&o[i]===m[i];i++);var S=u-i;for(h=1;h<=S&&o[u-h]===m[_-h];h++);return an=m.slice(i,1<h?1-h:void 0)}function Io(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function Ya(){return!1}function Vt(i){function o(u,h,m,_,S){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wr:Ya,this.isPropagationStopped=Ya,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),o}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Vt(sr),Ir=le({},sr,{view:0,detail:0}),Ah=Vt(Ir),So,Kr,Ti,Rs=le({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(So=i.screenX-Ti.screenX,Kr=i.screenY-Ti.screenY):Kr=So=0,Ti=i),So)},movementY:function(i){return"movementY"in i?i.movementY:Kr}}),Co=Vt(Rs),Xa=le({},Rs,{dataTransfer:0}),Fu=Vt(Xa),bo=le({},Ir,{relatedTarget:0}),Ao=Vt(bo),Uu=le({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=Vt(Uu),Bu=le({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ju=Vt(Bu),zu=le({},sr,{data:0}),Ja=Vt(zu),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$u[i])?!!o[i]:!1}function Tr(){return Wu}var d=le({},Ir,{key:function(i){if(i.key){var o=Ro[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Io(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(i){return i.type==="keypress"?Io(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Io(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Vt(d),w=le({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Vt(w),W=le({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),Y=Vt(W),ae=le({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Vt(ae),St=le({},Rs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Vt(St),Pt=[9,13,27,32],yt=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var In=c&&"TextEvent"in window&&!Fn,Ps=c&&(!yt||Fn&&8<Fn&&11>=Fn),Po=" ",kg=!1;function Ng(i,o){switch(i){case"keyup":return Pt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function LS(i,o){switch(i){case"compositionend":return Og(o);case"keypress":return o.which!==32?null:(kg=!0,Po);case"textInput":return i=o.data,i===Po&&kg?null:i;default:return null}}function MS(i,o){if(xo)return i==="compositionend"||!yt&&Ng(i,o)?(i=Qa(),an=wo=wn=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ps&&o.locale!=="ko"?null:o.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!VS[i.type]:o==="textarea"}function Mg(i,o,u,h){yr(h),o=Qu(o,"onChange"),0<o.length&&(u=new To("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var Za=null,el=null;function FS(i){ev(i,0)}function Hu(i){var o=Lo(i);if(Fr(o))return i}function US(i,o){if(i==="change")return o}var Vg=!1;if(c){var Rh;if(c){var Ph="oninput"in document;if(!Ph){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Ph=typeof Fg.oninput=="function"}Rh=Ph}else Rh=!1;Vg=Rh&&(!document.documentMode||9<document.documentMode)}function Ug(){Za&&(Za.detachEvent("onpropertychange",Bg),el=Za=null)}function Bg(i){if(i.propertyName==="value"&&Hu(el)){var o=[];Mg(o,el,i,lo(i)),Ba(FS,o)}}function BS(i,o,u){i==="focusin"?(Ug(),Za=o,el=u,Za.attachEvent("onpropertychange",Bg)):i==="focusout"&&Ug()}function jS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hu(el)}function zS(i,o){if(i==="click")return Hu(o)}function $S(i,o){if(i==="input"||i==="change")return Hu(o)}function WS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var or=typeof Object.is=="function"?Object.is:WS;function tl(i,o){if(or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!or(i[m],o[m]))return!1}return!0}function jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zg(i,o){var u=jg(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=jg(u)}}function $g(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?$g(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Wg(){for(var i=window,o=kn();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=kn(i.document)}return o}function xh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function HS(i){var o=Wg(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&$g(u.ownerDocument.documentElement,u)){if(h!==null&&xh(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,_=Math.min(h.start,m);h=h.end===void 0?_:Math.min(h.end,m),!i.extend&&_>h&&(m=h,h=_,_=m),m=zg(u,_);var S=zg(u,h);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),_>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var GS=c&&"documentMode"in document&&11>=document.documentMode,Do=null,Dh=null,nl=null,kh=!1;function Hg(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;kh||Do==null||Do!==kn(h)||(h=Do,"selectionStart"in h&&xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),nl&&tl(nl,h)||(nl=h,h=Qu(Dh,"onSelect"),0<h.length&&(o=new To("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Do)))}function Gu(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ko={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Nh={},Gg={};c&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function qu(i){if(Nh[i])return Nh[i];if(!ko[i])return i;var o=ko[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Gg)return Nh[i]=o[u];return i}var qg=qu("animationend"),Kg=qu("animationiteration"),Qg=qu("animationstart"),Yg=qu("transitionend"),Xg=new Map,Jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(i,o){Xg.set(i,o),a(o,[i])}for(var Oh=0;Oh<Jg.length;Oh++){var Lh=Jg[Oh],qS=Lh.toLowerCase(),KS=Lh[0].toUpperCase()+Lh.slice(1);Si(qS,"on"+KS)}Si(qg,"onAnimationEnd"),Si(Kg,"onAnimationIteration"),Si(Qg,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Yg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Zg(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,Tu(h,o,void 0,i),i.currentTarget=null}function ev(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],m=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var S=h.length-1;0<=S;S--){var D=h[S],M=D.instance,Q=D.currentTarget;if(D=D.listener,M!==_&&m.isPropagationStopped())break e;Zg(m,D,Q),_=M}else for(S=0;S<h.length;S++){if(D=h[S],M=D.instance,Q=D.currentTarget,D=D.listener,M!==_&&m.isPropagationStopped())break e;Zg(m,D,Q),_=M}}}if(Jn)throw i=ja,Jn=!1,ja=null,i}function it(i,o){var u=o[$h];u===void 0&&(u=o[$h]=new Set);var h=i+"__bubble";u.has(h)||(tv(o,i,2,!1),u.add(h))}function Mh(i,o,u){var h=0;o&&(h|=4),tv(u,i,h,o)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function il(i){if(!i[Ku]){i[Ku]=!0,r.forEach(function(u){u!=="selectionchange"&&(QS.has(u)||Mh(u,!1,i),Mh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ku]||(o[Ku]=!0,Mh("selectionchange",!1,o))}}function tv(i,o,u,h){switch(Ka(o)){case 1:var m=at;break;case 4:m=bh;break;default:m=qa}u=m.bind(null,o,u,i),m=void 0,!ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Vh(i,o,u,h,m){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var D=h.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var M=S.tag;if((M===3||M===4)&&(M=S.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;S=S.return}for(;D!==null;){if(S=xs(D),S===null)return;if(M=S.tag,M===5||M===6){h=_=S;continue e}D=D.parentNode}}h=h.return}Ba(function(){var Q=_,ne=lo(u),re=[];e:{var te=Xg.get(i);if(te!==void 0){var ue=To,fe=i;switch(i){case"keypress":if(Io(u)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":fe="focus",ue=Ao;break;case"focusout":fe="blur",ue=Ao;break;case"beforeblur":case"afterblur":ue=Ao;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Y;break;case qg:case Kg:case Qg:ue=Qr;break;case Yg:ue=Ye;break;case"scroll":ue=Ah;break;case"wheel":ue=Be;break;case"copy":case"cut":case"paste":ue=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=b}var me=(o&4)!==0,mt=!me&&i==="scroll",G=me?te!==null?te+"Capture":null:te;me=[];for(var F=Q,K;F!==null;){K=F;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,G!==null&&(ie=pt(F,G),ie!=null&&me.push(sl(F,ie,K)))),mt)break;F=F.return}0<me.length&&(te=new ue(te,fe,null,u,ne),re.push({event:te,listeners:me}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",te&&u!==vs&&(fe=u.relatedTarget||u.fromElement)&&(xs(fe)||fe[Yr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(fe=u.relatedTarget||u.toElement,ue=Q,fe=fe?xs(fe):null,fe!==null&&(mt=Zn(fe),fe!==mt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Q),ue!==fe)){if(me=Co,ie="onMouseLeave",G="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(me=b,ie="onPointerLeave",G="onPointerEnter",F="pointer"),mt=ue==null?te:Lo(ue),K=fe==null?te:Lo(fe),te=new me(ie,F+"leave",ue,u,ne),te.target=mt,te.relatedTarget=K,ie=null,xs(ne)===Q&&(me=new me(G,F+"enter",fe,u,ne),me.target=K,me.relatedTarget=mt,ie=me),mt=ie,ue&&fe)t:{for(me=ue,G=fe,F=0,K=me;K;K=No(K))F++;for(K=0,ie=G;ie;ie=No(ie))K++;for(;0<F-K;)me=No(me),F--;for(;0<K-F;)G=No(G),K--;for(;F--;){if(me===G||G!==null&&me===G.alternate)break t;me=No(me),G=No(G)}me=null}else me=null;ue!==null&&nv(re,te,ue,me,!1),fe!==null&&mt!==null&&nv(re,mt,fe,me,!0)}}e:{if(te=Q?Lo(Q):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ve=US;else if(Lg(te))if(Vg)ve=$S;else{ve=jS;var Ee=BS}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=zS);if(ve&&(ve=ve(i,Q))){Mg(re,ve,u,ne);break e}Ee&&Ee(i,te,Q),i==="focusout"&&(Ee=te._wrapperState)&&Ee.controlled&&te.type==="number"&&On(te,"number",te.value)}switch(Ee=Q?Lo(Q):window,i){case"focusin":(Lg(Ee)||Ee.contentEditable==="true")&&(Do=Ee,Dh=Q,nl=null);break;case"focusout":nl=Dh=Do=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Hg(re,u,ne);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Hg(re,u,ne)}var we;if(yt)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else xo?Ng(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ps&&u.locale!=="ko"&&(xo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&xo&&(we=Qa()):(wn=ne,wo="value"in wn?wn.value:wn.textContent,xo=!0)),Ee=Qu(Q,Ae),0<Ee.length&&(Ae=new Ja(Ae,i,null,u,ne),re.push({event:Ae,listeners:Ee}),we?Ae.data=we:(we=Og(u),we!==null&&(Ae.data=we)))),(we=In?LS(i,u):MS(i,u))&&(Q=Qu(Q,"onBeforeInput"),0<Q.length&&(ne=new Ja("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:Q}),ne.data=we))}ev(re,o)})}function sl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Qu(i,o){for(var u=o+"Capture",h=[];i!==null;){var m=i,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=pt(i,u),_!=null&&h.unshift(sl(i,_,m)),_=pt(i,o),_!=null&&h.push(sl(i,_,m))),i=i.return}return h}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function nv(i,o,u,h,m){for(var _=o._reactName,S=[];u!==null&&u!==h;){var D=u,M=D.alternate,Q=D.stateNode;if(M!==null&&M===h)break;D.tag===5&&Q!==null&&(D=Q,m?(M=pt(u,_),M!=null&&S.unshift(sl(u,M,D))):m||(M=pt(u,_),M!=null&&S.push(sl(u,M,D)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var YS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function rv(i){return(typeof i=="string"?i:""+i).replace(YS,`
`).replace(XS,"")}function Yu(i,o,u){if(o=rv(o),rv(i)!==o&&u)throw Error(t(425))}function Xu(){}var Fh=null,Uh=null;function Bh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(i){return iv.resolve(null).then(i).catch(eC)}:jh;function eC(i){setTimeout(function(){throw i})}function zh(i,o){var u=o,h=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){i.removeChild(m),ir(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);ir(o)}function Ci(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function sv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Oo,ol="__reactProps$"+Oo,Yr="__reactContainer$"+Oo,$h="__reactEvents$"+Oo,tC="__reactListeners$"+Oo,nC="__reactHandles$"+Oo;function xs(i){var o=i[Sr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Yr]||u[Sr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=sv(i);i!==null;){if(u=i[Sr])return u;i=sv(i)}return o}i=u,u=i.parentNode}return null}function al(i){return i=i[Sr]||i[Yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Lo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ju(i){return i[ol]||null}var Wh=[],Mo=-1;function bi(i){return{current:i}}function st(i){0>Mo||(i.current=Wh[Mo],Wh[Mo]=null,Mo--)}function et(i,o){Mo++,Wh[Mo]=i.current,i.current=o}var Ai={},Wt=bi(Ai),ln=bi(!1),Ds=Ai;function Vo(i,o){var u=i.type.contextTypes;if(!u)return Ai;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=o[_];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function un(i){return i=i.childContextTypes,i!=null}function Zu(){st(ln),st(Wt)}function ov(i,o,u){if(Wt.current!==Ai)throw Error(t(168));et(Wt,o),et(ln,u)}function av(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Oe(i)||"Unknown",m));return le({},u,h)}function ec(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ai,Ds=Wt.current,et(Wt,i),et(ln,ln.current),!0}function lv(i,o,u){var h=i.stateNode;if(!h)throw Error(t(169));u?(i=av(i,o,Ds),h.__reactInternalMemoizedMergedChildContext=i,st(ln),st(Wt),et(Wt,i)):st(ln),et(ln,u)}var Xr=null,tc=!1,Hh=!1;function uv(i){Xr===null?Xr=[i]:Xr.push(i)}function rC(i){tc=!0,uv(i)}function Ri(){if(!Hh&&Xr!==null){Hh=!0;var i=0,o=Ue;try{var u=Xr;for(Ue=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}Xr=null,tc=!1}catch(m){throw Xr!==null&&(Xr=Xr.slice(i+1)),go(Is,Ri),m}finally{Ue=o,Hh=!1}}return null}var Fo=[],Uo=0,nc=null,rc=0,Un=[],Bn=0,ks=null,Jr=1,Zr="";function Ns(i,o){Fo[Uo++]=rc,Fo[Uo++]=nc,nc=i,rc=o}function cv(i,o,u){Un[Bn++]=Jr,Un[Bn++]=Zr,Un[Bn++]=ks,ks=i;var h=Jr;i=Zr;var m=32-Zt(h)-1;h&=~(1<<m),u+=1;var _=32-Zt(o)+m;if(30<_){var S=m-m%5;_=(h&(1<<S)-1).toString(32),h>>=S,m-=S,Jr=1<<32-Zt(o)+m|u<<m|h,Zr=_+i}else Jr=1<<_|u<<m|h,Zr=i}function Gh(i){i.return!==null&&(Ns(i,1),cv(i,1,0))}function qh(i){for(;i===nc;)nc=Fo[--Uo],Fo[Uo]=null,rc=Fo[--Uo],Fo[Uo]=null;for(;i===ks;)ks=Un[--Bn],Un[Bn]=null,Zr=Un[--Bn],Un[Bn]=null,Jr=Un[--Bn],Un[Bn]=null}var Tn=null,Sn=null,lt=!1,ar=null;function dv(i,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function hv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Tn=i,Sn=Ci(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Tn=i,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ks!==null?{id:Jr,overflow:Zr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Tn=i,Sn=null,!0):!1;default:return!1}}function Kh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qh(i){if(lt){var o=Sn;if(o){var u=o;if(!hv(i,o)){if(Kh(i))throw Error(t(418));o=Ci(u.nextSibling);var h=Tn;o&&hv(i,o)?dv(h,u):(i.flags=i.flags&-4097|2,lt=!1,Tn=i)}}else{if(Kh(i))throw Error(t(418));i.flags=i.flags&-4097|2,lt=!1,Tn=i}}}function fv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function ic(i){if(i!==Tn)return!1;if(!lt)return fv(i),lt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Bh(i.type,i.memoizedProps)),o&&(o=Sn)){if(Kh(i))throw pv(),Error(t(418));for(;o;)dv(i,o),o=Ci(o.nextSibling)}if(fv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Sn=Ci(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Sn=null}}else Sn=Tn?Ci(i.stateNode.nextSibling):null;return!0}function pv(){for(var i=Sn;i;)i=Ci(i.nextSibling)}function Bo(){Sn=Tn=null,lt=!1}function Yh(i){ar===null?ar=[i]:ar.push(i)}var iC=H.ReactCurrentBatchConfig;function ll(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,i));var m=h,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(S){var D=m.refs;S===null?delete D[_]:D[_]=S},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function sc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function mv(i){var o=i._init;return o(i._payload)}function gv(i){function o(G,F){if(i){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function u(G,F){if(!i)return null;for(;F!==null;)o(G,F),F=F.sibling;return null}function h(G,F){for(G=new Map;F!==null;)F.key!==null?G.set(F.key,F):G.set(F.index,F),F=F.sibling;return G}function m(G,F){return G=Mi(G,F),G.index=0,G.sibling=null,G}function _(G,F,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=2,F):K):(G.flags|=2,F)):(G.flags|=1048576,F)}function S(G){return i&&G.alternate===null&&(G.flags|=2),G}function D(G,F,K,ie){return F===null||F.tag!==6?(F=zf(K,G.mode,ie),F.return=G,F):(F=m(F,K),F.return=G,F)}function M(G,F,K,ie){var ve=K.type;return ve===k?ne(G,F,K.props.children,ie,K.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Qe&&mv(ve)===F.type)?(ie=m(F,K.props),ie.ref=ll(G,F,K),ie.return=G,ie):(ie=Pc(K.type,K.key,K.props,null,G.mode,ie),ie.ref=ll(G,F,K),ie.return=G,ie)}function Q(G,F,K,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=$f(K,G.mode,ie),F.return=G,F):(F=m(F,K.children||[]),F.return=G,F)}function ne(G,F,K,ie,ve){return F===null||F.tag!==7?(F=js(K,G.mode,ie,ve),F.return=G,F):(F=m(F,K),F.return=G,F)}function re(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return F=zf(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case q:return K=Pc(F.type,F.key,F.props,null,G.mode,K),K.ref=ll(G,null,F),K.return=G,K;case J:return F=$f(F,G.mode,K),F.return=G,F;case Qe:var ie=F._init;return re(G,ie(F._payload),K)}if(yn(F)||ge(F))return F=js(F,G.mode,K,null),F.return=G,F;sc(G,F)}return null}function te(G,F,K,ie){var ve=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ve!==null?null:D(G,F,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===ve?M(G,F,K,ie):null;case J:return K.key===ve?Q(G,F,K,ie):null;case Qe:return ve=K._init,te(G,F,ve(K._payload),ie)}if(yn(K)||ge(K))return ve!==null?null:ne(G,F,K,ie,null);sc(G,K)}return null}function ue(G,F,K,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return G=G.get(K)||null,D(F,G,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case q:return G=G.get(ie.key===null?K:ie.key)||null,M(F,G,ie,ve);case J:return G=G.get(ie.key===null?K:ie.key)||null,Q(F,G,ie,ve);case Qe:var Ee=ie._init;return ue(G,F,K,Ee(ie._payload),ve)}if(yn(ie)||ge(ie))return G=G.get(K)||null,ne(F,G,ie,ve,null);sc(F,ie)}return null}function fe(G,F,K,ie){for(var ve=null,Ee=null,we=F,Ae=F=0,kt=null;we!==null&&Ae<K.length;Ae++){we.index>Ae?(kt=we,we=null):kt=we.sibling;var We=te(G,we,K[Ae],ie);if(We===null){we===null&&(we=kt);break}i&&we&&We.alternate===null&&o(G,we),F=_(We,F,Ae),Ee===null?ve=We:Ee.sibling=We,Ee=We,we=kt}if(Ae===K.length)return u(G,we),lt&&Ns(G,Ae),ve;if(we===null){for(;Ae<K.length;Ae++)we=re(G,K[Ae],ie),we!==null&&(F=_(we,F,Ae),Ee===null?ve=we:Ee.sibling=we,Ee=we);return lt&&Ns(G,Ae),ve}for(we=h(G,we);Ae<K.length;Ae++)kt=ue(we,G,Ae,K[Ae],ie),kt!==null&&(i&&kt.alternate!==null&&we.delete(kt.key===null?Ae:kt.key),F=_(kt,F,Ae),Ee===null?ve=kt:Ee.sibling=kt,Ee=kt);return i&&we.forEach(function(Vi){return o(G,Vi)}),lt&&Ns(G,Ae),ve}function me(G,F,K,ie){var ve=ge(K);if(typeof ve!="function")throw Error(t(150));if(K=ve.call(K),K==null)throw Error(t(151));for(var Ee=ve=null,we=F,Ae=F=0,kt=null,We=K.next();we!==null&&!We.done;Ae++,We=K.next()){we.index>Ae?(kt=we,we=null):kt=we.sibling;var Vi=te(G,we,We.value,ie);if(Vi===null){we===null&&(we=kt);break}i&&we&&Vi.alternate===null&&o(G,we),F=_(Vi,F,Ae),Ee===null?ve=Vi:Ee.sibling=Vi,Ee=Vi,we=kt}if(We.done)return u(G,we),lt&&Ns(G,Ae),ve;if(we===null){for(;!We.done;Ae++,We=K.next())We=re(G,We.value,ie),We!==null&&(F=_(We,F,Ae),Ee===null?ve=We:Ee.sibling=We,Ee=We);return lt&&Ns(G,Ae),ve}for(we=h(G,we);!We.done;Ae++,We=K.next())We=ue(we,G,Ae,We.value,ie),We!==null&&(i&&We.alternate!==null&&we.delete(We.key===null?Ae:We.key),F=_(We,F,Ae),Ee===null?ve=We:Ee.sibling=We,Ee=We);return i&&we.forEach(function(VC){return o(G,VC)}),lt&&Ns(G,Ae),ve}function mt(G,F,K,ie){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var ve=K.key,Ee=F;Ee!==null;){if(Ee.key===ve){if(ve=K.type,ve===k){if(Ee.tag===7){u(G,Ee.sibling),F=m(Ee,K.props.children),F.return=G,G=F;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Qe&&mv(ve)===Ee.type){u(G,Ee.sibling),F=m(Ee,K.props),F.ref=ll(G,Ee,K),F.return=G,G=F;break e}u(G,Ee);break}else o(G,Ee);Ee=Ee.sibling}K.type===k?(F=js(K.props.children,G.mode,ie,K.key),F.return=G,G=F):(ie=Pc(K.type,K.key,K.props,null,G.mode,ie),ie.ref=ll(G,F,K),ie.return=G,G=ie)}return S(G);case J:e:{for(Ee=K.key;F!==null;){if(F.key===Ee)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){u(G,F.sibling),F=m(F,K.children||[]),F.return=G,G=F;break e}else{u(G,F);break}else o(G,F);F=F.sibling}F=$f(K,G.mode,ie),F.return=G,G=F}return S(G);case Qe:return Ee=K._init,mt(G,F,Ee(K._payload),ie)}if(yn(K))return fe(G,F,K,ie);if(ge(K))return me(G,F,K,ie);sc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,F!==null&&F.tag===6?(u(G,F.sibling),F=m(F,K),F.return=G,G=F):(u(G,F),F=zf(K,G.mode,ie),F.return=G,G=F),S(G)):u(G,F)}return mt}var jo=gv(!0),vv=gv(!1),oc=bi(null),ac=null,zo=null,Xh=null;function Jh(){Xh=zo=ac=null}function Zh(i){var o=oc.current;st(oc),i._currentValue=o}function ef(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function $o(i,o){ac=i,Xh=zo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(cn=!0),i.firstContext=null)}function jn(i){var o=i._currentValue;if(Xh!==i)if(i={context:i,memoizedValue:o,next:null},zo===null){if(ac===null)throw Error(t(308));zo=i,ac.dependencies={lanes:0,firstContext:i}}else zo=zo.next=i;return o}var Os=null;function tf(i){Os===null?Os=[i]:Os.push(i)}function yv(i,o,u,h){var m=o.interleaved;return m===null?(u.next=u,tf(o)):(u.next=m.next,m.next=u),o.interleaved=u,ei(i,h)}function ei(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Pi=!1;function nf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _v(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ti(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function xi(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ze&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,ei(i,u)}return m=h.interleaved,m===null?(o.next=o,tf(h)):(o.next=m.next,m.next=o),h.interleaved=o,ei(i,u)}function lc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,_i(i,u)}}function Ev(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?m=_=o:_=_.next=o}else m=_=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function uc(i,o,u,h){var m=i.updateQueue;Pi=!1;var _=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var M=D,Q=M.next;M.next=null,S===null?_=Q:S.next=Q,S=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,D=ne.lastBaseUpdate,D!==S&&(D===null?ne.firstBaseUpdate=Q:D.next=Q,ne.lastBaseUpdate=M))}if(_!==null){var re=m.baseState;S=0,ne=Q=M=null,D=_;do{var te=D.lane,ue=D.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var fe=i,me=D;switch(te=o,ue=u,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){re=fe.call(ue,re,te);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,te=typeof fe=="function"?fe.call(ue,re,te):fe,te==null)break e;re=le({},re,te);break e;case 2:Pi=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[D]:te.push(D))}else ue={eventTime:ue,lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ne===null?(Q=ne=ue,M=re):ne=ne.next=ue,S|=te;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;te=D,D=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(M=re),m.baseState=M,m.firstBaseUpdate=Q,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);Vs|=S,i.lanes=S,i.memoizedState=re}}function wv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var ul={},Cr=bi(ul),cl=bi(ul),dl=bi(ul);function Ls(i){if(i===ul)throw Error(t(174));return i}function rf(i,o){switch(et(dl,o),et(cl,i),et(Cr,ul),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Tt(o,i)}st(Cr),et(Cr,o)}function Wo(){st(Cr),st(cl),st(dl)}function Iv(i){Ls(dl.current);var o=Ls(Cr.current),u=Tt(o,i.type);o!==u&&(et(cl,i),et(Cr,u))}function sf(i){cl.current===i&&(st(Cr),st(cl))}var ut=bi(0);function cc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var of=[];function af(){for(var i=0;i<of.length;i++)of[i]._workInProgressVersionPrimary=null;of.length=0}var dc=H.ReactCurrentDispatcher,lf=H.ReactCurrentBatchConfig,Ms=0,ct=null,Ct=null,xt=null,hc=!1,hl=!1,fl=0,sC=0;function Ht(){throw Error(t(321))}function uf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!or(i[u],o[u]))return!1;return!0}function cf(i,o,u,h,m,_){if(Ms=_,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,dc.current=i===null||i.memoizedState===null?uC:cC,i=u(h,m),hl){_=0;do{if(hl=!1,fl=0,25<=_)throw Error(t(301));_+=1,xt=Ct=null,o.updateQueue=null,dc.current=dC,i=u(h,m)}while(hl)}if(dc.current=mc,o=Ct!==null&&Ct.next!==null,Ms=0,xt=Ct=ct=null,hc=!1,o)throw Error(t(300));return i}function df(){var i=fl!==0;return fl=0,i}function br(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ct.memoizedState=xt=i:xt=xt.next=i,xt}function zn(){if(Ct===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var o=xt===null?ct.memoizedState:xt.next;if(o!==null)xt=o,Ct=i;else{if(i===null)throw Error(t(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},xt===null?ct.memoizedState=xt=i:xt=xt.next=i}return xt}function pl(i,o){return typeof o=="function"?o(i):o}function hf(i){var o=zn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=Ct,m=h.baseQueue,_=u.pending;if(_!==null){if(m!==null){var S=m.next;m.next=_.next,_.next=S}h.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,h=h.baseState;var D=S=null,M=null,Q=_;do{var ne=Q.lane;if((Ms&ne)===ne)M!==null&&(M=M.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:i(h,Q.action);else{var re={lane:ne,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};M===null?(D=M=re,S=h):M=M.next=re,ct.lanes|=ne,Vs|=ne}Q=Q.next}while(Q!==null&&Q!==_);M===null?S=h:M.next=D,or(h,o.memoizedState)||(cn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=M,u.lastRenderedState=h}if(i=u.interleaved,i!==null){m=i;do _=m.lane,ct.lanes|=_,Vs|=_,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ff(i){var o=zn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var h=u.dispatch,m=u.pending,_=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do _=i(_,S.action),S=S.next;while(S!==m);or(_,o.memoizedState)||(cn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,h]}function Tv(){}function Sv(i,o){var u=ct,h=zn(),m=o(),_=!or(h.memoizedState,m);if(_&&(h.memoizedState=m,cn=!0),h=h.queue,pf(Av.bind(null,u,h,i),[i]),h.getSnapshot!==o||_||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,ml(9,bv.bind(null,u,h,m,o),void 0,null),Dt===null)throw Error(t(349));(Ms&30)!==0||Cv(u,o,m)}return m}function Cv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function bv(i,o,u,h){o.value=u,o.getSnapshot=h,Rv(o)&&Pv(i)}function Av(i,o,u){return u(function(){Rv(o)&&Pv(i)})}function Rv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!or(i,u)}catch{return!0}}function Pv(i){var o=ei(i,1);o!==null&&dr(o,i,1,-1)}function xv(i){var o=br();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:i},o.queue=i,i=i.dispatch=lC.bind(null,ct,i),[o.memoizedState,i]}function ml(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function Dv(){return zn().memoizedState}function fc(i,o,u,h){var m=br();ct.flags|=i,m.memoizedState=ml(1|o,u,void 0,h===void 0?null:h)}function pc(i,o,u,h){var m=zn();h=h===void 0?null:h;var _=void 0;if(Ct!==null){var S=Ct.memoizedState;if(_=S.destroy,h!==null&&uf(h,S.deps)){m.memoizedState=ml(o,u,_,h);return}}ct.flags|=i,m.memoizedState=ml(1|o,u,_,h)}function kv(i,o){return fc(8390656,8,i,o)}function pf(i,o){return pc(2048,8,i,o)}function Nv(i,o){return pc(4,2,i,o)}function Ov(i,o){return pc(4,4,i,o)}function Lv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Mv(i,o,u){return u=u!=null?u.concat([i]):null,pc(4,4,Lv.bind(null,o,i),u)}function mf(){}function Vv(i,o){var u=zn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&uf(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function Fv(i,o){var u=zn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&uf(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function Uv(i,o,u){return(Ms&21)===0?(i.baseState&&(i.baseState=!1,cn=!0),i.memoizedState=u):(or(u,o)||(u=Cs(),ct.lanes|=u,Vs|=u,i.baseState=!0),o)}function oC(i,o){var u=Ue;Ue=u!==0&&4>u?u:4,i(!0);var h=lf.transition;lf.transition={};try{i(!1),o()}finally{Ue=u,lf.transition=h}}function Bv(){return zn().memoizedState}function aC(i,o,u){var h=Oi(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},jv(i))zv(o,u);else if(u=yv(i,o,u,h),u!==null){var m=nn();dr(u,i,h,m),$v(u,o,h)}}function lC(i,o,u){var h=Oi(i),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(jv(i))zv(o,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,D=_(S,u);if(m.hasEagerState=!0,m.eagerState=D,or(D,S)){var M=o.interleaved;M===null?(m.next=m,tf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=yv(i,o,m,h),u!==null&&(m=nn(),dr(u,i,h,m),$v(u,o,h))}}function jv(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function zv(i,o){hl=hc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function $v(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,_i(i,u)}}var mc={readContext:jn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},uC={readContext:jn,useCallback:function(i,o){return br().memoizedState=[i,o===void 0?null:o],i},useContext:jn,useEffect:kv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,fc(4194308,4,Lv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return fc(4194308,4,i,o)},useInsertionEffect:function(i,o){return fc(4,2,i,o)},useMemo:function(i,o){var u=br();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=br();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=aC.bind(null,ct,i),[h.memoizedState,i]},useRef:function(i){var o=br();return i={current:i},o.memoizedState=i},useState:xv,useDebugValue:mf,useDeferredValue:function(i){return br().memoizedState=i},useTransition:function(){var i=xv(!1),o=i[0];return i=oC.bind(null,i[1]),br().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=ct,m=br();if(lt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Dt===null)throw Error(t(349));(Ms&30)!==0||Cv(h,o,u)}m.memoizedState=u;var _={value:u,getSnapshot:o};return m.queue=_,kv(Av.bind(null,h,_,i),[i]),h.flags|=2048,ml(9,bv.bind(null,h,_,u,o),void 0,null),u},useId:function(){var i=br(),o=Dt.identifierPrefix;if(lt){var u=Zr,h=Jr;u=(h&~(1<<32-Zt(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=fl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=sC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},cC={readContext:jn,useCallback:Vv,useContext:jn,useEffect:pf,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Ov,useMemo:Fv,useReducer:hf,useRef:Dv,useState:function(){return hf(pl)},useDebugValue:mf,useDeferredValue:function(i){var o=zn();return Uv(o,Ct.memoizedState,i)},useTransition:function(){var i=hf(pl)[0],o=zn().memoizedState;return[i,o]},useMutableSource:Tv,useSyncExternalStore:Sv,useId:Bv,unstable_isNewReconciler:!1},dC={readContext:jn,useCallback:Vv,useContext:jn,useEffect:pf,useImperativeHandle:Mv,useInsertionEffect:Nv,useLayoutEffect:Ov,useMemo:Fv,useReducer:ff,useRef:Dv,useState:function(){return ff(pl)},useDebugValue:mf,useDeferredValue:function(i){var o=zn();return Ct===null?o.memoizedState=i:Uv(o,Ct.memoizedState,i)},useTransition:function(){var i=ff(pl)[0],o=zn().memoizedState;return[i,o]},useMutableSource:Tv,useSyncExternalStore:Sv,useId:Bv,unstable_isNewReconciler:!1};function lr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function gf(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var gc={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=nn(),m=Oi(i),_=ti(h,m);_.payload=o,u!=null&&(_.callback=u),o=xi(i,_,m),o!==null&&(dr(o,i,m,h),lc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=nn(),m=Oi(i),_=ti(h,m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=xi(i,_,m),o!==null&&(dr(o,i,m,h),lc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=nn(),h=Oi(i),m=ti(u,h);m.tag=2,o!=null&&(m.callback=o),o=xi(i,m,h),o!==null&&(dr(o,i,h,u),lc(o,i,h))}};function Wv(i,o,u,h,m,_,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,S):o.prototype&&o.prototype.isPureReactComponent?!tl(u,h)||!tl(m,_):!0}function Hv(i,o,u){var h=!1,m=Ai,_=o.contextType;return typeof _=="object"&&_!==null?_=jn(_):(m=un(o)?Ds:Wt.current,h=o.contextTypes,_=(h=h!=null)?Vo(i,m):Ai),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=gc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=_),o}function Gv(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&gc.enqueueReplaceState(o,o.state,null)}function vf(i,o,u,h){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},nf(i);var _=o.contextType;typeof _=="object"&&_!==null?m.context=jn(_):(_=un(o)?Ds:Wt.current,m.context=Vo(i,_)),m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(gf(i,o,_,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&gc.enqueueReplaceState(m,m.state,null),uc(i,u,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ho(i,o){try{var u="",h=o;do u+=be(h),h=h.return;while(h);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:m,digest:null}}function yf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function _f(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var hC=typeof WeakMap=="function"?WeakMap:Map;function qv(i,o,u){u=ti(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Tc||(Tc=!0,Of=h),_f(i,o)},u}function Kv(i,o,u){u=ti(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){_f(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){_f(i,o),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function Qv(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new hC;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),i=bC.bind(null,i,o,u),o.then(i,i))}function Yv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Xv(i,o,u,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ti(-1,1),o.tag=2,xi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var fC=H.ReactCurrentOwner,cn=!1;function tn(i,o,u,h){o.child=i===null?vv(o,null,u,h):jo(o,i.child,u,h)}function Jv(i,o,u,h,m){u=u.render;var _=o.ref;return $o(o,m),h=cf(i,o,u,h,_,m),u=df(),i!==null&&!cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ni(i,o,m)):(lt&&u&&Gh(o),o.flags|=1,tn(i,o,h,m),o.child)}function Zv(i,o,u,h,m){if(i===null){var _=u.type;return typeof _=="function"&&!jf(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,ey(i,o,_,h,m)):(i=Pc(u.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&m)===0){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:tl,u(S,h)&&i.ref===o.ref)return ni(i,o,m)}return o.flags|=1,i=Mi(_,h),i.ref=o.ref,i.return=o,o.child=i}function ey(i,o,u,h,m){if(i!==null){var _=i.memoizedProps;if(tl(_,h)&&i.ref===o.ref)if(cn=!1,o.pendingProps=h=_,(i.lanes&m)!==0)(i.flags&131072)!==0&&(cn=!0);else return o.lanes=i.lanes,ni(i,o,m)}return Ef(i,o,u,h,m)}function ty(i,o,u){var h=o.pendingProps,m=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(qo,Cn),Cn|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,et(qo,Cn),Cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:u,et(qo,Cn),Cn|=h}else _!==null?(h=_.baseLanes|u,o.memoizedState=null):h=u,et(qo,Cn),Cn|=h;return tn(i,o,m,u),o.child}function ny(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ef(i,o,u,h,m){var _=un(u)?Ds:Wt.current;return _=Vo(o,_),$o(o,m),u=cf(i,o,u,h,_,m),h=df(),i!==null&&!cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ni(i,o,m)):(lt&&h&&Gh(o),o.flags|=1,tn(i,o,u,m),o.child)}function ry(i,o,u,h,m){if(un(u)){var _=!0;ec(o)}else _=!1;if($o(o,m),o.stateNode===null)yc(i,o),Hv(o,u,h),vf(o,u,h,m),h=!0;else if(i===null){var S=o.stateNode,D=o.memoizedProps;S.props=D;var M=S.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=jn(Q):(Q=un(u)?Ds:Wt.current,Q=Vo(o,Q));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==h||M!==Q)&&Gv(o,S,h,Q),Pi=!1;var te=o.memoizedState;S.state=te,uc(o,h,S,m),M=o.memoizedState,D!==h||te!==M||ln.current||Pi?(typeof ne=="function"&&(gf(o,u,ne,h),M=o.memoizedState),(D=Pi||Wv(o,u,D,h,te,M,Q))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=M),S.props=h,S.state=M,S.context=Q,h=D):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,_v(i,o),D=o.memoizedProps,Q=o.type===o.elementType?D:lr(o.type,D),S.props=Q,re=o.pendingProps,te=S.context,M=u.contextType,typeof M=="object"&&M!==null?M=jn(M):(M=un(u)?Ds:Wt.current,M=Vo(o,M));var ue=u.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==re||te!==M)&&Gv(o,S,h,M),Pi=!1,te=o.memoizedState,S.state=te,uc(o,h,S,m);var fe=o.memoizedState;D!==re||te!==fe||ln.current||Pi?(typeof ue=="function"&&(gf(o,u,ue,h),fe=o.memoizedState),(Q=Pi||Wv(o,u,Q,h,te,fe,M)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,fe,M),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,fe,M)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=fe),S.props=h,S.state=fe,S.context=M,h=Q):(typeof S.componentDidUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),h=!1)}return wf(i,o,u,h,_,m)}function wf(i,o,u,h,m,_){ny(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&lv(o,u,!1),ni(i,o,_);h=o.stateNode,fC.current=o;var D=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=jo(o,i.child,null,_),o.child=jo(o,null,D,_)):tn(i,o,D,_),o.memoizedState=h.state,m&&lv(o,u,!0),o.child}function iy(i){var o=i.stateNode;o.pendingContext?ov(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ov(i,o.context,!1),rf(i,o.containerInfo)}function sy(i,o,u,h,m){return Bo(),Yh(m),o.flags|=256,tn(i,o,u,h),o.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Tf(i){return{baseLanes:i,cachePool:null,transitions:null}}function oy(i,o,u){var h=o.pendingProps,m=ut.current,_=!1,S=(o.flags&128)!==0,D;if((D=S)||(D=i!==null&&i.memoizedState===null?!1:(m&2)!==0),D?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(ut,m&1),i===null)return Qh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,i=h.fallback,_?(h=o.mode,_=o.child,S={mode:"hidden",children:S},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=xc(S,h,0,null),i=js(i,h,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=Tf(u),o.memoizedState=If,i):Sf(o,S));if(m=i.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return pC(i,o,S,h,D,m,u);if(_){_=h.fallback,S=o.mode,m=i.child,D=m.sibling;var M={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=M,o.deletions=null):(h=Mi(m,M),h.subtreeFlags=m.subtreeFlags&14680064),D!==null?_=Mi(D,_):(_=js(_,S,u,null),_.flags|=2),_.return=o,h.return=o,h.sibling=_,o.child=h,h=_,_=o.child,S=i.child.memoizedState,S=S===null?Tf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=i.childLanes&~u,o.memoizedState=If,h}return _=i.child,i=_.sibling,h=Mi(_,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function Sf(i,o){return o=xc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function vc(i,o,u,h){return h!==null&&Yh(h),jo(o,i.child,null,u),i=Sf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function pC(i,o,u,h,m,_,S){if(u)return o.flags&256?(o.flags&=-257,h=yf(Error(t(422))),vc(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=h.fallback,m=o.mode,h=xc({mode:"visible",children:h.children},m,0,null),_=js(_,m,S,null),_.flags|=2,h.return=o,_.return=o,h.sibling=_,o.child=h,(o.mode&1)!==0&&jo(o,i.child,null,S),o.child.memoizedState=Tf(S),o.memoizedState=If,_);if((o.mode&1)===0)return vc(i,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var D=h.dgst;return h=D,_=Error(t(419)),h=yf(_,h,void 0),vc(i,o,S,h)}if(D=(S&i.childLanes)!==0,cn||D){if(h=Dt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,ei(i,m),dr(h,i,m,-1))}return Bf(),h=yf(Error(t(421))),vc(i,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=AC.bind(null,i),m._reactRetry=o,null):(i=_.treeContext,Sn=Ci(m.nextSibling),Tn=o,lt=!0,ar=null,i!==null&&(Un[Bn++]=Jr,Un[Bn++]=Zr,Un[Bn++]=ks,Jr=i.id,Zr=i.overflow,ks=o),o=Sf(o,h.children),o.flags|=4096,o)}function ay(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),ef(i.return,o,u)}function Cf(i,o,u,h,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=u,_.tailMode=m)}function ly(i,o,u){var h=o.pendingProps,m=h.revealOrder,_=h.tail;if(tn(i,o,h.children,u),h=ut.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ay(i,u,o);else if(i.tag===19)ay(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(et(ut,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&cc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Cf(o,!1,m,u,_);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&cc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Cf(o,!0,u,null,_);break;case"together":Cf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function yc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ni(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Vs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Mi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Mi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function mC(i,o,u){switch(o.tag){case 3:iy(o),Bo();break;case 5:Iv(o);break;case 1:un(o.type)&&ec(o);break;case 4:rf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;et(oc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(et(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?oy(i,o,u):(et(ut,ut.current&1),i=ni(i,o,u),i!==null?i.sibling:null);et(ut,ut.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return ly(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ut,ut.current),h)break;return null;case 22:case 23:return o.lanes=0,ty(i,o,u)}return ni(i,o,u)}var uy,bf,cy,dy;uy=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},bf=function(){},cy=function(i,o,u,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,Ls(Cr.current);var _=null;switch(u){case"input":m=Nn(i,m),h=Nn(i,h),_=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),_=[];break;case"textarea":m=xa(i,m),h=xa(i,h),_=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Xu)}Ma(u,h);var S;u=null;for(Q in m)if(!h.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var D=m[Q];for(S in D)D.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in h){var M=h[Q];if(D=m!=null?m[Q]:void 0,h.hasOwnProperty(Q)&&M!==D&&(M!=null||D!=null))if(Q==="style")if(D){for(S in D)!D.hasOwnProperty(S)||M&&M.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in M)M.hasOwnProperty(S)&&D[S]!==M[S]&&(u||(u={}),u[S]=M[S])}else u||(_||(_=[]),_.push(Q,u)),u=M;else Q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,D=D?D.__html:void 0,M!=null&&D!==M&&(_=_||[]).push(Q,M)):Q==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(Q,""+M):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(M!=null&&Q==="onScroll"&&it("scroll",i),_||D===M||(_=[])):(_=_||[]).push(Q,M))}u&&(_=_||[]).push("style",u);var Q=_;(o.updateQueue=Q)&&(o.flags|=4)}},dy=function(i,o,u,h){u!==h&&(o.flags|=4)};function gl(i,o){if(!lt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function gC(i,o,u){var h=o.pendingProps;switch(qh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return un(o.type)&&Zu(),Gt(o),null;case 3:return h=o.stateNode,Wo(),st(ln),st(Wt),af(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ic(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ar!==null&&(Vf(ar),ar=null))),bf(i,o),Gt(o),null;case 5:sf(o);var m=Ls(dl.current);if(u=o.type,i!==null&&o.stateNode!=null)cy(i,o,u,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Gt(o),null}if(i=Ls(Cr.current),ic(o)){h=o.stateNode,u=o.type;var _=o.memoizedProps;switch(h[Sr]=o,h[ol]=_,i=(o.mode&1)!==0,u){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(m=0;m<rl.length;m++)it(rl[m],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":Ur(h,_),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},it("invalid",h);break;case"textarea":oo(h,_),it("invalid",h)}Ma(u,_),m=null;for(var S in _)if(_.hasOwnProperty(S)){var D=_[S];S==="children"?typeof D=="string"?h.textContent!==D&&(_.suppressHydrationWarning!==!0&&Yu(h.textContent,D,i),m=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Yu(h.textContent,D,i),m=["children",""+D]):s.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&it("scroll",h)}switch(u){case"input":vn(h),so(h,_,!0);break;case"textarea":vn(h),Da(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=Xu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=It(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(u,{is:h.is}):(i=S.createElement(u),u==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,u),i[Sr]=o,i[ol]=h,uy(i,o,!1,!1),o.stateNode=i;e:{switch(S=Va(u,h),u){case"dialog":it("cancel",i),it("close",i),m=h;break;case"iframe":case"object":case"embed":it("load",i),m=h;break;case"video":case"audio":for(m=0;m<rl.length;m++)it(rl[m],i);m=h;break;case"source":it("error",i),m=h;break;case"img":case"image":case"link":it("error",i),it("load",i),m=h;break;case"details":it("toggle",i),m=h;break;case"input":Ur(i,h),m=Nn(i,h),it("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),it("invalid",i);break;case"textarea":oo(i,h),m=xa(i,h),it("invalid",i);break;default:m=h}Ma(u,m),D=m;for(_ in D)if(D.hasOwnProperty(_)){var M=D[_];_==="style"?Oa(i,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ka(i,M)):_==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&pi(i,M):typeof M=="number"&&pi(i,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?M!=null&&_==="onScroll"&&it("scroll",i):M!=null&&B(i,_,M,S))}switch(u){case"input":vn(i),so(i,h,!1);break;case"textarea":vn(i),Da(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Le(h.value));break;case"select":i.multiple=!!h.multiple,_=h.value,_!=null?zr(i,!!h.multiple,_,!1):h.defaultValue!=null&&zr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Xu)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)dy(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Ls(dl.current),Ls(Cr.current),ic(o)){if(h=o.stateNode,u=o.memoizedProps,h[Sr]=o,(_=h.nodeValue!==u)&&(i=Tn,i!==null))switch(i.tag){case 3:Yu(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yu(h.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Sr]=o,o.stateNode=h}return Gt(o),null;case 13:if(st(ut),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)pv(),Bo(),o.flags|=98560,_=!1;else if(_=ic(o),h!==null&&h.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Sr]=o}else Bo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),_=!1}else ar!==null&&(Vf(ar),ar=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?bt===0&&(bt=3):Bf())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return Wo(),bf(i,o),i===null&&il(o.stateNode.containerInfo),Gt(o),null;case 10:return Zh(o.type._context),Gt(o),null;case 17:return un(o.type)&&Zu(),Gt(o),null;case 19:if(st(ut),_=o.memoizedState,_===null)return Gt(o),null;if(h=(o.flags&128)!==0,S=_.rendering,S===null)if(h)gl(_,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=cc(i),S!==null){for(o.flags|=128,gl(_,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)_=u,i=h,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,i=S.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return et(ut,ut.current&1|2),o.child}i=i.sibling}_.tail!==null&&Ze()>Ko&&(o.flags|=128,h=!0,gl(_,!1),o.lanes=4194304)}else{if(!h)if(i=cc(S),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),gl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!lt)return Gt(o),null}else 2*Ze()-_.renderingStartTime>Ko&&u!==1073741824&&(o.flags|=128,h=!0,gl(_,!1),o.lanes=4194304);_.isBackwards?(S.sibling=o.child,o.child=S):(u=_.last,u!==null?u.sibling=S:o.child=S,_.last=S)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ze(),o.sibling=null,u=ut.current,et(ut,h?u&1|2:u&1),o):(Gt(o),null);case 22:case 23:return Uf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Cn&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function vC(i,o){switch(qh(o),o.tag){case 1:return un(o.type)&&Zu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Wo(),st(ln),st(Wt),af(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return sf(o),null;case 13:if(st(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Bo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return st(ut),null;case 4:return Wo(),null;case 10:return Zh(o.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var _c=!1,qt=!1,yC=typeof WeakSet=="function"?WeakSet:Set,he=null;function Go(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){ht(i,o,h)}else u.current=null}function Af(i,o,u){try{u()}catch(h){ht(i,o,h)}}var hy=!1;function _C(i,o){if(Fh=Ii,i=Wg(),xh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,D=-1,M=-1,Q=0,ne=0,re=i,te=null;t:for(;;){for(var ue;re!==u||m!==0&&re.nodeType!==3||(D=S+m),re!==_||h!==0&&re.nodeType!==3||(M=S+h),re.nodeType===3&&(S+=re.nodeValue.length),(ue=re.firstChild)!==null;)te=re,re=ue;for(;;){if(re===i)break t;if(te===u&&++Q===m&&(D=S),te===_&&++ne===h&&(M=S),(ue=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ue}u=D===-1||M===-1?null:{start:D,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Uh={focusedElem:i,selectionRange:u},Ii=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,mt=fe.memoizedState,G=o.stateNode,F=G.getSnapshotBeforeUpdate(o.elementType===o.type?me:lr(o.type,me),mt);G.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ht(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return fe=hy,hy=!1,fe}function vl(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var _=m.destroy;m.destroy=void 0,_!==void 0&&Af(o,u,_)}m=m.next}while(m!==h)}}function Ec(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Rf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function fy(i){var o=i.alternate;o!==null&&(i.alternate=null,fy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Sr],delete o[ol],delete o[$h],delete o[tC],delete o[nC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function py(i){return i.tag===5||i.tag===3||i.tag===4}function my(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||py(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pf(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xu));else if(h!==4&&(i=i.child,i!==null))for(Pf(i,o,u),i=i.sibling;i!==null;)Pf(i,o,u),i=i.sibling}function xf(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(xf(i,o,u),i=i.sibling;i!==null;)xf(i,o,u),i=i.sibling}var Ft=null,ur=!1;function Di(i,o,u){for(u=u.child;u!==null;)gy(i,o,u),u=u.sibling}function gy(i,o,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Ts,u)}catch{}switch(u.tag){case 5:qt||Go(u,o);case 6:var h=Ft,m=ur;Ft=null,Di(i,o,u),Ft=h,ur=m,Ft!==null&&(ur?(i=Ft,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ft.removeChild(u.stateNode));break;case 18:Ft!==null&&(ur?(i=Ft,u=u.stateNode,i.nodeType===8?zh(i.parentNode,u):i.nodeType===1&&zh(i,u),ir(i)):zh(Ft,u.stateNode));break;case 4:h=Ft,m=ur,Ft=u.stateNode.containerInfo,ur=!0,Di(i,o,u),Ft=h,ur=m;break;case 0:case 11:case 14:case 15:if(!qt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var _=m,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&Af(u,o,S),m=m.next}while(m!==h)}Di(i,o,u);break;case 1:if(!qt&&(Go(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(D){ht(u,o,D)}Di(i,o,u);break;case 21:Di(i,o,u);break;case 22:u.mode&1?(qt=(h=qt)||u.memoizedState!==null,Di(i,o,u),qt=h):Di(i,o,u);break;default:Di(i,o,u)}}function vy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new yC),o.forEach(function(h){var m=RC.bind(null,i,h);u.has(h)||(u.add(h),h.then(m,m))})}}function cr(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var _=i,S=o,D=S;e:for(;D!==null;){switch(D.tag){case 5:Ft=D.stateNode,ur=!1;break e;case 3:Ft=D.stateNode.containerInfo,ur=!0;break e;case 4:Ft=D.stateNode.containerInfo,ur=!0;break e}D=D.return}if(Ft===null)throw Error(t(160));gy(_,S,m),Ft=null,ur=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Q){ht(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)yy(o,i),o=o.sibling}function yy(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(cr(o,i),Ar(i),h&4){try{vl(3,i,i.return),Ec(3,i)}catch(me){ht(i,i.return,me)}try{vl(5,i,i.return)}catch(me){ht(i,i.return,me)}}break;case 1:cr(o,i),Ar(i),h&512&&u!==null&&Go(u,u.return);break;case 5:if(cr(o,i),Ar(i),h&512&&u!==null&&Go(u,u.return),i.flags&32){var m=i.stateNode;try{pi(m,"")}catch(me){ht(i,i.return,me)}}if(h&4&&(m=i.stateNode,m!=null)){var _=i.memoizedProps,S=u!==null?u.memoizedProps:_,D=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&Br(m,_),Va(D,S);var Q=Va(D,_);for(S=0;S<M.length;S+=2){var ne=M[S],re=M[S+1];ne==="style"?Oa(m,re):ne==="dangerouslySetInnerHTML"?ka(m,re):ne==="children"?pi(m,re):B(m,ne,re,Q)}switch(D){case"input":jr(m,_);break;case"textarea":ao(m,_);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?zr(m,!!_.multiple,ue,!1):te!==!!_.multiple&&(_.defaultValue!=null?zr(m,!!_.multiple,_.defaultValue,!0):zr(m,!!_.multiple,_.multiple?[]:"",!1))}m[ol]=_}catch(me){ht(i,i.return,me)}}break;case 6:if(cr(o,i),Ar(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,_=i.memoizedProps;try{m.nodeValue=_}catch(me){ht(i,i.return,me)}}break;case 3:if(cr(o,i),Ar(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ir(o.containerInfo)}catch(me){ht(i,i.return,me)}break;case 4:cr(o,i),Ar(i);break;case 13:cr(o,i),Ar(i),m=i.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Nf=Ze())),h&4&&vy(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(qt=(Q=qt)||ne,cr(o,i),qt=Q):cr(o,i),Ar(i),h&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(re=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:vl(4,te,te.return);break;case 1:Go(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){h=te,u=te.return;try{o=h,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(me){ht(h,u,me)}}break;case 5:Go(te,te.return);break;case 22:if(te.memoizedState!==null){wy(re);continue}}ue!==null?(ue.return=te,he=ue):wy(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,Q?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=re.stateNode,M=re.memoizedProps.style,S=M!=null&&M.hasOwnProperty("display")?M.display:null,D.style.display=Na("display",S))}catch(me){ht(i,i.return,me)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=Q?"":re.memoizedProps}catch(me){ht(i,i.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:cr(o,i),Ar(i),h&4&&vy(i);break;case 21:break;default:cr(o,i),Ar(i)}}function Ar(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(py(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(pi(m,""),h.flags&=-33);var _=my(i);xf(i,_,m);break;case 3:case 4:var S=h.stateNode.containerInfo,D=my(i);Pf(i,D,S);break;default:throw Error(t(161))}}catch(M){ht(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function EC(i,o,u){he=i,_y(i)}function _y(i,o,u){for(var h=(i.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||_c;if(!S){var D=m.alternate,M=D!==null&&D.memoizedState!==null||qt;D=_c;var Q=qt;if(_c=S,(qt=M)&&!Q)for(he=m;he!==null;)S=he,M=S.child,S.tag===22&&S.memoizedState!==null?Iy(m):M!==null?(M.return=S,he=M):Iy(m);for(;_!==null;)he=_,_y(_),_=_.sibling;he=m,_c=D,qt=Q}Ey(i)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,he=_):Ey(i)}}function Ey(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Ec(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!qt)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:lr(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&wv(o,_,h);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}wv(o,S,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ne=Q.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ir(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||o.flags&512&&Rf(o)}catch(te){ht(o,o.return,te)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function wy(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function Iy(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ec(4,o)}catch(M){ht(o,u,M)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(M){ht(o,m,M)}}var _=o.return;try{Rf(o)}catch(M){ht(o,_,M)}break;case 5:var S=o.return;try{Rf(o)}catch(M){ht(o,S,M)}}}catch(M){ht(o,o.return,M)}if(o===i){he=null;break}var D=o.sibling;if(D!==null){D.return=o.return,he=D;break}he=o.return}}var wC=Math.ceil,wc=H.ReactCurrentDispatcher,Df=H.ReactCurrentOwner,$n=H.ReactCurrentBatchConfig,ze=0,Dt=null,_t=null,Ut=0,Cn=0,qo=bi(0),bt=0,yl=null,Vs=0,Ic=0,kf=0,_l=null,dn=null,Nf=0,Ko=1/0,ri=null,Tc=!1,Of=null,ki=null,Sc=!1,Ni=null,Cc=0,El=0,Lf=null,bc=-1,Ac=0;function nn(){return(ze&6)!==0?Ze():bc!==-1?bc:bc=Ze()}function Oi(i){return(i.mode&1)===0?1:(ze&2)!==0&&Ut!==0?Ut&-Ut:iC.transition!==null?(Ac===0&&(Ac=Cs()),Ac):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Ka(i.type)),i)}function dr(i,o,u,h){if(50<El)throw El=0,Lf=null,Error(t(185));yi(i,u,h),((ze&2)===0||i!==Dt)&&(i===Dt&&((ze&2)===0&&(Ic|=u),bt===4&&Li(i,Ut)),hn(i,h),u===1&&ze===0&&(o.mode&1)===0&&(Ko=Ze()+500,tc&&Ri()))}function hn(i,o){var u=i.callbackNode;Hr(i,o);var h=Ss(i,i===Dt?Ut:0);if(h===0)u!==null&&$a(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&$a(u),o===1)i.tag===0?rC(Sy.bind(null,i)):uv(Sy.bind(null,i)),ZS(function(){(ze&6)===0&&Ri()}),u=null;else{switch(Ei(h)){case 1:u=Is;break;case 4:u=mi;break;case 16:u=Mn;break;case 536870912:u=Au;break;default:u=Mn}u=ky(u,Ty.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Ty(i,o){if(bc=-1,Ac=0,(ze&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Qo()&&i.callbackNode!==u)return null;var h=Ss(i,i===Dt?Ut:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Rc(i,h);else{o=h;var m=ze;ze|=2;var _=by();(Dt!==i||Ut!==o)&&(ri=null,Ko=Ze()+500,Us(i,o));do try{SC();break}catch(D){Cy(i,D)}while(!0);Jh(),wc.current=_,ze=m,_t!==null?o=0:(Dt=null,Ut=0,o=bt)}if(o!==0){if(o===2&&(m=En(i),m!==0&&(h=m,o=Mf(i,m))),o===1)throw u=yl,Us(i,0),Li(i,h),hn(i,Ze()),u;if(o===6)Li(i,h);else{if(m=i.current.alternate,(h&30)===0&&!IC(m)&&(o=Rc(i,h),o===2&&(_=En(i),_!==0&&(h=_,o=Mf(i,_))),o===1))throw u=yl,Us(i,0),Li(i,h),hn(i,Ze()),u;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Bs(i,dn,ri);break;case 3:if(Li(i,h),(h&130023424)===h&&(o=Nf+500-Ze(),10<o)){if(Ss(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=jh(Bs.bind(null,i,dn,ri),o);break}Bs(i,dn,ri);break;case 4:if(Li(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var S=31-Zt(h);_=1<<S,S=o[S],S>m&&(m=S),h&=~_}if(h=m,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*wC(h/1960))-h,10<h){i.timeoutHandle=jh(Bs.bind(null,i,dn,ri),h);break}Bs(i,dn,ri);break;case 5:Bs(i,dn,ri);break;default:throw Error(t(329))}}}return hn(i,Ze()),i.callbackNode===u?Ty.bind(null,i):null}function Mf(i,o){var u=_l;return i.current.memoizedState.isDehydrated&&(Us(i,o).flags|=256),i=Rc(i,o),i!==2&&(o=dn,dn=u,o!==null&&Vf(o)),i}function Vf(i){dn===null?dn=i:dn.push.apply(dn,i)}function IC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],_=m.getSnapshot;m=m.value;try{if(!or(_(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Li(i,o){for(o&=~kf,o&=~Ic,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Zt(o),h=1<<u;i[u]=-1,o&=~h}}function Sy(i){if((ze&6)!==0)throw Error(t(327));Qo();var o=Ss(i,0);if((o&1)===0)return hn(i,Ze()),null;var u=Rc(i,o);if(i.tag!==0&&u===2){var h=En(i);h!==0&&(o=h,u=Mf(i,h))}if(u===1)throw u=yl,Us(i,0),Li(i,o),hn(i,Ze()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Bs(i,dn,ri),hn(i,Ze()),null}function Ff(i,o){var u=ze;ze|=1;try{return i(o)}finally{ze=u,ze===0&&(Ko=Ze()+500,tc&&Ri())}}function Fs(i){Ni!==null&&Ni.tag===0&&(ze&6)===0&&Qo();var o=ze;ze|=1;var u=$n.transition,h=Ue;try{if($n.transition=null,Ue=1,i)return i()}finally{Ue=h,$n.transition=u,ze=o,(ze&6)===0&&Ri()}}function Uf(){Cn=qo.current,st(qo)}function Us(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,JS(u)),_t!==null)for(u=_t.return;u!==null;){var h=u;switch(qh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zu();break;case 3:Wo(),st(ln),st(Wt),af();break;case 5:sf(h);break;case 4:Wo();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Zh(h.type._context);break;case 22:case 23:Uf()}u=u.return}if(Dt=i,_t=i=Mi(i.current,null),Ut=Cn=o,bt=0,yl=null,kf=Ic=Vs=0,dn=_l=null,Os!==null){for(o=0;o<Os.length;o++)if(u=Os[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,_=u.pending;if(_!==null){var S=_.next;_.next=m,h.next=S}u.pending=h}Os=null}return i}function Cy(i,o){do{var u=_t;try{if(Jh(),dc.current=mc,hc){for(var h=ct.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}hc=!1}if(Ms=0,xt=Ct=ct=null,hl=!1,fl=0,Df.current=null,u===null||u.return===null){bt=1,yl=o,_t=null;break}e:{var _=i,S=u.return,D=u,M=o;if(o=Ut,D.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=M,ne=D,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Yv(S);if(ue!==null){ue.flags&=-257,Xv(ue,S,D,_,o),ue.mode&1&&Qv(_,Q,o),o=ue,M=Q;var fe=o.updateQueue;if(fe===null){var me=new Set;me.add(M),o.updateQueue=me}else fe.add(M);break e}else{if((o&1)===0){Qv(_,Q,o),Bf();break e}M=Error(t(426))}}else if(lt&&D.mode&1){var mt=Yv(S);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Xv(mt,S,D,_,o),Yh(Ho(M,D));break e}}_=M=Ho(M,D),bt!==4&&(bt=2),_l===null?_l=[_]:_l.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var G=qv(_,M,o);Ev(_,G);break e;case 1:D=M;var F=_.type,K=_.stateNode;if((_.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ki===null||!ki.has(K)))){_.flags|=65536,o&=-o,_.lanes|=o;var ie=Kv(_,D,o);Ev(_,ie);break e}}_=_.return}while(_!==null)}Ry(u)}catch(ve){o=ve,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function by(){var i=wc.current;return wc.current=mc,i===null?mc:i}function Bf(){(bt===0||bt===3||bt===2)&&(bt=4),Dt===null||(Vs&268435455)===0&&(Ic&268435455)===0||Li(Dt,Ut)}function Rc(i,o){var u=ze;ze|=2;var h=by();(Dt!==i||Ut!==o)&&(ri=null,Us(i,o));do try{TC();break}catch(m){Cy(i,m)}while(!0);if(Jh(),ze=u,wc.current=h,_t!==null)throw Error(t(261));return Dt=null,Ut=0,bt}function TC(){for(;_t!==null;)Ay(_t)}function SC(){for(;_t!==null&&!Cu();)Ay(_t)}function Ay(i){var o=Dy(i.alternate,i,Cn);i.memoizedProps=i.pendingProps,o===null?Ry(i):_t=o,Df.current=null}function Ry(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=gC(u,o,Cn),u!==null){_t=u;return}}else{if(u=vC(u,o),u!==null){u.flags&=32767,_t=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bt=6,_t=null;return}}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);bt===0&&(bt=5)}function Bs(i,o,u){var h=Ue,m=$n.transition;try{$n.transition=null,Ue=1,CC(i,o,u,h)}finally{$n.transition=m,Ue=h}return null}function CC(i,o,u,h){do Qo();while(Ni!==null);if((ze&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Je(i,_),i===Dt&&(_t=Dt=null,Ut=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Sc||(Sc=!0,ky(Mn,function(){return Qo(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=$n.transition,$n.transition=null;var S=Ue;Ue=1;var D=ze;ze|=4,Df.current=null,_C(i,u),yy(u,i),HS(Uh),Ii=!!Fh,Uh=Fh=null,i.current=u,EC(u),Ih(),ze=D,Ue=S,$n.transition=_}else i.current=u;if(Sc&&(Sc=!1,Ni=i,Cc=m),_=i.pendingLanes,_===0&&(ki=null),Ru(u.stateNode),hn(i,Ze()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Tc)throw Tc=!1,i=Of,Of=null,i;return(Cc&1)!==0&&i.tag!==0&&Qo(),_=i.pendingLanes,(_&1)!==0?i===Lf?El++:(El=0,Lf=i):El=0,Ri(),null}function Qo(){if(Ni!==null){var i=Ei(Cc),o=$n.transition,u=Ue;try{if($n.transition=null,Ue=16>i?16:i,Ni===null)var h=!1;else{if(i=Ni,Ni=null,Cc=0,(ze&6)!==0)throw Error(t(331));var m=ze;for(ze|=4,he=i.current;he!==null;){var _=he,S=_.child;if((he.flags&16)!==0){var D=_.deletions;if(D!==null){for(var M=0;M<D.length;M++){var Q=D[M];for(he=Q;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:vl(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(fy(ne),ne===Q){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var fe=_.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var mt=me.sibling;me.sibling=null,me=mt}while(me!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,he=S;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:vl(9,_,_.return)}var G=_.sibling;if(G!==null){G.return=_.return,he=G;break e}he=_.return}}var F=i.current;for(he=F;he!==null;){S=he;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,he=K;else e:for(S=F;he!==null;){if(D=he,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Ec(9,D)}}catch(ve){ht(D,D.return,ve)}if(D===S){he=null;break e}var ie=D.sibling;if(ie!==null){ie.return=D.return,he=ie;break e}he=D.return}}if(ze=m,Ri(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Ts,i)}catch{}h=!0}return h}finally{Ue=u,$n.transition=o}}return!1}function Py(i,o,u){o=Ho(u,o),o=qv(i,o,1),i=xi(i,o,1),o=nn(),i!==null&&(yi(i,1,o),hn(i,o))}function ht(i,o,u){if(i.tag===3)Py(i,i,u);else for(;o!==null;){if(o.tag===3){Py(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ki===null||!ki.has(h))){i=Ho(u,i),i=Kv(o,i,1),o=xi(o,i,1),i=nn(),o!==null&&(yi(o,1,i),hn(o,i));break}}o=o.return}}function bC(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&u,Dt===i&&(Ut&u)===u&&(bt===4||bt===3&&(Ut&130023424)===Ut&&500>Ze()-Nf?Us(i,0):kf|=u),hn(i,o)}function xy(i,o){o===0&&((i.mode&1)===0?o=1:(o=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var u=nn();i=ei(i,o),i!==null&&(yi(i,o,u),hn(i,u))}function AC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),xy(i,u)}function RC(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),xy(i,u)}var Dy;Dy=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||ln.current)cn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return cn=!1,mC(i,o,u);cn=(i.flags&131072)!==0}else cn=!1,lt&&(o.flags&1048576)!==0&&cv(o,rc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;yc(i,o),i=o.pendingProps;var m=Vo(o,Wt.current);$o(o,u),m=cf(null,o,h,i,m,u);var _=df();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,un(h)?(_=!0,ec(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,nf(o),m.updater=gc,o.stateNode=m,m._reactInternals=o,vf(o,h,i,u),o=wf(null,o,h,!0,_,u)):(o.tag=0,lt&&_&&Gh(o),tn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(yc(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=xC(h),i=lr(h,i),m){case 0:o=Ef(null,o,h,i,u);break e;case 1:o=ry(null,o,h,i,u);break e;case 11:o=Jv(null,o,h,i,u);break e;case 14:o=Zv(null,o,h,lr(h.type,i),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:lr(h,m),Ef(i,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:lr(h,m),ry(i,o,h,m,u);case 3:e:{if(iy(o),i===null)throw Error(t(387));h=o.pendingProps,_=o.memoizedState,m=_.element,_v(i,o),uc(o,h,null,u);var S=o.memoizedState;if(h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=Ho(Error(t(423)),o),o=sy(i,o,h,u,m);break e}else if(h!==m){m=Ho(Error(t(424)),o),o=sy(i,o,h,u,m);break e}else for(Sn=Ci(o.stateNode.containerInfo.firstChild),Tn=o,lt=!0,ar=null,u=vv(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Bo(),h===m){o=ni(i,o,u);break e}tn(i,o,h,u)}o=o.child}return o;case 5:return Iv(o),i===null&&Qh(o),h=o.type,m=o.pendingProps,_=i!==null?i.memoizedProps:null,S=m.children,Bh(h,m)?S=null:_!==null&&Bh(h,_)&&(o.flags|=32),ny(i,o),tn(i,o,S,u),o.child;case 6:return i===null&&Qh(o),null;case 13:return oy(i,o,u);case 4:return rf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=jo(o,null,h,u):tn(i,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:lr(h,m),Jv(i,o,h,m,u);case 7:return tn(i,o,o.pendingProps,u),o.child;case 8:return tn(i,o,o.pendingProps.children,u),o.child;case 12:return tn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,_=o.memoizedProps,S=m.value,et(oc,h._currentValue),h._currentValue=S,_!==null)if(or(_.value,S)){if(_.children===m.children&&!ln.current){o=ni(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var D=_.dependencies;if(D!==null){S=_.child;for(var M=D.firstContext;M!==null;){if(M.context===h){if(_.tag===1){M=ti(-1,u&-u),M.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var ne=Q.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),Q.pending=M}}_.lanes|=u,M=_.alternate,M!==null&&(M.lanes|=u),ef(_.return,u,o),D.lanes|=u;break}M=M.next}}else if(_.tag===10)S=_.type===o.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(t(341));S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),ef(S,u,o),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===o){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}tn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,$o(o,u),m=jn(m),h=h(m),o.flags|=1,tn(i,o,h,u),o.child;case 14:return h=o.type,m=lr(h,o.pendingProps),m=lr(h.type,m),Zv(i,o,h,m,u);case 15:return ey(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:lr(h,m),yc(i,o),o.tag=1,un(h)?(i=!0,ec(o)):i=!1,$o(o,u),Hv(o,h,m),vf(o,h,m,u),wf(null,o,h,!0,i,u);case 19:return ly(i,o,u);case 22:return ty(i,o,u)}throw Error(t(156,o.tag))};function ky(i,o){return go(i,o)}function PC(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,o,u,h){return new PC(i,o,u,h)}function jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xC(i){if(typeof i=="function")return jf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Ke)return 14}return 2}function Mi(i,o){var u=i.alternate;return u===null?(u=Wn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Pc(i,o,u,h,m,_){var S=2;if(h=i,typeof i=="function")jf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case k:return js(u.children,m,_,o);case P:S=8,m|=8;break;case x:return i=Wn(12,u,o,m|2),i.elementType=x,i.lanes=_,i;case R:return i=Wn(13,u,o,m),i.elementType=R,i.lanes=_,i;case Ce:return i=Wn(19,u,o,m),i.elementType=Ce,i.lanes=_,i;case Fe:return xc(u,m,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:S=10;break e;case L:S=9;break e;case j:S=11;break e;case Ke:S=14;break e;case Qe:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Wn(S,u,o,m),o.elementType=i,o.type=h,o.lanes=_,o}function js(i,o,u,h){return i=Wn(7,i,h,o),i.lanes=u,i}function xc(i,o,u,h){return i=Wn(22,i,h,o),i.elementType=Fe,i.lanes=u,i.stateNode={isHidden:!1},i}function zf(i,o,u){return i=Wn(6,i,null,o),i.lanes=u,i}function $f(i,o,u){return o=Wn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function DC(i,o,u,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Wf(i,o,u,h,m,_,S,D,M){return i=new DC(i,o,u,D,M),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Wn(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(_),i}function kC(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function Ny(i){if(!i)return Ai;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(un(u))return av(i,u,o)}return o}function Oy(i,o,u,h,m,_,S,D,M){return i=Wf(u,h,!0,i,m,_,S,D,M),i.context=Ny(null),u=i.current,h=nn(),m=Oi(u),_=ti(h,m),_.callback=o??null,xi(u,_,m),i.current.lanes=m,yi(i,m,h),hn(i,h),i}function Dc(i,o,u,h){var m=o.current,_=nn(),S=Oi(m);return u=Ny(u),o.context===null?o.context=u:o.pendingContext=u,o=ti(_,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=xi(m,o,S),i!==null&&(dr(i,m,S,_),lc(i,m,S)),S}function kc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ly(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Hf(i,o){Ly(i,o),(i=i.alternate)&&Ly(i,o)}function NC(){return null}var My=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gf(i){this._internalRoot=i}Nc.prototype.render=Gf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Dc(i,o,null,null)},Nc.prototype.unmount=Gf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Fs(function(){Dc(null,i,null,null)}),o[Yr]=null}};function Nc(i){this._internalRoot=i}Nc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Nu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Er.length&&o!==0&&o<Er[u].priority;u++);Er.splice(u,0,i),u===0&&Mu(i)}};function qf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Oc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function OC(i,o,u,h,m){if(m){if(typeof h=="function"){var _=h;h=function(){var Q=kc(S);_.call(Q)}}var S=Oy(o,h,i,0,null,!1,!1,"",Vy);return i._reactRootContainer=S,i[Yr]=S.current,il(i.nodeType===8?i.parentNode:i),Fs(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var D=h;h=function(){var Q=kc(M);D.call(Q)}}var M=Wf(i,0,!1,null,null,!1,!1,"",Vy);return i._reactRootContainer=M,i[Yr]=M.current,il(i.nodeType===8?i.parentNode:i),Fs(function(){Dc(o,M,u,h)}),M}function Lc(i,o,u,h,m){var _=u._reactRootContainer;if(_){var S=_;if(typeof m=="function"){var D=m;m=function(){var M=kc(S);D.call(M)}}Dc(o,S,i,m)}else S=OC(u,o,i,m,h);return kc(S)}Du=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=gi(o.pendingLanes);u!==0&&(_i(o,u|1),hn(o,Ze()),(ze&6)===0&&(Ko=Ze()+500,Ri()))}break;case 13:Fs(function(){var h=ei(i,1);if(h!==null){var m=nn();dr(h,i,1,m)}}),Hf(i,1)}},_o=function(i){if(i.tag===13){var o=ei(i,134217728);if(o!==null){var u=nn();dr(o,i,134217728,u)}Hf(i,134217728)}},ku=function(i){if(i.tag===13){var o=Oi(i),u=ei(i,o);if(u!==null){var h=nn();dr(u,i,o,h)}Hf(i,o)}},Nu=function(){return Ue},Ou=function(i,o){var u=Ue;try{return Ue=i,o()}finally{Ue=u}},uo=function(i,o,u){switch(o){case"input":if(jr(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var m=Ju(h);if(!m)throw Error(t(90));Fr(h),jr(h,m)}}}break;case"textarea":ao(i,u);break;case"select":o=u.value,o!=null&&zr(i,!!u.multiple,o,!1)}},ys=Ff,Ua=Fs;var LC={usingClientEntryPoint:!1,Events:[al,Lo,Ju,yr,Fa,Ff]},wl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=za(i),i===null?null:i.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||NC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Ts=Mc.inject(MC),_n=Mc}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC,fn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(o))throw Error(t(200));return kC(i,o,null,u)},fn.createRoot=function(i,o){if(!qf(i))throw Error(t(299));var u=!1,h="",m=My;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Wf(i,1,!1,null,null,u,!1,h,m),i[Yr]=o.current,il(i.nodeType===8?i.parentNode:i),new Gf(o)},fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=za(o),i=i===null?null:i.stateNode,i},fn.flushSync=function(i){return Fs(i)},fn.hydrate=function(i,o,u){if(!Oc(o))throw Error(t(200));return Lc(null,i,o,!0,u)},fn.hydrateRoot=function(i,o,u){if(!qf(i))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,_="",S=My;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=Oy(o,null,i,1,u??null,m,!1,_,S),i[Yr]=o.current,il(i),h)for(i=0;i<h.length;i++)u=h[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Nc(o)},fn.render=function(i,o,u){if(!Oc(o))throw Error(t(200));return Lc(null,i,o,!1,u)},fn.unmountComponentAtNode=function(i){if(!Oc(i))throw Error(t(40));return i._reactRootContainer?(Fs(function(){Lc(null,null,i,!1,function(){i._reactRootContainer=null,i[Yr]=null})}),!0):!1},fn.unstable_batchedUpdates=Ff,fn.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!Oc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Lc(i,o,u,!1,h)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var Hy;function Rw(){if(Hy)return Yf.exports;Hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yf.exports=HC(),Yf.exports}var Gy;function GC(){if(Gy)return Vc;Gy=1;var n=Rw();return Vc.createRoot=n.createRoot,Vc.hydrateRoot=n.hydrateRoot,Vc}var qC=GC();const KC=Fd(qC),QC=()=>{};var qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},YC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,v=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,I=p&63;f||(I=64,l||(E=64)),r.push(t[g],t[v],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||v==null)throw new XC;const E=a<<2|c>>4;if(r.push(E),p!==64){const I=c<<4&240|p>>2;if(r.push(I),v!==64){const T=p<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JC=function(n){const e=Pw(n);return xw.encodeByteArray(e,!0)},od=function(n){return JC(n).replace(/\./g,"")},Dw=function(n){try{return xw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=()=>ZC().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof qy>"u")return;const n=qy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dw(n[1]);return e&&JSON.parse(e)},Ud=()=>{try{return QC()||eb()||tb()||nb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kw=n=>{var e,t;return(t=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Nw=n=>{const e=kw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ow=()=>{var n;return(n=Ud())===null||n===void 0?void 0:n.config},Lw=n=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n){return n.endsWith(".cloudworkstations.dev")}async function hm(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[od(JSON.stringify(t)),od(JSON.stringify(l)),""].join(".")}const kl={};function ib(){const n={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?n.emulator.push(e):n.prod.push(e);return n}function sb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ky=!1;function fm(n,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||kl[n]===e||kl[n]||Ky)return;kl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=ib().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Ky=!0,l()},E}function g(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=sb(r),I=t("text"),T=document.getElementById(I)||document.createElement("span"),C=t("learnmore"),A=document.getElementById(C)||document.createElement("a"),O=t("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;c(B),g(A,C);const H=p();f(V,O),B.append(V,T,A,H),document.body.appendChild(B)}a?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function ab(){var n;const e=(n=Ud())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ub(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function db(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hb(){return!ab()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="FirebaseError";class Mr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mb,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?gb(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Mr(s,c,r)}}function gb(n,e){return n.replace(vb,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vb=/\{\$([^}]+)}/g;function yb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(Qy(a)&&Qy(l)){if(!Gs(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Qy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _b(n,e){const t=new Eb(n,e);return t.subscribe.bind(t)}class Eb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wb(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Zf),s.error===void 0&&(s.error=Zf),s.complete===void 0&&(s.complete=Zf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n){return n&&n._delegate?n._delegate:n}class ts{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ib=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sb(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Tb(n){return n===$s?void 0:n}function Sb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ib(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const bb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ab=Me.INFO,Rb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Pb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Rb[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pm{constructor(e){this.name=e,this._logLevel=Ab,this._logHandler=Pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const xb=(n,e)=>e.some(t=>n instanceof t);let Yy,Xy;function Db(){return Yy||(Yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kb(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vw=new WeakMap,bp=new WeakMap,Fw=new WeakMap,ep=new WeakMap,mm=new WeakMap;function Nb(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Gi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Vw.set(t,n)}).catch(()=>{}),mm.set(e,n),e}function Ob(n){if(bp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});bp.set(n,e)}let Ap={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Lb(n){Ap=n(Ap)}function Mb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(tp(this),e,...t);return Fw.set(r,e.sort?e.sort():[e]),Gi(r)}:kb().includes(n)?function(...e){return n.apply(tp(this),e),Gi(Vw.get(this))}:function(...e){return Gi(n.apply(tp(this),e))}}function Vb(n){return typeof n=="function"?Mb(n):(n instanceof IDBTransaction&&Ob(n),xb(n,Db())?new Proxy(n,Ap):n)}function Gi(n){if(n instanceof IDBRequest)return Nb(n);if(ep.has(n))return ep.get(n);const e=Vb(n);return e!==n&&(ep.set(n,e),mm.set(e,n)),e}const tp=n=>mm.get(n);function Fb(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=Gi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Gi(l.result),f.oldVersion,f.newVersion,Gi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Ub=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],np=new Map;function Jy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Bb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ub.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&f.done]))[0]};return np.set(e,a),a}Lb(n=>({...n,get:(e,t,r)=>Jy(e,t)||n.get(e,t,r),has:(e,t)=>!!Jy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function zb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Zy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new pm("@firebase/app"),$b="@firebase/app-compat",Wb="@firebase/analytics-compat",Hb="@firebase/analytics",Gb="@firebase/app-check-compat",qb="@firebase/app-check",Kb="@firebase/auth",Qb="@firebase/auth-compat",Yb="@firebase/database",Xb="@firebase/data-connect",Jb="@firebase/database-compat",Zb="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",rA="@firebase/messaging",iA="@firebase/messaging-compat",sA="@firebase/performance",oA="@firebase/performance-compat",aA="@firebase/remote-config",lA="@firebase/remote-config-compat",uA="@firebase/storage",cA="@firebase/storage-compat",dA="@firebase/firestore",hA="@firebase/ai",fA="@firebase/firestore-compat",pA="firebase",mA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",gA={[Rp]:"fire-core",[$b]:"fire-core-compat",[Hb]:"fire-analytics",[Wb]:"fire-analytics-compat",[qb]:"fire-app-check",[Gb]:"fire-app-check-compat",[Kb]:"fire-auth",[Qb]:"fire-auth-compat",[Yb]:"fire-rtdb",[Xb]:"fire-data-connect",[Jb]:"fire-rtdb-compat",[Zb]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[rA]:"fire-fcm",[iA]:"fire-fcm-compat",[sA]:"fire-perf",[oA]:"fire-perf-compat",[aA]:"fire-rc",[lA]:"fire-rc-compat",[uA]:"fire-gcs",[cA]:"fire-gcs-compat",[dA]:"fire-fst",[fA]:"fire-fst-compat",[hA]:"fire-vertex","fire-js":"fire-js",[pA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,vA=new Map,xp=new Map;function e_(n,e){try{n.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qs(n){const e=n.name;if(xp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,n);for(const t of ad.values())e_(t,n);for(const t of vA.values())e_(t,n);return!0}function Bd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new ou("app","Firebase",yA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=mA;function Uw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(t||(t=Ow()),!t)throw qi.create("no-options");const a=ad.get(s);if(a){if(Gs(t,a.options)&&Gs(r,a.config))return a;throw qi.create("duplicate-app",{appName:s})}const l=new Cb(s);for(const f of xp.values())l.addComponent(f);const c=new _A(t,r,l);return ad.set(s,c),c}function gm(n=Pp){const e=ad.get(n);if(!e&&n===Pp&&Ow())return Uw();if(!e)throw qi.create("no-app",{appName:n});return e}function Pr(n,e,t){var r;let s=(r=gA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(c.join(" "));return}qs(new ts(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firebase-heartbeat-database",wA=1,Bl="firebase-heartbeat-store";let rp=null;function Bw(){return rp||(rp=Fb(EA,wA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw qi.create("idb-open",{originalErrorMessage:n.message})})),rp}async function IA(n){try{const t=(await Bw()).transaction(Bl),r=await t.objectStore(Bl).get(jw(n));return await t.done,r}catch(e){if(e instanceof Mr)ui.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(t.message)}}}async function t_(n,e){try{const r=(await Bw()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,jw(n)),await r.done}catch(t){if(t instanceof Mr)ui.warn(t.message);else{const r=qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ui.warn(r.message)}}}function jw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1024,SA=30;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>SA){const l=RA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n_(),{heartbeatsToSend:r,unsentEntries:s}=bA(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ui.warn(t),""}}}function n_(){return new Date().toISOString().substring(0,10)}function bA(n,e=TA){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),r_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),r_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class AA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function r_(n){return od(JSON.stringify({version:2,heartbeats:n})).length}function RA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){qs(new ts("platform-logger",e=>new jb(e),"PRIVATE")),qs(new ts("heartbeat",e=>new CA(e),"PRIVATE")),Pr(Rp,Zy,n),Pr(Rp,Zy,"esm2017"),Pr("fire-js","")}PA("");var xA="firebase",DA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(xA,DA,"app");function vm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kA=zw,$w=new ou("auth","Firebase",zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new pm("@firebase/auth");function NA(n,...e){ld.logLevel<=Me.WARN&&ld.warn(`Auth (${Zs}): ${n}`,...e)}function Qc(n,...e){ld.logLevel<=Me.ERROR&&ld.error(`Auth (${Zs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n,...e){throw ym(n,...e)}function xr(n,...e){return ym(n,...e)}function Ww(n,e,t){const r=Object.assign(Object.assign({},kA()),{[e]:t});return new ou("auth","Firebase",r).create(e,{appName:n.name})}function li(n){return Ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ym(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $w.create(n,...e)}function Te(n,e,...t){if(!n)throw ym(e,...t)}function si(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qc(e),new Error(e)}function ci(n,e){n||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OA(){return i_()==="http:"||i_()==="https:"}function i_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||ub()||"connection"in navigator)?navigator.onLine:!0}function MA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=ob()||cb()}get(){return LA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UA=new lu(3e4,6e4);function cs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fi(n,e,t,r,s={}){return Gw(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=au(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return lb()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&_a(n.emulatorConfig.host)&&(p.credentials="include"),Hw.fetch()(await qw(n,n.config.apiHost,t,c),p)})}async function Gw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},VA),e);try{const s=new jA(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Fc(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Fc(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Fc(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ww(n,g,p);mr(n,g)}}catch(s){if(s instanceof Mr)throw s;mr(n,"network-request-failed",{message:String(s)})}}async function uu(n,e,t,r,s={}){const a=await fi(n,e,t,r,s);return"mfaPendingCredential"in a&&mr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function qw(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?_m(n.config,s):`${n.config.apiScheme}://${s}`;return FA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function BA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),UA.get())})}}function Fc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=xr(n,e,r);return s.customData._tokenResponse=t,s}function s_(n){return n!==void 0&&n.enterprise!==void 0}class zA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $A(n,e){return fi(n,"GET","/v2/recaptchaConfig",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e){return fi(n,"POST","/v1/accounts:delete",e)}async function ud(n,e){return fi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(n,e=!1){const t=vt(n),r=await t.getIdToken(e),s=Em(r);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Nl(ip(s.auth_time)),issuedAtTime:Nl(ip(s.iat)),expirationTime:Nl(ip(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ip(n){return Number(n)*1e3}function Em(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dw(t);return s?JSON.parse(s):(Qc("Failed to decode base64 JWT payload"),null)}catch(s){return Qc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function o_(n){const e=Em(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Mr&&GA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await oa(n,ud(t,{idToken:r}));Te(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Kw(a.providerUserInfo):[],c=QA(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new kp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function KA(n){const e=vt(n);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Kw(n){return n.map(e=>{var{providerId:t}=e,r=vm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(n,e){const t=await Gw(n,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await qw(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Hw.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XA(n,e){return fi(n,"POST","/v2/accounts:revokeToken",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=o_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await YA(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new na;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HA(this,e)}reload(){return KA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await oa(this,WA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,c,f,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,O=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:H,isAnonymous:q,providerData:J,stsTokenManager:k}=t;Te(B&&k,e,"internal-error");const P=na.fromJSON(this.name,k);Te(typeof B=="string",e,"internal-error"),Fi(v,e.name),Fi(E,e.name),Te(typeof H=="boolean",e,"internal-error"),Te(typeof q=="boolean",e,"internal-error"),Fi(I,e.name),Fi(T,e.name),Fi(C,e.name),Fi(A,e.name),Fi(O,e.name),Fi(V,e.name);const x=new hr({uid:B,auth:e,email:E,emailVerified:H,displayName:v,isAnonymous:q,photoURL:T,phoneNumber:I,tenantId:C,stsTokenManager:P,createdAt:O,lastLoginAt:V});return J&&Array.isArray(J)&&(x.providerData=J.map(N=>Object.assign({},N))),A&&(x._redirectEventId=A),x}static async _fromIdTokenResponse(e,t,r=!1){const s=new na;s.updateFromServerResponse(t);const a=new hr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Kw(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new na;c.updateFromIdToken(r);const f=new hr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;function oi(n){ci(n instanceof Function,"Expected a class definition");let e=a_.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,a_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qw.type="NONE";const l_=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Yc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Yc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ud(this.auth,{idToken:e}).catch(()=>{});return t?hr._fromGetAccountInfoResponse(this.auth,t,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ra(oi(l_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||oi(l_);const l=Yc(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const E=await ud(e,{idToken:g}).catch(()=>{});if(!E)break;v=await hr._fromGetAccountInfoResponse(e,E,g)}else v=hr._fromJSON(e,g);p!==a&&(c=v),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ra(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ra(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(Xw(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yw(n=Jt()){return/firefox\//i.test(n)}function Xw(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(n=Jt()){return/crios\//i.test(n)}function Zw(n=Jt()){return/iemobile/i.test(n)}function eI(n=Jt()){return/android/i.test(n)}function tI(n=Jt()){return/blackberry/i.test(n)}function nI(n=Jt()){return/webos/i.test(n)}function wm(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JA(n=Jt()){var e;return wm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZA(){return db()&&document.documentMode===10}function rI(n=Jt()){return wm(n)||eI(n)||nI(n)||tI(n)||/windows phone/i.test(n)||Zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n,e=[]){let t;switch(n){case"Browser":t=u_(Jt());break;case"Worker":t=`${u_(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e={}){return fi(n,"GET","/v2/passwordPolicy",cs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=6;class rR{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:nR,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new eR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ud(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(li(this));const t=e?vt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tR(this),t=new rR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&NA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function eo(n){return vt(n)}class c_{constructor(e){this.auth=e,this.observer=null,this.addObserver=_b(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sR(n){jd=n}function sI(n){return jd.loadJS(n)}function oR(){return jd.recaptchaEnterpriseScript}function aR(){return jd.gapiScript}function lR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uR{constructor(){this.enterprise=new cR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dR="recaptcha-enterprise",oI="NO_RECAPTCHA";class hR{constructor(e){this.type=dR,this.auth=eo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{$A(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new zA(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function s(a,l,c){const f=window.grecaptcha;s_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(oI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uR().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&s_(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=oR();f.length!==0&&(f+=c),sI(f).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function d_(n,e,t,r=!1,s=!1){const a=new hR(n);let l;if(s)l=oI;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Np(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await d_(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await d_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e){const t=Bd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Gs(a,e??{}))return s;mr(s,"already-initialized")}return t.initialize({options:e})}function pR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mR(n,e,t){const r=eo(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=aI(e),{host:l,port:c}=gR(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Gs(p,r.config.emulator)&&Gs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,_a(l)?(hm(`${a}//${l}${f}`),fm("Auth",!0)):vR()}function aI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gR(n){const e=aI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:h_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:h_(l)}}}function h_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function yR(n,e){return fi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n,e){return uu(n,"POST","/v1/accounts:signInWithPassword",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e){return uu(n,"POST","/v1/accounts:signInWithEmailLink",cs(n,e))}async function wR(n,e){return uu(n,"POST","/v1/accounts:signInWithEmailLink",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Im{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new jl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,t,"signInWithPassword",_R);case"emailLink":return ER(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,r,"signUpPassword",yR);case"emailLink":return wR(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(n,e){return uu(n,"POST","/v1/accounts:signInWithIdp",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="http://localhost";class Ks extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=vm(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Ks(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ia(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:IR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(n){const e=bl(Al(n)).link,t=e?bl(Al(e)).deep_link_id:null,r=bl(Al(n)).deep_link_id;return(r?bl(Al(r)).link:null)||r||t||e||n}class Tm{constructor(e){var t,r,s,a,l,c;const f=bl(Al(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=TR((s=f.mode)!==null&&s!==void 0?s:null);Te(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=SR(e);try{return new Tm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,t){return jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Tm.parseLink(t);return Te(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends lI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends cu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ks._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends cu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends cu{constructor(){super("twitter.com")}static credential(e,t){return Ks._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e){return uu(n,"POST","/v1/accounts:signUp",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await hr._fromIdTokenResponse(e,r,s),l=f_(r);return new Qs({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=f_(r);return new Qs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function f_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends Mr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new dd(e,t,r,s)}}function uI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(n,a,e,r):a})}async function bR(n,e,t=!1){const r=await oa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e,t=!1){const{auth:r}=n;if(bn(r.app))return Promise.reject(li(r));const s="reauthenticate";try{const a=await oa(n,uI(r,s,e,n),t);Te(a.idToken,r,"internal-error");const l=Em(a.idToken);Te(l,r,"internal-error");const{sub:c}=l;return Te(n.uid===c,r,"user-mismatch"),Qs._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n,e,t=!1){if(bn(n.app))return Promise.reject(li(n));const r="signIn",s=await uI(n,r,e),a=await Qs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function RR(n,e){return cI(eo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(n){const e=eo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hI(n,e,t){if(bn(n.app))return Promise.reject(li(n));const r=eo(n),l=await Np(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&dI(n),f}),c=await Qs._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function fI(n,e,t){return bn(n.app)?Promise.reject(li(n)):RR(vt(n),Ea.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){return fi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=vt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await oa(r,PR(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function xR(n,e,t,r){return vt(n).onIdTokenChanged(e,t,r)}function DR(n,e,t){return vt(n).beforeAuthStateChanged(e,t)}function kR(n,e,t,r){return vt(n).onAuthStateChanged(e,t,r)}function NR(n){return vt(n).signOut()}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1e3,LR=10;class gI extends mI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);ZA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,LR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gI.type="LOCAL";const MR=gI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends mI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vI.type="SESSION";const yI=vI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await VR(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=Sm("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function UR(n){Dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function BR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function zR(){return _I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebaseLocalStorageDb",$R=1,fd="firebaseLocalStorage",wI="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $d(n,e){return n.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function WR(){const n=indexedDB.deleteDatabase(EI);return new du(n).toPromise()}function Op(){const n=indexedDB.open(EI,$R);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fd,{keyPath:wI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await WR(),e(await Op()))})})}async function p_(n,e,t){const r=$d(n,!0).put({[wI]:e,value:t});return new du(r).toPromise()}async function HR(n,e){const t=$d(n,!1).get(e),r=await new du(t).toPromise();return r===void 0?null:r.value}function m_(n,e){const t=$d(n,!0).delete(e);return new du(t).toPromise()}const GR=800,qR=3;class II{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(zR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await BR(),!this.activeServiceWorker)return;this.sender=new FR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await p_(e,hd,"1"),await m_(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>p_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>HR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>m_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=$d(s,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}II.type="LOCAL";const KR=II;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n,e){return e?oi(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YR(n){return cI(n.auth,new Cm(n),n.bypassAuthState)}function XR(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),AR(t,new Cm(n),n.bypassAuthState)}async function JR(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),bR(t,new Cm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YR;case"linkViaPopup":case"linkViaRedirect":return JR;case"reauthViaPopup":case"reauthViaRedirect":return XR;default:mr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new lu(2e3,1e4);class ta extends TI{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZR.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="pendingRedirect",Xc=new Map;class tP extends TI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await nP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nP(n,e){const t=sP(e),r=iP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function rP(n,e){Xc.set(n._key(),e)}function iP(n){return oi(n._redirectPersistence)}function sP(n){return Yc(eP,n.config.apiKey,n.name)}async function oP(n,e,t=!1){if(bn(n.app))return Promise.reject(li(n));const r=eo(n),s=QR(r,e),l=await new tP(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=10*60*1e3;class lP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aP&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(n,e={}){return fi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hP=/^https?/;async function fP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cP(n);for(const t of e)try{if(pP(t))return}catch{}mr(n,"unauthorized-domain")}function pP(n){const e=Dp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!hP.test(t))return!1;if(dP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new lu(3e4,6e4);function v_(){const n=Dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gP(n){return new Promise((e,t)=>{var r,s,a;function l(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),t(xr(n,"network-request-failed"))},timeout:mP.get()})}if(!((s=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Dr().gapi)===null||a===void 0)&&a.load)l();else{const c=lR("iframefcb");return Dr()[c]=()=>{gapi.load?l():t(xr(n,"network-request-failed"))},sI(`${aR()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function vP(n){return Jc=Jc||gP(n),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new lu(5e3,15e3),_P="__/auth/iframe",EP="emulator/auth/iframe",wP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_m(e,EP):`https://${n.config.authDomain}/${_P}`,r={apiKey:e.apiKey,appName:n.name,v:Zs},s=IP.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${au(r).slice(1)}`}async function SP(n){const e=await vP(n),t=Dr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:TP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=xr(n,"network-request-failed"),c=Dr().setTimeout(()=>{a(l)},yP.get());function f(){Dr().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bP=500,AP=600,RP="_blank",PP="http://localhost";class y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xP(n,e,t,r=bP,s=AP){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},CP),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Jt().toLowerCase();t&&(c=Jw(p)?RP:t),Yw(p)&&(e=e||PP,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[I,T])=>`${E}${I}=${T},`,"");if(JA(p)&&c!=="_self")return DP(e||"",c),new y_(null);const v=window.open(e||"",c,g);Te(v,n,"popup-blocked");try{v.focus()}catch{}return new y_(v)}function DP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="__/auth/handler",NP="emulator/auth/handler",OP=encodeURIComponent("fac");async function __(n,e,t,r,s,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zs,eventId:s};if(e instanceof lI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",yb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof cu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${OP}=${encodeURIComponent(f)}`:"";return`${LP(n)}?${au(c).slice(1)}${p}`}function LP({config:n}){return n.emulator?_m(n,NP):`https://${n.authDomain}/${kP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class MP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yI,this._completeRedirectFn=oP,this._overrideRedirectResult=rP}async _openPopup(e,t,r,s){var a;ci((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await __(e,t,r,Dp(),s);return xP(e,l,Sm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await __(e,t,r,Dp(),s);return UR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await SP(e),r=new lP(e);return t.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sp,{type:sp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[sp];l!==void 0&&t(!!l),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rI()||Xw()||wm()}}const VP=MP;var E_="@firebase/auth",w_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BP(n){qs(new ts("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iI(n)},p=new iR(r,s,a,f);return pR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),qs(new ts("auth-internal",e=>{const t=eo(e.getProvider("auth").getImmediate());return(r=>new FP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(E_,w_,UP(n)),Pr(E_,w_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=5*60,zP=Lw("authIdTokenMaxAge")||jP;let I_=null;const $P=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>zP)return;const s=t==null?void 0:t.token;I_!==s&&(I_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WP(n=gm()){const e=Bd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fR(n,{popupRedirectResolver:VP,persistence:[KR,MR,yI]}),r=Lw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=$P(a.toString());DR(t,l,()=>l(t.currentUser)),xR(t,c=>l(c))}}const s=kw("auth");return s&&mR(t,`http://${s}`),t}function HP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=xr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",HP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BP("Browser");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,CI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function x(){}x.prototype=P.prototype,k.D=P.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(N,L,j){for(var R=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)R[Ce-2]=arguments[Ce];return P.prototype[L].apply(N,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,P,x){x||(x=0);var N=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)N[L]=P.charCodeAt(x++)|P.charCodeAt(x++)<<8|P.charCodeAt(x++)<<16|P.charCodeAt(x++)<<24;else for(L=0;16>L;++L)N[L]=P[x++]|P[x++]<<8|P[x++]<<16|P[x++]<<24;P=k.g[0],x=k.g[1],L=k.g[2];var j=k.g[3],R=P+(j^x&(L^j))+N[0]+3614090360&4294967295;P=x+(R<<7&4294967295|R>>>25),R=j+(L^P&(x^L))+N[1]+3905402710&4294967295,j=P+(R<<12&4294967295|R>>>20),R=L+(x^j&(P^x))+N[2]+606105819&4294967295,L=j+(R<<17&4294967295|R>>>15),R=x+(P^L&(j^P))+N[3]+3250441966&4294967295,x=L+(R<<22&4294967295|R>>>10),R=P+(j^x&(L^j))+N[4]+4118548399&4294967295,P=x+(R<<7&4294967295|R>>>25),R=j+(L^P&(x^L))+N[5]+1200080426&4294967295,j=P+(R<<12&4294967295|R>>>20),R=L+(x^j&(P^x))+N[6]+2821735955&4294967295,L=j+(R<<17&4294967295|R>>>15),R=x+(P^L&(j^P))+N[7]+4249261313&4294967295,x=L+(R<<22&4294967295|R>>>10),R=P+(j^x&(L^j))+N[8]+1770035416&4294967295,P=x+(R<<7&4294967295|R>>>25),R=j+(L^P&(x^L))+N[9]+2336552879&4294967295,j=P+(R<<12&4294967295|R>>>20),R=L+(x^j&(P^x))+N[10]+4294925233&4294967295,L=j+(R<<17&4294967295|R>>>15),R=x+(P^L&(j^P))+N[11]+2304563134&4294967295,x=L+(R<<22&4294967295|R>>>10),R=P+(j^x&(L^j))+N[12]+1804603682&4294967295,P=x+(R<<7&4294967295|R>>>25),R=j+(L^P&(x^L))+N[13]+4254626195&4294967295,j=P+(R<<12&4294967295|R>>>20),R=L+(x^j&(P^x))+N[14]+2792965006&4294967295,L=j+(R<<17&4294967295|R>>>15),R=x+(P^L&(j^P))+N[15]+1236535329&4294967295,x=L+(R<<22&4294967295|R>>>10),R=P+(L^j&(x^L))+N[1]+4129170786&4294967295,P=x+(R<<5&4294967295|R>>>27),R=j+(x^L&(P^x))+N[6]+3225465664&4294967295,j=P+(R<<9&4294967295|R>>>23),R=L+(P^x&(j^P))+N[11]+643717713&4294967295,L=j+(R<<14&4294967295|R>>>18),R=x+(j^P&(L^j))+N[0]+3921069994&4294967295,x=L+(R<<20&4294967295|R>>>12),R=P+(L^j&(x^L))+N[5]+3593408605&4294967295,P=x+(R<<5&4294967295|R>>>27),R=j+(x^L&(P^x))+N[10]+38016083&4294967295,j=P+(R<<9&4294967295|R>>>23),R=L+(P^x&(j^P))+N[15]+3634488961&4294967295,L=j+(R<<14&4294967295|R>>>18),R=x+(j^P&(L^j))+N[4]+3889429448&4294967295,x=L+(R<<20&4294967295|R>>>12),R=P+(L^j&(x^L))+N[9]+568446438&4294967295,P=x+(R<<5&4294967295|R>>>27),R=j+(x^L&(P^x))+N[14]+3275163606&4294967295,j=P+(R<<9&4294967295|R>>>23),R=L+(P^x&(j^P))+N[3]+4107603335&4294967295,L=j+(R<<14&4294967295|R>>>18),R=x+(j^P&(L^j))+N[8]+1163531501&4294967295,x=L+(R<<20&4294967295|R>>>12),R=P+(L^j&(x^L))+N[13]+2850285829&4294967295,P=x+(R<<5&4294967295|R>>>27),R=j+(x^L&(P^x))+N[2]+4243563512&4294967295,j=P+(R<<9&4294967295|R>>>23),R=L+(P^x&(j^P))+N[7]+1735328473&4294967295,L=j+(R<<14&4294967295|R>>>18),R=x+(j^P&(L^j))+N[12]+2368359562&4294967295,x=L+(R<<20&4294967295|R>>>12),R=P+(x^L^j)+N[5]+4294588738&4294967295,P=x+(R<<4&4294967295|R>>>28),R=j+(P^x^L)+N[8]+2272392833&4294967295,j=P+(R<<11&4294967295|R>>>21),R=L+(j^P^x)+N[11]+1839030562&4294967295,L=j+(R<<16&4294967295|R>>>16),R=x+(L^j^P)+N[14]+4259657740&4294967295,x=L+(R<<23&4294967295|R>>>9),R=P+(x^L^j)+N[1]+2763975236&4294967295,P=x+(R<<4&4294967295|R>>>28),R=j+(P^x^L)+N[4]+1272893353&4294967295,j=P+(R<<11&4294967295|R>>>21),R=L+(j^P^x)+N[7]+4139469664&4294967295,L=j+(R<<16&4294967295|R>>>16),R=x+(L^j^P)+N[10]+3200236656&4294967295,x=L+(R<<23&4294967295|R>>>9),R=P+(x^L^j)+N[13]+681279174&4294967295,P=x+(R<<4&4294967295|R>>>28),R=j+(P^x^L)+N[0]+3936430074&4294967295,j=P+(R<<11&4294967295|R>>>21),R=L+(j^P^x)+N[3]+3572445317&4294967295,L=j+(R<<16&4294967295|R>>>16),R=x+(L^j^P)+N[6]+76029189&4294967295,x=L+(R<<23&4294967295|R>>>9),R=P+(x^L^j)+N[9]+3654602809&4294967295,P=x+(R<<4&4294967295|R>>>28),R=j+(P^x^L)+N[12]+3873151461&4294967295,j=P+(R<<11&4294967295|R>>>21),R=L+(j^P^x)+N[15]+530742520&4294967295,L=j+(R<<16&4294967295|R>>>16),R=x+(L^j^P)+N[2]+3299628645&4294967295,x=L+(R<<23&4294967295|R>>>9),R=P+(L^(x|~j))+N[0]+4096336452&4294967295,P=x+(R<<6&4294967295|R>>>26),R=j+(x^(P|~L))+N[7]+1126891415&4294967295,j=P+(R<<10&4294967295|R>>>22),R=L+(P^(j|~x))+N[14]+2878612391&4294967295,L=j+(R<<15&4294967295|R>>>17),R=x+(j^(L|~P))+N[5]+4237533241&4294967295,x=L+(R<<21&4294967295|R>>>11),R=P+(L^(x|~j))+N[12]+1700485571&4294967295,P=x+(R<<6&4294967295|R>>>26),R=j+(x^(P|~L))+N[3]+2399980690&4294967295,j=P+(R<<10&4294967295|R>>>22),R=L+(P^(j|~x))+N[10]+4293915773&4294967295,L=j+(R<<15&4294967295|R>>>17),R=x+(j^(L|~P))+N[1]+2240044497&4294967295,x=L+(R<<21&4294967295|R>>>11),R=P+(L^(x|~j))+N[8]+1873313359&4294967295,P=x+(R<<6&4294967295|R>>>26),R=j+(x^(P|~L))+N[15]+4264355552&4294967295,j=P+(R<<10&4294967295|R>>>22),R=L+(P^(j|~x))+N[6]+2734768916&4294967295,L=j+(R<<15&4294967295|R>>>17),R=x+(j^(L|~P))+N[13]+1309151649&4294967295,x=L+(R<<21&4294967295|R>>>11),R=P+(L^(x|~j))+N[4]+4149444226&4294967295,P=x+(R<<6&4294967295|R>>>26),R=j+(x^(P|~L))+N[11]+3174756917&4294967295,j=P+(R<<10&4294967295|R>>>22),R=L+(P^(j|~x))+N[2]+718787259&4294967295,L=j+(R<<15&4294967295|R>>>17),R=x+(j^(L|~P))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var x=P-this.blockSize,N=this.B,L=this.h,j=0;j<P;){if(L==0)for(;j<=x;)s(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<P;)if(N[L++]=k.charCodeAt(j++),L==this.blockSize){s(this,N),L=0;break}}else for(;j<P;)if(N[L++]=k[j++],L==this.blockSize){s(this,N),L=0;break}}this.h=L,this.o+=P},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var x=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=x&255,x/=256;for(this.u(k),k=Array(16),P=x=0;4>P;++P)for(var N=0;32>N;N+=8)k[x++]=this.g[P]>>>N&255;return k};function a(k,P){var x=c;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=P(k)}function l(k,P){this.h=P;for(var x=[],N=!0,L=k.length-1;0<=L;L--){var j=k[L]|0;N&&j==P||(x[L]=j,N=!1)}this.g=x}var c={};function f(k){return-128<=k&&128>k?a(k,function(P){return new l([P|0],0>P?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return A(p(-k));for(var P=[],x=1,N=0;k>=x;N++)P[N]=k/x|0,x*=4294967296;return new l(P,0)}function g(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return A(g(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(P,8)),N=v,L=0;L<k.length;L+=8){var j=Math.min(8,k.length-L),R=parseInt(k.substring(L,L+j),P);8>j?(j=p(Math.pow(P,j)),N=N.j(j).add(p(R))):(N=N.j(x),N=N.add(p(R)))}return N}var v=f(0),E=f(1),I=f(16777216);n=l.prototype,n.m=function(){if(C(this))return-A(this).m();for(var k=0,P=1,x=0;x<this.g.length;x++){var N=this.i(x);k+=(0<=N?N:4294967296+N)*P,P*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(C(this))return"-"+A(this).toString(k);for(var P=p(Math.pow(k,6)),x=this,N="";;){var L=H(x,P).g;x=O(x,L.j(P));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=L,T(x))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function C(k){return k.h==-1}n.l=function(k){return k=O(this,k),C(k)?-1:T(k)?0:1};function A(k){for(var P=k.g.length,x=[],N=0;N<P;N++)x[N]=~k.g[N];return new l(x,~k.h).add(E)}n.abs=function(){return C(this)?A(this):this},n.add=function(k){for(var P=Math.max(this.g.length,k.g.length),x=[],N=0,L=0;L<=P;L++){var j=N+(this.i(L)&65535)+(k.i(L)&65535),R=(j>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);N=R>>>16,j&=65535,R&=65535,x[L]=R<<16|j}return new l(x,x[x.length-1]&-2147483648?-1:0)};function O(k,P){return k.add(A(P))}n.j=function(k){if(T(this)||T(k))return v;if(C(this))return C(k)?A(this).j(A(k)):A(A(this).j(k));if(C(k))return A(this.j(A(k)));if(0>this.l(I)&&0>k.l(I))return p(this.m()*k.m());for(var P=this.g.length+k.g.length,x=[],N=0;N<2*P;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<k.g.length;L++){var j=this.i(N)>>>16,R=this.i(N)&65535,Ce=k.i(L)>>>16,Ke=k.i(L)&65535;x[2*N+2*L]+=R*Ke,V(x,2*N+2*L),x[2*N+2*L+1]+=j*Ke,V(x,2*N+2*L+1),x[2*N+2*L+1]+=R*Ce,V(x,2*N+2*L+1),x[2*N+2*L+2]+=j*Ce,V(x,2*N+2*L+2)}for(N=0;N<P;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=P;N<2*P;N++)x[N]=0;return new l(x,0)};function V(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function B(k,P){this.g=k,this.h=P}function H(k,P){if(T(P))throw Error("division by zero");if(T(k))return new B(v,v);if(C(k))return P=H(A(k),P),new B(A(P.g),A(P.h));if(C(P))return P=H(k,A(P)),new B(A(P.g),P.h);if(30<k.g.length){if(C(k)||C(P))throw Error("slowDivide_ only works with positive integers.");for(var x=E,N=P;0>=N.l(k);)x=q(x),N=q(N);var L=J(x,1),j=J(N,1);for(N=J(N,2),x=J(x,2);!T(N);){var R=j.add(N);0>=R.l(k)&&(L=L.add(x),j=R),N=J(N,1),x=J(x,1)}return P=O(k,L.j(P)),new B(L,P)}for(L=v;0<=k.l(P);){for(x=Math.max(1,Math.floor(k.m()/P.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=p(x),R=j.j(P);C(R)||0<R.l(k);)x-=N,j=p(x),R=j.j(P);T(j)&&(j=E),L=L.add(j),k=O(k,R)}return new B(L,k)}n.A=function(k){return H(this,k).h},n.and=function(k){for(var P=Math.max(this.g.length,k.g.length),x=[],N=0;N<P;N++)x[N]=this.i(N)&k.i(N);return new l(x,this.h&k.h)},n.or=function(k){for(var P=Math.max(this.g.length,k.g.length),x=[],N=0;N<P;N++)x[N]=this.i(N)|k.i(N);return new l(x,this.h|k.h)},n.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),x=[],N=0;N<P;N++)x[N]=this.i(N)^k.i(N);return new l(x,this.h^k.h)};function q(k){for(var P=k.g.length+1,x=[],N=0;N<P;N++)x[N]=k.i(N)<<1|k.i(N-1)>>>31;return new l(x,k.h)}function J(k,P){var x=P>>5;P%=32;for(var N=k.g.length-x,L=[],j=0;j<N;j++)L[j]=0<P?k.i(j+x)>>>P|k.i(j+x+1)<<32-P:k.i(j+x);return new l(L,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ki=l}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bI,Rl,AI,Zc,Lp,RI,PI,xI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(d,y){if(y)e:{var w=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var W=d[b];if(!(W in w))break e;w=w[W]}d=d[d.length-1],b=w[d],y=y(b),y!=b&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var w=0,b=!1,W={next:function(){if(!b&&w<d.length){var Y=w++;return{value:y(Y,d[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(d){return d||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,w){return d.call.apply(d.bind,arguments)}function v(d,y,w){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,b),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function E(d,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function I(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var b=w.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function T(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(b,W,Y){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return y.prototype[W].apply(b,ae)}}function C(d){const y=d.length;if(0<y){const w=Array(y);for(let b=0;b<y;b++)w[b]=d[b];return w}return[]}function A(d,y){for(let w=1;w<arguments.length;w++){const b=arguments[w];if(f(b)){const W=d.length||0,Y=b.length||0;d.length=W+Y;for(let ae=0;ae<Y;ae++)d[W+ae]=b[ae]}else d.push(b)}}class O{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var q=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function J(d,y,w){for(const b in d)y.call(w,d[b],b,d)}function k(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function P(d){const y={};for(const w in d)y[w]=d[w];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,y){let w,b;for(let W=1;W<arguments.length;W++){b=arguments[W];for(w in b)d[w]=b[w];for(let Y=0;Y<x.length;Y++)w=x[Y],Object.prototype.hasOwnProperty.call(b,w)&&(d[w]=b[w])}}function L(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function j(d){c.setTimeout(()=>{throw d},0)}function R(){var d=ge;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ce{constructor(){this.h=this.g=null}add(y,w){const b=Ke.get();b.set(y,w),this.h?this.h.next=b:this.g=b,this.h=b}}var Ke=new O(()=>new Qe,d=>d.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,se=!1,ge=new Ce,le=()=>{const d=c.Promise.resolve(void 0);Fe=()=>{d.then(z)}};var z=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(w){j(w)}var y=Ke;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}se=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return d}();function be(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(q){e:{try{H(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&be.aa.h.call(this)}}T(be,pe);var De={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function He(d,y,w,b,W){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!b,this.ha=W,this.key=++Le,this.da=this.fa=!1}function rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function vn(d){this.src=d,this.g={},this.h=0}vn.prototype.add=function(d,y,w,b,W){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ae=kn(d,y,b,W);return-1<ae?(y=d[ae],w||(y.fa=!1)):(y=new He(y,this.src,Y,!!b,W),y.fa=w,d.push(y)),y};function Fr(d,y){var w=y.type;if(w in d.g){var b=d.g[w],W=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(b,W,1),Y&&(rt(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function kn(d,y,w,b){for(var W=0;W<d.length;++W){var Y=d[W];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==b)return W}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),Ur={};function Br(d,y,w,b,W){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Br(d,y[Y],w,b,W);return null}return w=Da(w),d&&d[Oe]?d.K(y,w,p(b)?!!b.capture:!1,W):jr(d,y,w,!1,b,W)}function jr(d,y,w,b,W,Y){if(!y)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Ye=oo(d);if(Ye||(d[Nn]=Ye=new vn(d)),w=Ye.add(y,w,b,ae,Y),w.proxy)return w;if(b=so(),w.proxy=b,b.src=d,b.listener=w,d.addEventListener)Pe||(W=ae),W===void 0&&(W=!1),d.addEventListener(y.toString(),b,W);else if(d.attachEvent)d.attachEvent(zr(y.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return w}function so(){function d(w){return y.call(d.src,d.listener,w)}const y=xa;return d}function On(d,y,w,b,W){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)On(d,y[Y],w,b,W);else b=p(b)?!!b.capture:!!b,w=Da(w),d&&d[Oe]?(d=d.i,y=String(y).toString(),y in d.g&&(Y=d.g[y],w=kn(Y,w,b,W),-1<w&&(rt(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete d.g[y],d.h--)))):d&&(d=oo(d))&&(y=d.g[y.toString()],d=-1,y&&(d=kn(y,w,b,W)),(w=-1<d?y[d]:null)&&yn(w))}function yn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Oe])Fr(y.i,d);else{var w=d.type,b=d.proxy;y.removeEventListener?y.removeEventListener(w,b,d.capture):y.detachEvent?y.detachEvent(zr(w),b):y.addListener&&y.removeListener&&y.removeListener(b),(w=oo(y))?(Fr(w,d),w.h==0&&(w.src=null,y[Nn]=null)):rt(d)}}}function zr(d){return d in Ur?Ur[d]:Ur[d]="on"+d}function xa(d,y){if(d.da)d=!0;else{y=new be(y,this);var w=d.listener,b=d.ha||d.src;d.fa&&yn(d),d=w.call(b,y)}return d}function oo(d){return d=d[Nn],d instanceof vn?d:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(d){return typeof d=="function"?d:(d[ao]||(d[ao]=function(y){return d.handleEvent(y)}),d[ao])}function It(){X.call(this),this.i=new vn(this),this.M=this,this.F=null}T(It,X),It.prototype[Oe]=!0,It.prototype.removeEventListener=function(d,y,w,b){On(this,d,y,w,b)};function Tt(d,y){var w,b=d.F;if(b)for(w=[];b;b=b.F)w.push(b);if(d=d.M,b=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var W=y;y=new pe(b,d),N(y,W)}if(W=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ae=y.g=w[Y];W=$r(ae,b,!0,y)&&W}if(ae=y.g=d,W=$r(ae,b,!0,y)&&W,W=$r(ae,b,!1,y)&&W,w)for(Y=0;Y<w.length;Y++)ae=y.g=w[Y],W=$r(ae,b,!1,y)&&W}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],b=0;b<w.length;b++)rt(w[b]);delete d.g[y],d.h--}}this.F=null},It.prototype.K=function(d,y,w,b){return this.i.add(String(d),y,!1,w,b)},It.prototype.L=function(d,y,w,b){return this.i.add(String(d),y,!0,w,b)};function $r(d,y,w,b){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Y=0;Y<y.length;++Y){var ae=y[Y];if(ae&&!ae.da&&ae.capture==w){var Ye=ae.listener,St=ae.ha||ae.src;ae.fa&&Fr(d.i,ae),W=Ye.call(St,b)!==!1&&W}}return W&&!b.defaultPrevented}function ka(d,y,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function pi(d){d.g=ka(()=>{d.g=null,d.i&&(d.i=!1,pi(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class ms extends X{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(d){X.call(this),this.h=d,this.g={}}T(gs,X);var Na=[];function Oa(d){J(d.g,function(y,w){this.g.hasOwnProperty(w)&&yn(y)},d),d.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Oa(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var La=c.JSON.stringify,Ma=c.JSON.parse,Va=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function vs(){}vs.prototype.h=null;function lo(d){return d.h||(d.h=d.i())}function uo(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){pe.call(this,"d")}T(vr,pe);function co(){pe.call(this,"c")}T(co,pe);var yr={},Fa=null;function ys(){return Fa=Fa||new It}yr.La="serverreachability";function Ua(d){pe.call(this,yr.La,d)}T(Ua,pe);function Wr(d){const y=ys();Tt(y,new Ua(y))}yr.STAT_EVENT="statevent";function Ba(d,y){pe.call(this,yr.STAT_EVENT,d),this.stat=y}T(Ba,pe);function pt(d){const y=ys();Tt(y,new Ba(y,d))}yr.Ma="timingevent";function ho(d,y){pe.call(this,yr.Ma,d),this.size=y}T(ho,pe);function Xn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function Es(d,y,w,b,W,Y){d.info(function(){if(d.g)if(Y)for(var ae="",Ye=Y.split("&"),St=0;St<Ye.length;St++){var Be=Ye[St].split("=");if(1<Be.length){var Pt=Be[0];Be=Be[1];var yt=Pt.split("_");ae=2<=yt.length&&yt[1]=="type"?ae+(Pt+"="+Be+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+b+") [attempt "+W+"]: "+y+`
`+w+`
`+ae})}function fo(d,y,w,b,W,Y,ae){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+W+"]: "+y+`
`+w+`
`+Y+" "+ae})}function Jn(d,y,w,b){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+wh(d,w)+(b?" "+b:"")})}function ja(d,y){d.info(function(){return"TIMEOUT: "+y})}_s.prototype.info=function(){};function wh(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var b=w[d];if(!(2>b.length)){var W=b[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return La(w)}catch{return y}}var po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function ws(){}T(ws,vs),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},Zn=new ws;function er(d,y,w,b){this.j=d,this.i=y,this.l=w,this.R=b||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}var za={},mo={};function go(d,y,w){d.L=1,d.v=_i(En(y)),d.m=w,d.P=!0,$a(d,null)}function $a(d,y){d.F=Date.now(),Ze(d),d.A=En(d.v);var w=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),wi(w.i,"t",b),d.C=0,w=d.j.J,d.h=new Su,d.g=zu(d.j,w?y:null,!d.m),0<d.O&&(d.M=new ms(E(d.Y,d,d.g),d.O)),y=d.U,w=d.g,b=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Na[0]=W.toString()),W=Na);for(var Y=0;Y<W.length;Y++){var ae=Br(w,W[Y],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Wr(),Es(d.i,d.u,d.A,d.l,d.R,d.m)}er.prototype.ca=function(d){d=d.target;const y=this.M;y&&an(d)==3?y.j():this.Y(d)},er.prototype.Y=function(d){try{if(d==this.g)e:{const yt=an(this.g);var y=this.g.Ba();const Fn=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Qa(this.g)))){this.J||yt!=4||y==7||(y==8||0>=Fn?Wr(3):Wr(2)),Is(this);var w=this.g.Z();this.X=w;t:if(Cu(this)){var b=Qa(this.g);d="";var W=b.length,Y=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),mi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(b[y],{stream:!(Y&&y==W-1)});b.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,fo(this.i,this.u,this.A,this.l,this.R,yt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,St=this.g;if((Ye=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ye)){var Be=Ye;break t}}Be=null}if(w=Be)Jn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wa(this,w);else{this.o=!1,this.s=3,pt(12),Mn(this),mi(this);break e}}if(this.P){w=!0;let In;for(;!this.J&&this.C<ae.length;)if(In=Ih(this,ae),In==mo){yt==4&&(this.s=4,pt(14),w=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(In==za){this.s=4,pt(15),Jn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Jn(this.i,this.l,In,null),Wa(this,In);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ae.length!=0||this.h.h||(this.s=1,pt(16),w=!1),this.o=this.o&&w,!w)Jn(this.i,this.l,ae,"[Invalid Chunked Response]"),Mn(this),mi(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Xa(Pt),Pt.M=!0,pt(11))}}else Jn(this.i,this.l,ae,null),Wa(this,ae);yt==4&&Mn(this),this.o&&!this.J&&(yt==4?Ao(this.j,this):(this.o=!1,Ze(this)))}else Io(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Mn(this),mi(this)}}}catch{}finally{}};function Cu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ih(d,y){var w=d.C,b=y.indexOf(`
`,w);return b==-1?mo:(w=Number(y.substring(w,b)),isNaN(w)?za:(b+=1,b+w>y.length?mo:(y=y.slice(b,b+w),d.C=b+w,y)))}er.prototype.cancel=function(){this.J=!0,Mn(this)};function Ze(d){d.S=Date.now()+d.I,bu(d,d.I)}function bu(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Xn(E(d.ba,d),y)}function Is(d){d.B&&(c.clearTimeout(d.B),d.B=null)}er.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ja(this.i,this.A),this.L!=2&&(Wr(),pt(17)),Mn(this),this.s=2,mi(this)):bu(this,this.S-d)};function mi(d){d.j.G==0||d.J||Ao(d.j,d)}function Mn(d){Is(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Oa(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Wa(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||Zt(w.h,d))){if(!d.K&&Zt(w.h,d)&&w.G==3){try{var b=w.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var W=b;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)bo(w),sr(w);else break e;Co(w),pt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xn(E(w.Za,w),6e3));if(1>=Ru(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Qr(w,11)}else if((d.K||w.g==d)&&bo(w),!V(y))for(W=w.Da.g.parse(y),y=0;y<W.length;y++){let Be=W[y];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const Pt=Be[3];Pt!=null&&(w.la=Pt,w.j.info("VER="+w.la));const yt=Be[4];yt!=null&&(w.Aa=yt,w.j.info("SVER="+w.Aa));const Fn=Be[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(b=1.5*Fn,w.L=b,w.j.info("backChannelRequestTimeoutMs_="+b)),b=w;const In=d.g;if(In){const Ps=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var Y=b.h;Y.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ha(Y,Y.h),Y.h=null))}if(b.D){const Po=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(b.ya=Po,Je(b.I,b.D,Po))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),b=w;var ae=d;if(b.qa=ju(b,b.J?b.ia:null,b.W),ae.K){Pu(b.h,ae);var Ye=ae,St=b.L;St&&(Ye.I=St),Ye.B&&(Is(Ye),Ze(Ye)),b.g=ae}else Rs(b);0<w.i.length&&Ir(w)}else Be[0]!="stop"&&Be[0]!="close"||Qr(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Qr(w,7):Vt(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}Wr(4)}catch{}}var Au=class{constructor(d,y){this.g=d,this.map=y}};function Ts(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ru(d){return d.h?1:d.g?d.g.size:0}function Zt(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ha(d,y){d.g?d.g.add(y):d.h=y}function Pu(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ts.prototype.cancel=function(){if(this.i=xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return C(d.i)}function vo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],w=d.length,b=0;b<w;b++)y.push(d[b]);return y}y=[],w=0;for(b in d)y[w++]=d[b];return y}function yo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const b in d)y[w++]=b;return y}}}function gi(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=yo(d),b=vo(d),W=b.length,Y=0;Y<W;Y++)y.call(void 0,b[Y],w&&w[Y],d)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var b=d[w].indexOf("="),W=null;if(0<=b){var Y=d[w].substring(0,b);W=d[w].substring(b+1)}else Y=d[w];y(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Hr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Hr){this.h=d.h,Cs(this,d.j),this.o=d.o,this.g=d.g,vi(this,d.s),this.l=d.l;var y=d.i,w=new _r;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),yi(this,w),this.m=d.m}else d&&(y=String(d).match(Ss))?(this.h=!1,Cs(this,y[1]||"",!0),this.o=Ue(y[2]||""),this.g=Ue(y[3]||"",!0),vi(this,y[4]),this.l=Ue(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=Ue(y[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}Hr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ei(y,_o,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ei(y,_o,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ei(w,w.charAt(0)=="/"?Nu:ku,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ei(w,Ga)),d.join("")};function En(d){return new Hr(d)}function Cs(d,y,w){d.j=w?Ue(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function vi(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function yi(d,y,w){y instanceof _r?(d.i=y,Er(d.i,d.h)):(w||(y=Ei(y,Ou)),d.i=new _r(y,d.h))}function Je(d,y,w){d.i.set(y,w)}function _i(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ue(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ei(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,Du),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Du(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _o=/[#\/\?@]/g,ku=/[#\?:]/g,Nu=/[#\?]/g,Ou=/[#\?@]/g,Ga=/#/g;function _r(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Mt(d){d.g||(d.g=new Map,d.h=0,d.i&&Th(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=_r.prototype,n.add=function(d,y){Mt(this),this.i=null,d=Vn(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function tr(d,y){Mt(d),y=Vn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function nr(d,y){return Mt(d),y=Vn(d,y),d.g.has(y)}n.forEach=function(d,y){Mt(this),this.g.forEach(function(w,b){w.forEach(function(W){d.call(y,W,b,this)},this)},this)},n.na=function(){Mt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let b=0;b<y.length;b++){const W=d[b];for(let Y=0;Y<W.length;Y++)w.push(y[b])}return w},n.V=function(d){Mt(this);let y=[];if(typeof d=="string")nr(this,d)&&(y=y.concat(this.g.get(Vn(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},n.set=function(d,y){return Mt(this),this.i=null,d=Vn(this,d),nr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function wi(d,y,w){tr(d,y),0<w.length&&(d.i=null,d.g.set(Vn(d,y),C(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var b=y[w];const Y=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var W=Y;ae[b]!==""&&(W+="="+encodeURIComponent(String(ae[b]))),d.push(W)}}return this.i=d.join("&")};function Vn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Er(d,y){y&&!d.j&&(Mt(d),d.i=null,d.g.forEach(function(w,b){var W=b.toLowerCase();b!=W&&(tr(this,b),wi(this,W,w))},d)),d.j=y}function Sh(d,y){const w=new _s;if(c.Image){const b=new Image;b.onload=I(on,w,"TestLoadImage: loaded",!0,y,b),b.onerror=I(on,w,"TestLoadImage: error",!1,y,b),b.onabort=I(on,w,"TestLoadImage: abort",!1,y,b),b.ontimeout=I(on,w,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else y(!1)}function Lu(d,y){const w=new _s,b=new AbortController,W=setTimeout(()=>{b.abort(),on(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:b.signal}).then(Y=>{clearTimeout(W),Y.ok?on(w,"TestPingServer: ok",!0,y):on(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),on(w,"TestPingServer: error",!1,y)})}function on(d,y,w,b,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),b(w)}catch{}}function Ch(){this.g=new Va}function Mu(d,y,w){const b=w||"";try{gi(d,function(W,Y){let ae=W;p(W)&&(ae=La(W)),y.push(b+Y+"="+encodeURIComponent(ae))})}catch(W){throw y.push(b+"type="+encodeURIComponent("_badmap")),W}}function Gr(d){this.l=d.Ub||null,this.j=d.eb||!1}T(Gr,vs),Gr.prototype.g=function(){return new bs(this.l,this.j)},Gr.prototype.i=function(d){return function(){return d}}({});function bs(d,y){It.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(bs,It),n=bs.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ir(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?rr(this):ir(this),this.readyState==3&&Vu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,rr(this))},n.Qa=function(d){this.g&&(this.response=d,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ir(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qr(d){let y="";return J(d,function(w,b){y+=b,y+=":",y+=w,y+=`\r
`}),y}function Ii(d,y,w){e:{for(b in w){var b=!1;break e}b=!0}b||(w=qr(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Je(d,y,w))}function at(d){It.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(at,It);var bh=/^https?$/i,qa=["POST","PUT"];n=at.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,w,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?lo(this.o):lo(Zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Y){As(this,Y);return}if(d=w||"",w=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var W in b)w.set(W,b[W]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())w.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qa,y,void 0))||b||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of w)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){As(this,Y)}};function As(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Eo(d),wn(d)}function Eo(d){d.A||(d.A=!0,Tt(d,"complete"),Tt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Tt(this,"complete"),Tt(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},n.bb=function(){Ka(this)};function Ka(d){if(d.h&&typeof l<"u"&&(!d.v[1]||an(d)!=4||d.Z()!=2)){if(d.u&&an(d)==4)ka(d.Ea,0,d);else if(Tt(d,"readystatechange"),an(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var b;if(b=ae===0){var W=String(d.D).match(Ss)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),b=!bh.test(W?W.toLowerCase():"")}w=b}if(w)Tt(d,"complete"),Tt(d,"success");else{d.m=6;try{var Y=2<an(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",Eo(d)}}finally{wn(d)}}}}function wn(d,y){if(d.g){wo(d);const w=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Tt(d,"ready");try{w.onreadystatechange=b}catch{}}}function wo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function an(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ma(y)}};function Qa(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(d){const y={};d=(d.g&&2<=an(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(V(d[b]))continue;var w=L(d[b]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[W]||[];y[W]=Y,Y.push(w)}k(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function Ya(d){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,d),this.cb=wr("retryDelaySeedMs",1e4,d),this.Wa=wr("forwardChannelMaxRetries",2,d),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(d&&d.concurrentRequestLimit),this.Da=new Ch,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ya.prototype,n.la=8,n.G=1,n.connect=function(d,y,w,b){pt(0),this.W=d,this.H=y||{},w&&b!==void 0&&(this.H.OSID=w,this.H.OAID=b),this.F=this.X,this.I=ju(this,null,this.W),Ir(this)};function Vt(d){if(To(d),d.G==3){var y=d.U++,w=En(d.I);if(Je(w,"SID",d.K),Je(w,"RID",y),Je(w,"TYPE","terminate"),Kr(d,w),y=new er(d,d.j,y),y.L=2,y.v=_i(En(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ze(y)}Bu(d)}function sr(d){d.g&&(Xa(d),d.g.cancel(),d.g=null)}function To(d){sr(d),d.u&&(c.clearTimeout(d.u),d.u=null),bo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ir(d){if(!_n(d.h)&&!d.s){d.s=!0;var y=d.Ga;Fe||le(),se||(Fe(),se=!0),ge.add(y,d),d.B=0}}function Ah(d,y){return Ru(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Xn(E(d.Ga,d,y),Uu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new er(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=P(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var b=this.i[w];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ti(this,W,y),w=En(this.I),Je(w,"RID",d),Je(w,"CVER",22),this.D&&Je(w,"X-HTTP-Session-Id",this.D),Kr(this,w),Y&&(this.O?y="headers="+encodeURIComponent(String(qr(Y)))+"&"+y:this.m&&Ii(w,this.m,Y)),Ha(this.h,W),this.Ua&&Je(w,"TYPE","init"),this.P?(Je(w,"$req",y),Je(w,"SID","null"),W.T=!0,go(W,w,null)):go(W,w,y),this.G=2}}else this.G==3&&(d?So(this,d):this.i.length==0||_n(this.h)||So(this))};function So(d,y){var w;y?w=y.l:w=d.U++;const b=En(d.I);Je(b,"SID",d.K),Je(b,"RID",w),Je(b,"AID",d.T),Kr(d,b),d.m&&d.o&&Ii(b,d.m,d.o),w=new er(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Ti(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ha(d.h,w),go(w,b,y)}function Kr(d,y){d.H&&J(d.H,function(w,b){Je(y,b,w)}),d.l&&gi({},function(w,b){Je(y,b,w)})}function Ti(d,y,w){w=Math.min(d.i.length,w);var b=d.l?E(d.l.Na,d.l,d):null;e:{var W=d.i;let Y=-1;for(;;){const ae=["count="+w];Y==-1?0<w?(Y=W[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Ye=!0;for(let St=0;St<w;St++){let Be=W[St].g;const Pt=W[St].map;if(Be-=Y,0>Be)Y=Math.max(0,W[St].g-100),Ye=!1;else try{Mu(Pt,ae,"req"+Be+"_")}catch{b&&b(Pt)}}if(Ye){b=ae.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,b}function Rs(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Fe||le(),se||(Fe(),se=!0),ge.add(y,d),d.v=0}}function Co(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Xn(E(d.Fa,d),Uu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Xn(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),sr(this),Fu(this))};function Xa(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Fu(d){d.g=new er(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=En(d.qa);Je(y,"RID","rpc"),Je(y,"SID",d.K),Je(y,"AID",d.T),Je(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(y,"TO",d.ja),Je(y,"TYPE","xmlhttp"),Kr(d,y),d.m&&d.o&&Ii(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=_i(En(y)),w.m=null,w.P=!0,$a(w,d)}n.Za=function(){this.C!=null&&(this.C=null,sr(this),Co(this),pt(19))};function bo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ao(d,y){var w=null;if(d.g==y){bo(d),Xa(d),d.g=null;var b=2}else if(Zt(d.h,y))w=y.D,Pu(d.h,y),b=1;else return;if(d.G!=0){if(y.o)if(b==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;b=ys(),Tt(b,new ho(b,w)),Ir(d)}else Rs(d);else if(W=y.s,W==3||W==0&&0<y.X||!(b==1&&Ah(d,y)||b==2&&Co(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),W){case 1:Qr(d,5);break;case 4:Qr(d,10);break;case 3:Qr(d,6);break;default:Qr(d,2)}}}function Uu(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function Qr(d,y){if(d.j.info("Error code "+y),y==2){var w=E(d.fb,d),b=d.Xa;const W=!b;b=new Hr(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cs(b,"https"),_i(b),W?Sh(b.toString(),w):Lu(b.toString(),w)}else pt(2);d.G=0,d.l&&d.l.sa(y),Bu(d),To(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Bu(d){if(d.G=0,d.ka=[],d.l){const y=xu(d.h);(y.length!=0||d.i.length!=0)&&(A(d.ka,y),A(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function ju(d,y,w){var b=w instanceof Hr?En(w):new Hr(w);if(b.g!="")y&&(b.g=y+"."+b.g),vi(b,b.s);else{var W=c.location;b=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Y=new Hr(null);b&&Cs(Y,b),y&&(Y.g=y),W&&vi(Y,W),w&&(Y.l=w),b=Y}return w=d.D,y=d.ya,w&&y&&Je(b,w,y),Je(b,"VER",d.la),Kr(d,b),b}function zu(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new at(new Gr({eb:w})):new at(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ja(){}n=Ja.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ro(){}Ro.prototype.g=function(d,y){return new en(d,y)};function en(d,y){It.call(this),this.g=new Ya(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!V(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Tr(this)}T(en,It),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vt(this.g)},en.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=La(d),d=w);y.i.push(new Au(y.Ya++,d)),y.G==3&&Ir(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,en.aa.N.call(this)};function $u(d){vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}T($u,vr);function Wu(){co.call(this),this.status=1}T(Wu,co);function Tr(d){this.g=d}T(Tr,Ja),Tr.prototype.ua=function(){Tt(this.g,"a")},Tr.prototype.ta=function(d){Tt(this.g,new $u(d))},Tr.prototype.sa=function(d){Tt(this.g,new Wu)},Tr.prototype.ra=function(){Tt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,xI=function(){return new Ro},PI=function(){return ys()},RI=yr,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,Zc=po,Tu.COMPLETE="complete",AI=Tu,uo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",It.prototype.listen=It.prototype.K,Rl=uo,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,bI=at}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",C_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new pm("@firebase/firestore");function Xo(){return Ys.logLevel}function ce(n,...e){if(Ys.logLevel<=Me.DEBUG){const t=e.map(bm);Ys.debug(`Firestore (${wa}): ${n}`,...t)}}function di(n,...e){if(Ys.logLevel<=Me.ERROR){const t=e.map(bm);Ys.error(`Firestore (${wa}): ${n}`,...t)}}function aa(n,...e){if(Ys.logLevel<=Me.WARN){const t=e.map(bm);Ys.warn(`Firestore (${wa}): ${n}`,...t)}}function bm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,DI(n,r,t)}function DI(n,e,t){let r=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw di(r),new Error(r)}function qe(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||DI(e,s,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class qP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KP{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new kI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class QP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new b_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=JP(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Mp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ke(r,s);{const a=NI(),l=ZP(a.encode(A_(n,t)),a.encode(A_(e,t)));return l!==0?l:ke(r,s)}}t+=r>65535?2:1}return ke(n.length,e.length)}function A_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ZP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function la(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-62135596800,P_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*P_);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<R_)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-R_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new At(0,0))}static max(){return new Re(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Rr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Rr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=Rr.isNumericId(e),s=Rr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):Mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class ot extends Rr{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const e1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Rr{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return e1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new jt([x_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function t1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new ns(s,_e.empty(),e)}function n1(n){return new ns(n.readTime,n.key,zl)}class ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ns(Re.min(),_e.empty(),zl)}static max(){return new ns(Re.max(),_e.empty(),zl)}}function r1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==i1)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&t()},f=>r(f))}),l=!0,a===s&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(s=>s?ee.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,t){return new ee((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function o1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function Hd(n){return n==null}function pd(n){return n===0&&1/n==-1/0}function a1(n){return typeof n=="number"&&Number.isInteger(n)&&!pd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="";function l1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=D_(e)),e=u1(n.get(t),e);return D_(e)}function u1(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case LI:t+="";break;default:t+=a}}return t}function D_(n){return n+LI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ds(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Bt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new An([])}unionWith(e){let t=new Rt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VI("Invalid base64 string: "+a):a}}(e);return new $t(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const c1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=c1.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="server_timestamp",UI="__type__",BI="__previous_value__",jI="__local_write_time__";function Rm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[UI])===null||t===void 0?void 0:t.stringValue)===FI}function Gd(n){const e=n.mapValue.fields[BI];return Rm(e)?Gd(e):e}function $l(n){const e=rs(n.mapValue.fields[jI].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t,r,s,a,l,c,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const md="(default)";class Wl{constructor(e,t){this.projectId=e,this.database=t||md}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="__type__",h1="__max__",jc={mapValue:{}},$I="__vector__",gd="value";function ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rm(n)?4:p1(n)?9007199254740991:f1(n)?10:11:Se(28295,{value:n})}function Or(n,e){if(n===e)return!0;const t=ss(n);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=rs(s.timestampValue),c=rs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return is(s.bytesValue).isEqual(is(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return gt(s.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return gt(s.integerValue)===gt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=gt(s.doubleValue),c=gt(a.doubleValue);return l===c?pd(l)===pd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(k_(l)!==k_(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Or(l[f],c[f])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find(t=>Or(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=ss(n),r=ss(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=gt(a.integerValue||a.doubleValue),f=gt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return O_(n.timestampValue,e.timestampValue);case 4:return O_($l(n),$l(e));case 5:return Mp(n.stringValue,e.stringValue);case 6:return function(a,l){const c=is(a),f=is(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=ke(c[p],f[p]);if(g!==0)return g}return ke(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ke(gt(a.latitude),gt(l.latitude));return c!==0?c:ke(gt(a.longitude),gt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return L_(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const v=a.fields||{},E=l.fields||{},I=(c=v[gd])===null||c===void 0?void 0:c.arrayValue,T=(f=E[gd])===null||f===void 0?void 0:f.arrayValue,C=ke(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:L_(I,T)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===jc.mapValue&&l===jc.mapValue)return 0;if(a===jc.mapValue)return 1;if(l===jc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=Mp(f[v],g[v]);if(E!==0)return E;const I=ua(c[f[v]],p[g[v]]);if(I!==0)return I}return ke(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function O_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=rs(n),r=rs(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function L_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ua(t[s],r[s]);if(a)return a}return ke(t.length,r.length)}function ca(n){return Vp(n)}function Vp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=rs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Vp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Vp(t.fields[l])}`;return s+"}"}(n.mapValue):Se(61005,{value:n})}function ed(n){switch(ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gd(n);return e?16+ed(e):16;case 5:return 2*n.stringValue.length;case 6:return is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+ed(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ds(r.fields,(a,l)=>{s+=a.length+ed(l)}),s}(n.mapValue);default:throw Se(13486,{value:n})}}function M_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fp(n){return!!n&&"integerValue"in n}function Pm(n){return!!n&&"arrayValue"in n}function V_(n){return!!n&&"nullValue"in n}function F_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function td(n){return!!n&&"mapValue"in n}function f1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||t===void 0?void 0:t.stringValue)===$I}function Ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ds(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ol(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function p1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===h1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!td(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Ol(l):s.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ds(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new gn(Ol(this.value))}}function WI(n){const e=[];return ds(n.fields,(t,r)=>{const s=new jt([t]);if(td(r)){const a=WI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Yt(e,0,Re.min(),Re.min(),Re.min(),gn.empty(),0)}static newFoundDocument(e,t,r,s){return new Yt(e,1,t,Re.min(),r,s,0)}static newNoDocument(e,t){return new Yt(e,2,t,Re.min(),Re.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,Re.min(),Re.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t){this.position=e,this.inclusive=t}}function U_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=ua(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function B_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Or(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function m1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{}class wt extends HI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new v1(e,t,r):t==="array-contains"?new E1(e,r):t==="in"?new w1(e,r):t==="not-in"?new I1(e,r):t==="array-contains-any"?new T1(e,r):new wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new y1(e,r):new _1(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ua(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends HI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new gr(e,t)}matches(e){return GI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GI(n){return n.op==="and"}function qI(n){return g1(n)&&GI(n)}function g1(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function Up(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(qI(n))return n.filters.map(e=>Up(e)).join(",");{const e=n.filters.map(t=>Up(t)).join(",");return`${n.op}(${e})`}}function KI(n,e){return n instanceof wt?function(r,s){return s instanceof wt&&r.op===s.op&&r.field.isEqual(s.field)&&Or(r.value,s.value)}(n,e):n instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&KI(l,s.filters[c]),!0):!1}(n,e):void Se(19439)}function QI(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof gr?function(t){return t.op.toString()+" {"+t.getFilters().map(QI).join(" ,")+"}"}(n):"Filter"}class v1 extends wt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class y1 extends wt{constructor(e,t){super(e,"in",t),this.keys=YI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _1 extends wt{constructor(e,t){super(e,"not-in",t),this.keys=YI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class E1 extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pm(t)&&Hl(t.arrayValue,this.value)}}class w1 extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class I1 extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}}class T1 extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function j_(n,e=null,t=[],r=[],s=null,a=null,l=null){return new S1(n,e,t,r,s,a,l)}function xm(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Up(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ca(r)).join(",")),e.Ie=t}return e.Ie}function Dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!m1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!B_(n.startAt,e.startAt)&&B_(n.endAt,e.endAt)}function Bp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function C1(n,e,t,r,s,a,l,c){return new Sa(n,e,t,r,s,a,l,c)}function qd(n){return new Sa(n)}function z_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XI(n){return n.collectionGroup!==null}function Ll(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(jt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Gl(a,r))}),t.has(jt.keyField().canonicalString())||e.Ee.push(new Gl(jt.keyField(),r))}return e.Ee}function kr(n){const e=xe(n);return e.de||(e.de=b1(e,Ll(n))),e.de}function b1(n,e){if(n.limitType==="F")return j_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Gl(s.field,a)});const t=n.endAt?new vd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vd(n.startAt.position,n.startAt.inclusive):null;return j_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jp(n,e){const t=n.filters.concat([e]);return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zp(n,e,t){return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kd(n,e){return Dm(kr(n),kr(e))&&n.limitType===e.limitType}function JI(n){return`${xm(kr(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>QI(s)).join(", ")}]`),Hd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ca(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ca(s)).join(",")),`Target(${r})`}(kr(n))}; limitType=${n.limitType})`}function Qd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ll(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,f){const p=U_(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,Ll(r),s)||r.endAt&&!function(l,c,f){const p=U_(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,Ll(r),s))}(n,e)}function A1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZI(n){return(e,t)=>{let r=!1;for(const s of Ll(n)){const a=R1(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function R1(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?ua(f,p):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return MI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new dt(_e.comparator);function hi(){return P1}const e0=new dt(_e.comparator);function Pl(...n){let e=e0;for(const t of n)e=e.insert(t.key,t);return e}function t0(n){let e=e0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hs(){return Ml()}function n0(){return Ml()}function Ml(){return new to(n=>n.toString(),(n,e)=>n.isEqual(e))}const x1=new dt(_e.comparator),D1=new Rt(_e.comparator);function Ve(...n){let e=D1;for(const t of n)e=e.add(t);return e}const k1=new Rt(ke);function N1(){return k1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function r0(n){return{integerValue:""+n}}function O1(n,e){return a1(e)?r0(e):km(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function L1(n,e,t){return n instanceof ql?function(s,a){const l={fields:{[UI]:{stringValue:FI},[jI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Rm(a)&&(a=Gd(a)),a&&(l.fields[BI]=a),{mapValue:l}}(t,e):n instanceof Kl?s0(n,e):n instanceof Ql?o0(n,e):function(s,a){const l=i0(s,a),c=$_(l)+$_(s.Re);return Fp(l)&&Fp(s.Re)?r0(c):km(s.serializer,c)}(n,e)}function M1(n,e,t){return n instanceof Kl?s0(n,e):n instanceof Ql?o0(n,e):t}function i0(n,e){return n instanceof yd?function(r){return Fp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ql extends Yd{}class Kl extends Yd{constructor(e){super(),this.elements=e}}function s0(n,e){const t=a0(e);for(const r of n.elements)t.some(s=>Or(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends Yd{constructor(e){super(),this.elements=e}}function o0(n,e){let t=a0(e);for(const r of n.elements)t=t.filter(s=>!Or(s,r));return{arrayValue:{values:t}}}class yd extends Yd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function $_(n){return gt(n.integerValue||n.doubleValue)}function a0(n){return Pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.field=e,this.transform=t}}function F1(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Kl&&s instanceof Kl||r instanceof Ql&&s instanceof Ql?la(r.elements,s.elements,Or):r instanceof yd&&s instanceof yd?Or(r.Re,s.Re):r instanceof ql&&s instanceof ql}(n.transform,e.transform)}class U1{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xd{}function l0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nm(n.key,Kn.none()):new hu(n.key,n.data,Kn.none());{const t=n.data,r=gn.empty();let s=new Rt(jt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new hs(n.key,r,new An(s.toArray()),Kn.none())}}function B1(n,e,t){n instanceof hu?function(s,a,l){const c=s.value.clone(),f=H_(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof hs?function(s,a,l){if(!nd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=H_(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(u0(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Vl(n,e,t,r){return n instanceof hu?function(a,l,c,f){if(!nd(a.precondition,l))return c;const p=a.value.clone(),g=G_(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof hs?function(a,l,c,f){if(!nd(a.precondition,l))return c;const p=G_(a.fieldTransforms,f,l),g=l.data;return g.setAll(u0(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,l,c){return nd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function j1(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=i0(r.transform,s||null);a!=null&&(t===null&&(t=gn.empty()),t.set(r.field,a))}return t||null}function W_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&la(r,s,(a,l)=>F1(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends Xd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hs extends Xd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function H_(n,e,t){const r=new Map;qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,M1(l,c,t[s]))}return r}function G_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,L1(a,l,e))}return r}class Nm extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z1 extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&B1(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n0();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const f=l0(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,r)=>W_(t,r))&&la(this.baseMutations,e.baseMutations,(t,r)=>W_(t,r))}}class Om{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return x1}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Om(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function G1(n){switch(n){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function c0(n){if(n===void 0)return di("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:n})}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Ki([4294967295,4294967295],0);function q_(n){const e=NI().encode(n),t=new CI;return t.update(e),new Uint8Array(t.digest())}function K_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ki([t,r],0),new Ki([s,a],0)]}class Lm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xl(`Invalid padding: ${t}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ki.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(Ki.fromNumber(r)));return s.compare(q1)===1&&(s=new Ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=q_(e),[r,s]=K_(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);if(!this.Se(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Lm(a,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=q_(e),[r,s]=K_(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jd(Re.min(),s,new dt(ke),hi(),Ve())}}class fu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fu(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class d0{constructor(e,t){this.targetId=e,this.Ce=t}}class h0{constructor(e,t,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Q_{constructor(){this.Fe=0,this.Me=Y_(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:a})}}),new fu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Y_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class K1{constructor(e){this.ze=e,this.je=new Map,this.He=hi(),this.Je=zc(),this.Ye=zc(),this.Ze=new dt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(Bp(a))if(r===0){const l=new _e(a.path);this.tt(t,l,Yt.newNoDocument(l,Re.min()))}else qe(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),f=c?this.lt(c,e,l):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=is(r).toUint8Array()}catch(f){if(f instanceof VI)return aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Lm(l,s,a)}catch(f){return aa(f instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&Bp(c.target)){const f=new _e(c.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,Yt.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=Ve();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new Jd(e,t,this.Ze,this.He,r);return this.He=hi(),this.Je=zc(),this.Ye=zc(),this.Ze=new dt(ke),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Q_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Rt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Rt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Q_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function zc(){return new dt(_e.comparator)}function Y_(){return new dt(_e.comparator)}const Q1={asc:"ASCENDING",desc:"DESCENDING"},Y1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X1={and:"AND",or:"OR"};class J1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $p(n,e){return n.useProto3Json||Hd(e)?e:{value:e}}function _d(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Z1(n,e){return _d(n,e.toTimestamp())}function Nr(n){return qe(!!n,49232),Re.fromTimestamp(function(t){const r=rs(t);return new At(r.seconds,r.nanos)}(n))}function Mm(n,e){return Wp(n,e).canonicalString()}function Wp(n,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function p0(n){const e=ot.fromString(n);return qe(_0(e),10190,{key:e.toString()}),e}function Hp(n,e){return Mm(n.databaseId,e.path)}function op(n,e){const t=p0(e);if(t.get(1)!==n.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(g0(t))}function m0(n,e){return Mm(n.databaseId,e)}function ex(n){const e=p0(n);return e.length===4?ot.emptyPath():g0(e)}function Gp(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g0(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function X_(n,e,t){return{name:Hp(n,e),fields:t.value.mapValue.fields}}function tx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(qe(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?Z.UNKNOWN:c0(p.code);return new de(g,p.message||"")}(l);t=new h0(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=op(n,r.document.name),a=Nr(r.document.updateTime),l=r.document.createTime?Nr(r.document.createTime):Re.min(),c=new gn({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new rd(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=op(n,r.document),a=r.readTime?Nr(r.readTime):Re.min(),l=Yt.newNoDocument(s,a),c=r.removedTargetIds||[];t=new rd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=op(n,r.document),a=r.removedTargetIds||[];t=new rd([],a,s,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new H1(s,a),c=r.targetId;t=new d0(c,l)}}return t}function nx(n,e){let t;if(e instanceof hu)t={update:X_(n,e.key,e.value)};else if(e instanceof Nm)t={delete:Hp(n,e.key)};else if(e instanceof hs)t={update:X_(n,e.key,e.data),updateMask:dx(e.fieldMask)};else{if(!(e instanceof z1))return Se(16599,{ft:e.type});t={verify:Hp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ql)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ql)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yd)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Se(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Z1(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)}(n,e.precondition)),t}function rx(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(s,a){let l=s.updateTime?Nr(s.updateTime):Nr(a);return l.isEqual(Re.min())&&(l=Nr(a)),new U1(l,s.transformResults||[])}(t,e))):[]}function ix(n,e){return{documents:[m0(n,e.path)]}}function sx(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=m0(n,s);const a=function(p){if(p.length!==0)return y0(gr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Zo(E.field),direction:lx(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=$p(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function ox(n){let e=ex(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){qe(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(v){const E=v0(v);return E instanceof gr&&qI(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(E=>function(T){return new Gl(ea(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,Hd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,I=v.values||[];return new vd(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,I=v.values||[];return new vd(I,E)}(t.endAt)),C1(e,s,l,a,c,"F",f,p)}function ax(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function v0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ea(t.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ea(t.unaryFilter.field);return wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ea(t.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ea(t.unaryFilter.field);return wt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return wt.create(ea(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gr.create(t.compositeFilter.filters.map(r=>v0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function lx(n){return Q1[n]}function ux(n){return Y1[n]}function cx(n){return X1[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function ea(n){return jt.fromServerFormat(n.fieldPath)}function y0(n){return n instanceof wt?function(t){if(t.op==="=="){if(F_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if(V_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(F_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if(V_(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:ux(t.op),value:t.value}}}(n):n instanceof gr?function(t){const r=t.getFilters().map(s=>y0(s));return r.length===1?r[0]:{compositeFilter:{op:cx(t.op),filters:r}}}(n):Se(54877,{filter:n})}function dx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,r,s,a=Re.min(),l=Re.min(),c=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.wt=e}}function fx(n){const e=ox({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.Cn=new mx}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ns.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class mx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Rt(ot.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E0=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(E0,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new da(0)}static lr(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LruGarbageCollector",gx=1048576;function eE([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class vx{constructor(e){this.Er=e,this.buffer=new Rt(eE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(Z_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?ce(Z_,"Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.mr(3e5)})}}class _x{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Wd.le);const r=new vx(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(J_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Xo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function Ex(n,e){return new _x(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Vl(r.mutation,s,An.empty(),At.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const s=Hs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Pl();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let a=hi();const l=Ml(),c=function(){return Ml()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof hs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Vl(g.mutation,p,g.mutation.getFieldMask(),At.now())):l.set(p.key,An.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var v;return c.set(p,new Ix(g,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Ml();let s=new dt((l,c)=>l-c),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||An.empty();g=c.applyToLocalView(p,g),r.set(f,g);const v=(s.get(c.batchId)||Ve()).add(f);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,v=n0();g.forEach(E=>{if(!a.has(E)){const I=l0(t.get(E),r.get(E));I!==null&&v.set(E,I),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ee.resolve(Hs());let c=zl,f=a;return l.next(p=>ee.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ve())).next(g=>({batchId:c,changes:t0(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let s=Pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Pl();return this.indexManager.getCollectionParents(e,a).next(c=>ee.forEach(c,f=>{const p=function(v,E){return new Sa(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((v,E)=>{l=l.insert(v,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Yt.newInvalidDocument(g)))});let c=Pl();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Vl(g.mutation,p,An.empty(),At.now()),Qd(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ee.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Nr(s.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:fx(s.bundledQuery),readTime:Nr(s.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.overlays=new dt(_e.comparator),this.Qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hs();return ee.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.bt(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const s=Hs(),a=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new dt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Hs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Hs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return ee.resolve(c)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new W1(t,r));let a=this.Qr.get(t);a===void 0&&(a=Ve(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.$r=new Rt(Nt.Ur),this.Kr=new Rt(Nt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Nt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Nt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new _e(new ot([])),r=new Nt(t,e),s=new Nt(t,e+1),a=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new ot([])),r=new Nt(t,e),s=new Nt(t,e+1);let a=Ve();return this.Kr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Nt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||ke(e.Zr,t.Zr)}static Wr(e,t){return ke(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Rt(Nt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $1(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Nt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),a=s<0?0:s;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Am:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nt(t,0),s=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],l=>{const c=this.ei(l.Zr);a.push(c)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(ke);return t.forEach(s=>{const a=new Nt(s,0),l=new Nt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{r=r.add(c.Zr)})}),ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new Nt(new _e(a),0);let c=new Rt(ke);return this.Xr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.Zr)),!0)},l),ee.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ee.forEach(t.mutations,s=>{const a=new Nt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Nt(t,0),s=this.Xr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.ii=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=hi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Yt.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=hi();const l=t.path,c=new _e(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||r1(n1(g),r)<=0||(s.has(g.key)||Qd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Se(9500)}si(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Px(this)}getSize(e){return ee.resolve(this.size)}}class Px extends wx{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.persistence=e,this.oi=new to(t=>xm(t),Dm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new Vm,this.targetCount=0,this.ui=da.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ee.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new da(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Tr(t),ee.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ee.waitFor(a).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.ci={},this.overlays={},this.li=new Wd(0),this.hi=!1,this.hi=!0,this.Pi=new bx,this.referenceDelegate=e(this),this.Ti=new xx(this),this.indexManager=new px,this.remoteDocumentCache=function(s){return new Rx(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new hx(t),this.Ei=new Sx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Ax(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new Dx(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,t){return ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class Dx extends s1{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Vi=new Vm,this.mi=null}static fi(e){return new Fm(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,r=>{const s=_e.fromPath(r);return this.pi(e,s).next(a=>{a||t.removeEntry(s,Re.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ee.or([()=>ee.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ed{constructor(e,t){this.persistence=e,this.yi=new to(r=>l1(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Ex(this,t)}static fi(e,t){return new Ed(e,t)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ee.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?ee.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,Re.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ed(e.data.value)),t}Dr(e,t,r){return ee.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=Ve(),s=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Um(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return hb()?8:o1(Jt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Ss(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new kx;return this.bs(e,t,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>a.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(Xo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Xo()<=Me.DEBUG&&ce("QueryEngine","Query:",Jo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Xo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):ee.resolve())}ws(e,t){if(z_(t))return ee.resolve(null);let r=kr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=zp(t,null,"F"),r=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ve(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.vs(t,c);return this.Cs(t,p,l,f.readTime)?this.ws(e,zp(t,null,"F")):this.Fs(e,p,t,f)}))})))}Ss(e,t,r,s){return z_(t)||s.isEqual(Re.min())?ee.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,s)?ee.resolve(null):(Xo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jo(t)),this.Fs(e,l,t,t1(s,zl)).next(c=>c))})}vs(e,t){let r=new Rt(ZI(e));return t.forEach((s,a)=>{Qd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}bs(e,t,r){return Xo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.ys.getDocumentsMatchingQuery(e,t,ns.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="LocalStore",Ox=3e8;class Lx{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new dt(ke),this.Os=new to(a=>xm(a),Dm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Mx(n,e,t,r){return new Lx(n,e,t,r)}async function I0(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=Ve();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({ks:p,removedBatchIds:l,addedBatchIds:c}))})})}function Vx(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const v=p.batch,E=v.keys();let I=ee.resolve();return E.forEach(T=>{I=I.next(()=>g.getEntry(f,T)).next(C=>{const A=p.docVersions.get(T);qe(A!==null,48541),C.version.compareTo(A)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function T0(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Fx(n,e){const t=xe(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const c=[];e.targetChanges.forEach((g,v)=>{const E=s.get(v);if(!E)return;c.push(t.Ti.removeMatchingKeys(a,g.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(a,g.addedDocuments,v)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken($t.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(v,I),function(C,A,O){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Ox?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,I,g)&&c.push(t.Ti.updateTargetData(a,I))});let f=hi(),p=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(Ux(a,l,e.documentUpdates).next(g=>{f=g.qs,p=g.Qs})),!r.isEqual(Re.min())){const g=t.Ti.getLastRemoteSnapshotVersion(a).next(v=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ee.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.xs=s,a))}function Ux(n,e,t){let r=Ve(),s=Ve();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=hi();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ce(Bm,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{qs:l,Qs:s}})}function Bx(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Am),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jx(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(a=>a?(s=a,ee.resolve(s)):t.Ti.allocateTargetId(r).next(l=>(s=new Wi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function qp(n,e,t){const r=xe(n),s=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ta(l))throw l;ce(Bm,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function tE(n,e,t){const r=xe(n);let s=Re.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const v=xe(f),E=v.Os.get(g);return E!==void 0?ee.resolve(v.xs.get(E)):v.Ti.getTargetData(p,g)}(r,l,kr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?s:Re.min(),t?a:Ve())).next(c=>(zx(r,A1(e),c),{documents:c,$s:a})))}function zx(n,e,t){let r=n.Ns.get(e)||Re.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class nE{constructor(){this.activeTargetIds=N1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $x{constructor(){this.xo=new nE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new nE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class iE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(rE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(rE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Kp(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gx{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===md?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,a){const l=Kp(),c=this.jo(e,t.toUriEncodedString());ce(ap,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,a);const{host:p}=new URL(c),g=_a(p);return this.Jo(e,c,f,r,g).then(v=>(ce(ap,`Received RPC '${e}' ${l}: `,v),v),v=>{throw aa(ap,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v})}Yo(e,t,r,s,a,l){return this.zo(e,t,r,s,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,t){const r=Hx[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class Kx extends Gx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=Kp();return new Promise((c,f)=>{const p=new bI;p.setWithCredentials(!0),p.listenOnce(AI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zc.NO_ERROR:const v=p.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Zc.TIMEOUT:ce(Kt,`RPC '${e}' ${l} timed out`),f(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const E=p.getStatus();if(ce(Kt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const T=I==null?void 0:I.error;if(T&&T.status&&T.message){const C=function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(V)>=0?V:Z.UNKNOWN}(T.status);f(new de(C,T.message))}else f(new de(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ce(Kt,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",g,r,15)})}T_(e,t,r){const s=Kp(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=xI(),c=PI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Kt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=l.createWebChannel(g,f);let E=!1,I=!1;const T=new qx({Zo:A=>{I?ce(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(E||(ce(Kt,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),ce(Kt,`RPC '${e}' stream ${s} sending:`,A),v.send(A))},Xo:()=>v.close()}),C=(A,O,V)=>{A.listen(O,B=>{try{V(B)}catch(H){setTimeout(()=>{throw H},0)}})};return C(v,Rl.EventType.OPEN,()=>{I||(ce(Kt,`RPC '${e}' stream ${s} transport opened.`),T.__())}),C(v,Rl.EventType.CLOSE,()=>{I||(I=!0,ce(Kt,`RPC '${e}' stream ${s} transport closed`),T.u_())}),C(v,Rl.EventType.ERROR,A=>{I||(I=!0,aa(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),T.u_(new de(Z.UNAVAILABLE,"The operation could not be completed")))}),C(v,Rl.EventType.MESSAGE,A=>{var O;if(!I){const V=A.data[0];qe(!!V,16349);const B=V,H=(B==null?void 0:B.error)||((O=B[0])===null||O===void 0?void 0:O.error);if(H){ce(Kt,`RPC '${e}' stream ${s} received error:`,H);const q=H.status;let J=function(x){const N=Et[x];if(N!==void 0)return c0(N)}(q),k=H.message;J===void 0&&(J=Z.INTERNAL,k="Unknown error status: "+q+" with message "+H.message),I=!0,T.u_(new de(J,k)),v.close()}else ce(Kt,`RPC '${e}' stream ${s} received:`,V),T.c_(V)}}),C(c,RI.STAT_EVENT,A=>{A.stat===Lp.PROXY?ce(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Lp.NOPROXY&&ce(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new J1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class C0{constructor(e,t,r,s,a,l,c,f){this.xi=e,this.y_=r,this.w_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new S0(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new de(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ce(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ce(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qx extends C0{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=tx(this.serializer,e),r=function(a){if(!("targetChange"in a))return Re.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?Nr(l.readTime):Re.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Gp(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=Bp(f)?{documents:ix(a,f)}:{query:sx(a,f).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=f0(a,l.resumeToken);const p=$p(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){c.readTime=_d(a,l.snapshotVersion.toTimestamp());const p=$p(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=ax(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Gp(this.serializer),t.removeTarget=e,this.L_(t)}}class Yx extends C0{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=rx(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Gp(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nx(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{}class Jx extends Xx{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,Wp(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(Z.UNKNOWN,a.toString())})}Yo(e,t,r,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Wp(t,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Z.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Zx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(di(t),this.oa=!1):ce("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class eD{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(l=>{r.enqueueAndForget(async()=>{no(this)&&(ce(Xs,"Restarting streams for network reachability change."),await async function(f){const p=xe(f);p.Ta.add(4),await pu(p),p.da.set("Unknown"),p.Ta.delete(4),await eh(p)}(this))})}),this.da=new Zx(r,s)}}async function eh(n){if(no(n))for(const e of n.Ia)await e(!0)}async function pu(n){for(const e of n.Ia)await e(!1)}function b0(n,e){const t=xe(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Wm(t)?$m(t):Ca(t).M_()&&zm(t,e))}function jm(n,e){const t=xe(n),r=Ca(t);t.Pa.delete(e),r.M_()&&A0(t,e),t.Pa.size===0&&(r.M_()?r.N_():no(t)&&t.da.set("Unknown"))}function zm(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ca(n).H_(e)}function A0(n,e){n.Aa.Ke(e),Ca(n).J_(e)}function $m(n){n.Aa=new K1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ca(n).start(),n.da._a()}function Wm(n){return no(n)&&!Ca(n).F_()&&n.Pa.size>0}function no(n){return xe(n).Ta.size===0}function R0(n){n.Aa=void 0}async function tD(n){n.da.set("Online")}async function nD(n){n.Pa.forEach((e,t)=>{zm(n,e)})}async function rD(n,e){R0(n),Wm(n)?(n.da.ca(e),$m(n)):n.da.set("Unknown")}async function iD(n,e,t){if(n.da.set("Online"),e instanceof h0&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Pa.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Pa.delete(c),s.Aa.removeTarget(c))}(n,e)}catch(r){ce(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(n,r)}else if(e instanceof rd?n.Aa.Xe(e):e instanceof d0?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Re.min()))try{const r=await T0(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.Aa.It(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Pa.get(p);g&&a.Pa.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.Pa.get(f);if(!g)return;a.Pa.set(f,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),A0(a,f);const v=new Wi(g.target,f,p,g.sequenceNumber);zm(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ce(Xs,"Failed to raise snapshot:",r),await wd(n,r)}}async function wd(n,e,t){if(!Ta(e))throw e;n.Ta.add(1),await pu(n),n.da.set("Offline"),t||(t=()=>T0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Xs,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await eh(n)})}function P0(n,e){return e().catch(t=>wd(n,t,e))}async function th(n){const e=xe(n),t=os(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Am;for(;sD(e);)try{const s=await Bx(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,oD(e,s)}catch(s){await wd(e,s)}x0(e)&&D0(e)}function sD(n){return no(n)&&n.ha.length<10}function oD(n,e){n.ha.push(e);const t=os(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function x0(n){return no(n)&&!os(n).F_()&&n.ha.length>0}function D0(n){os(n).start()}async function aD(n){os(n).ta()}async function lD(n){const e=os(n);for(const t of n.ha)e.Z_(t.mutations)}async function uD(n,e,t){const r=n.ha.shift(),s=Om.from(r,e,t);await P0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await th(n)}async function cD(n,e){e&&os(n).Y_&&await async function(r,s){if(function(l){return G1(l)&&l!==Z.ABORTED}(s.code)){const a=r.ha.shift();os(r).O_(),await P0(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await th(r)}}(n,e),x0(n)&&D0(n)}async function oE(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),ce(Xs,"RemoteStore received new credentials");const r=no(t);t.Ta.add(3),await pu(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await eh(t)}async function dD(n,e){const t=xe(n);e?(t.Ta.delete(2),await eh(t)):e||(t.Ta.add(2),await pu(t),t.da.set("Unknown"))}function Ca(n){return n.Ra||(n.Ra=function(t,r,s){const a=xe(t);return a.ra(),new Qx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:tD.bind(null,n),n_:nD.bind(null,n),i_:rD.bind(null,n),j_:iD.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Wm(n)?$m(n):n.da.set("Unknown")):(await n.Ra.stop(),R0(n))})),n.Ra}function os(n){return n.Va||(n.Va=function(t,r,s){const a=xe(t);return a.ra(),new Yx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:aD.bind(null,n),i_:cD.bind(null,n),X_:lD.bind(null,n),ea:uD.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await th(n)):(await n.Va.stop(),n.ha.length>0&&(ce(Xs,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new Hm(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(n,e){if(di("AsyncQueue",`${e}: ${n}`),Ta(n))return new de(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Pl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ma=new dt(_e.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class ha{constructor(e,t,r,s,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ha(e,t,sa.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class fD{constructor(){this.queries=lE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=xe(t),a=s.queries;s.queries=lE(),a.forEach((l,c)=>{for(const f of c.ya)f.onError(r)})})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function lE(){return new to(n=>JI(n),Kd)}async function k0(n,e){const t=xe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.wa()&&e.Sa()&&(r=2):(a=new hD,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(s,!0);break;case 1:a.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=Gm(l,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&qm(t)}async function N0(n,e){const t=xe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ya.indexOf(e);l>=0&&(a.ya.splice(l,1),a.ya.length===0?s=e.Sa()?0:1:!a.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function pD(n,e){const t=xe(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.ya)c.va(s)&&(r=!0);l.pa=s}}r&&qm(t)}function mD(n,e,t){const r=xe(n),s=r.queries.get(e);if(s)for(const a of s.ya)a.onError(t);r.queries.delete(e)}function qm(n){n.ba.forEach(e=>{e.next()})}var Qp,uE;(uE=Qp||(Qp={})).Ca="default",uE.Cache="cache";class O0{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.key=e}}class M0{constructor(e){this.key=e}}class gD{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=ZI(e),this.Ja=new sa(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new aE,s=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const E=s.get(g),I=Qd(this.query,v)?v:null,T=!!E&&this.mutatedKeys.has(E.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let A=!1;E&&I?E.data.isEqual(I.data)?T!==C&&(r.track({type:3,doc:I}),A=!0):this.eu(E,I)||(r.track({type:2,doc:I}),A=!0,(f&&this.Ha(I,f)>0||p&&this.Ha(I,p)<0)&&(c=!0)):!E&&I?(r.track({type:0,doc:I}),A=!0):E&&!I&&(r.track({type:1,doc:E}),A=!0,(f||p)&&(c=!0)),A&&(I?(l=l.add(I),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Ja:l,Xa:r,Cs:c,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const l=e.Xa.ga();l.sort((g,v)=>function(I,T){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:A})}};return C(I)-C(T)}(g.type,v.type)||this.Ha(g.doc,v.doc)),this.tu(r),s=s!=null&&s;const c=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,p=f!==this.za;return this.za=f,l.length!==0||p?{snapshot:new ha(this.query,e.Ja,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:c}:{ru:c}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new M0(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new L0(r))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ha.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Km="SyncEngine";class vD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class yD{constructor(e){this.key=e,this._u=!1}}class _D{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new to(c=>JI(c),Kd),this.cu=new Map,this.lu=new Set,this.hu=new dt(_e.comparator),this.Pu=new Map,this.Tu=new Vm,this.Iu={},this.Eu=new Map,this.du=da.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ED(n,e,t=!0){const r=z0(n);let s;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.ou()):s=await V0(r,e,t,!0),s}async function wD(n,e){const t=z0(n);await V0(t,e,!0,!1)}async function V0(n,e,t,r){const s=await jx(n.localStore,kr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await ID(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&b0(n.remoteStore,s),c}async function ID(n,e,t,r,s){n.Ru=(v,E,I)=>async function(C,A,O,V){let B=A.view.Za(O);B.Cs&&(B=await tE(C.localStore,A.query,!1).then(({documents:k})=>A.view.Za(k,B)));const H=V&&V.targetChanges.get(A.targetId),q=V&&V.targetMismatches.get(A.targetId)!=null,J=A.view.applyChanges(B,C.isPrimaryClient,H,q);return dE(C,A.targetId,J.ru),J.snapshot}(n,v,E,I);const a=await tE(n.localStore,e,!0),l=new gD(e,a.$s),c=l.Za(a.documents),f=fu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,f);dE(n,t,p.ru);const g=new vD(e,t,l);return n.uu.set(e,g),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),p.snapshot}async function TD(n,e,t){const r=xe(n),s=r.uu.get(e),a=r.cu.get(s.targetId);if(a.length>1)return r.cu.set(s.targetId,a.filter(l=>!Kd(l,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&jm(r.remoteStore,s.targetId),Yp(r,s.targetId)}).catch(Ia)):(Yp(r,s.targetId),await qp(r.localStore,s.targetId,!0))}async function SD(n,e){const t=xe(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jm(t.remoteStore,r.targetId))}async function CD(n,e,t){const r=kD(n);try{const s=await function(l,c){const f=xe(l),p=At.now(),g=c.reduce((I,T)=>I.add(T.key),Ve());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let T=hi(),C=Ve();return f.Bs.getEntries(I,g).next(A=>{T=A,T.forEach((O,V)=>{V.isValidDocument()||(C=C.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,T)).next(A=>{v=A;const O=[];for(const V of c){const B=j1(V,v.get(V.key).overlayedDocument);B!=null&&O.push(new hs(V.key,B,WI(B.value.mapValue),Kn.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,O,c)}).next(A=>{E=A;const O=A.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(I,A.batchId,O)})}).then(()=>({batchId:E.batchId,changes:t0(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let p=l.Iu[l.currentUser.toKey()];p||(p=new dt(ke)),p=p.insert(c,f),l.Iu[l.currentUser.toKey()]=p}(r,s.batchId,t),await mu(r,s.changes),await th(r.remoteStore)}catch(s){const a=Gm(s,"Failed to persist write");t.reject(a)}}async function F0(n,e){const t=xe(n);try{const r=await Fx(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Pu.get(a);l&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l._u=!0:s.modifiedDocuments.size>0?qe(l._u,14607):s.removedDocuments.size>0&&(qe(l._u,42227),l._u=!1))}),await mu(t,r,e)}catch(r){await Ia(r)}}function cE(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((a,l)=>{const c=l.view.Da(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=xe(l);f.onlineState=c;let p=!1;f.queries.forEach((g,v)=>{for(const E of v.ya)E.Da(c)&&(p=!0)}),p&&qm(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bD(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),a=s&&s.key;if(a){let l=new dt(_e.comparator);l=l.insert(a,Yt.newNoDocument(a,Re.min()));const c=Ve().add(a),f=new Jd(Re.min(),new Map,new dt(ke),l,c);await F0(r,f),r.hu=r.hu.remove(a),r.Pu.delete(e),Qm(r)}else await qp(r.localStore,e,!1).then(()=>Yp(r,e,t)).catch(Ia)}async function AD(n,e){const t=xe(n),r=e.batch.batchId;try{const s=await Vx(t.localStore,e);B0(t,r,null),U0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mu(t,s)}catch(s){await Ia(s)}}async function RD(n,e,t){const r=xe(n);try{const s=await function(l,c){const f=xe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(v=>(qe(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);B0(r,e,t),U0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mu(r,s)}catch(s){await Ia(s)}}function U0(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function B0(n,e,t){const r=xe(n);let s=r.Iu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Yp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||j0(n,r)})}function j0(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(jm(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Qm(n))}function dE(n,e,t){for(const r of t)r instanceof L0?(n.Tu.addReference(r.key,e),PD(n,r)):r instanceof M0?(ce(Km,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||j0(n,r.key)):Se(19791,{mu:r})}function PD(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(ce(Km,"New document in limbo: "+t),n.lu.add(r),Qm(n))}function Qm(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new _e(ot.fromString(e)),r=n.du.next();n.Pu.set(r,new yD(t)),n.hu=n.hu.insert(t,r),b0(n.remoteStore,new Wi(kr(qd(t.path)),r,"TargetPurposeLimboResolution",Wd.le))}}async function mu(n,e,t){const r=xe(n),s=[],a=[],l=[];r.uu.isEmpty()||(r.uu.forEach((c,f)=>{l.push(r.Ru(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Um.Rs(f.targetId,p);a.push(v)}}))}),await Promise.all(l),r.au.j_(s),await async function(f,p){const g=xe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(p,E=>ee.forEach(E.ds,I=>g.persistence.referenceDelegate.addReference(v,E.targetId,I)).next(()=>ee.forEach(E.As,I=>g.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))}catch(v){if(!Ta(v))throw v;ce(Bm,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=g.xs.get(E),T=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(T);g.xs=g.xs.insert(E,C)}}}(r.localStore,a))}async function xD(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){ce(Km,"User change. New user:",e.toKey());const r=await I0(t.localStore,e);t.currentUser=e,function(a,l){a.Eu.forEach(c=>{c.forEach(f=>{f.reject(new de(Z.CANCELLED,l))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(t,r.ks)}}function DD(n,e){const t=xe(n),r=t.Pu.get(e);if(r&&r._u)return Ve().add(r.key);{let s=Ve();const a=t.cu.get(e);if(!a)return s;for(const l of a){const c=t.uu.get(l);s=s.unionWith(c.view.Ya)}return s}}function z0(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bD.bind(null,e),e.au.j_=pD.bind(null,e.eventManager),e.au.Vu=mD.bind(null,e.eventManager),e}function kD(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RD.bind(null,e),e}class Id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return Mx(this.persistence,new Nx,e.initialUser,this.serializer)}yu(e){return new w0(Fm.fi,this.serializer)}pu(e){return new $x}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Id.provider={build:()=>new Id};class ND extends Id{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){qe(this.persistence.referenceDelegate instanceof Ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yx(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new w0(r=>Ed.fi(r,t),this.serializer)}}class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fD}()}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),r=function(a){return new Kx(a)}(e.databaseInfo);return function(a,l,c,f){return new Jx(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,c){return new eD(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>cE(this.syncEngine,t,0),function(){return iE.C()?new iE:new Wx}())}createSyncEngine(e,t){return function(s,a,l,c,f,p,g){const v=new _D(s,a,l,c,f,p);return g&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=xe(s);ce(Xs,"RemoteStore shutting down."),a.Ta.add(5),await pu(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class OD{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=OI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(as,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(as,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function up(n,e){n.asyncQueue.verifyOperationInProgress(),ce(as,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await I0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function hE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LD(n);ce(as,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>oE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>oE(e.remoteStore,s)),n._onlineComponents=e}async function LD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(as,"Using user provided OfflineComponentProvider");try{await up(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await up(n,new Id)}}else ce(as,"Using default OfflineComponentProvider"),await up(n,new ND(void 0));return n._offlineComponents}async function W0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(as,"Using user provided OnlineComponentProvider"),await hE(n,n._uninitializedComponentsProvider._online)):(ce(as,"Using default OnlineComponentProvider"),await hE(n,new Xp))),n._onlineComponents}function MD(n){return W0(n).then(e=>e.syncEngine)}async function Jp(n){const e=await W0(n),t=e.eventManager;return t.onListen=ED.bind(null,e.syncEngine),t.onUnlisten=TD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SD.bind(null,e.syncEngine),t}function VD(n,e,t={}){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new $0({next:E=>{g.Cu(),l.enqueueAndForget(()=>N0(a,v));const I=E.docs.has(c);!I&&E.fromCache?p.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new O0(qd(c.path),g,{includeMetadataChanges:!0,La:!0});return k0(a,v)}(await Jp(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n,e,t){if(!t)throw new de(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FD(n,e,t,r){if(e===!0&&r===!0)throw new de(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pE(n){if(!_e.isDocumentKey(n))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mE(n){if(_e.isDocumentKey(n))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nh(n);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firestore.googleapis.com",gE=!0;class vE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q0,this.ssl=gE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gx)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GP;switch(r.type){case"firstParty":return new YP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=fE.get(t);r&&(ce("ComponentProvider","Removing Datastore"),fE.delete(t),r.terminate())}(this),Promise.resolve()}}function UD(n,e,t,r={}){var s;n=Qn(n,rh);const a=_a(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(hm(`https://${f}`),fm("Firestore",!0)),l.host!==q0&&l.host!==f&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!Gs(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Qt.MOCK_USER;else{g=Mw(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Qt(E)}n._authCredentials=new qP(new kI(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Yi extends ro{constructor(e,t,r){super(e,t,qd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new _e(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Gn(n,e,...t){if(n=vt(n),G0("collection","path",e),n instanceof rh){const r=ot.fromString(e,...t);return mE(r),new Yi(n,null,r)}{if(!(n instanceof Xt||n instanceof Yi))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return mE(r),new Yi(n.firestore,null,r)}}function sn(n,e,...t){if(n=vt(n),arguments.length===1&&(e=OI.newId()),G0("doc","path",e),n instanceof rh){const r=ot.fromString(e,...t);return pE(r),new Xt(n,null,new _e(r))}{if(!(n instanceof Xt||n instanceof Yi))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return pE(r),new Xt(n.firestore,n instanceof Yi?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new S0(this,"async_queue_retry"),this.ec=()=>{const r=lp();r&&ce(yE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Qi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ta(e))throw e;ce(yE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,di("INTERNAL UNHANDLED ERROR: ",EE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=Hm.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(s),s}nc(){this.Ju&&Se(47125,{_c:EE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function EE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ls extends rh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new _E,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function BD(n,e){const t=typeof n=="object"?n:gm(),r=typeof n=="string"?n:md,s=Bd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Nw("firestore");a&&UD(s,...a)}return s}function Ym(n){if(n._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jD(n),n._firestoreClient}function jD(n){var e,t,r;const s=n._freezeSettings(),a=function(c,f,p,g){return new d1(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,H0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new OD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa($t.fromBase64String(e))}catch(t){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class $D{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class K0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Q0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{hc:n})}}class Zm{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Td(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Q0(this.hc)&&zD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class WD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zd(e)}gc(e,t,r,s=!1){return new Zm({hc:e,methodName:t,fc:r,path:jt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oh(n){const e=n._freezeSettings(),t=Zd(n._databaseId);return new WD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Y0(n,e,t,r,s,a={}){const l=n.gc(a.merge||a.mergeFields?2:0,e,t,s);tg("Data must be an object, but it was:",l,r);const c=X0(r,l);let f,p;if(a.merge)f=new An(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const E=Zp(e,v,t);if(!l.contains(E))throw new de(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Z0(g,E)||g.push(E)}f=new An(g),p=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=l.fieldTransforms;return new $D(new gn(c),f,p)}class ah extends sh{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}class eg extends sh{_toFieldTransform(e){return new V1(e.path,new ql)}isEqual(e){return e instanceof eg}}function HD(n,e,t,r){const s=n.gc(1,e,t);tg("Data must be an object, but it was:",s,r);const a=[],l=gn.empty();ds(r,(f,p)=>{const g=ng(e,f,t);p=vt(p);const v=s.Ac(g);if(p instanceof ah)a.push(g);else{const E=gu(p,v);E!=null&&(a.push(g),l.set(g,E))}});const c=new An(a);return new K0(l,c,s.fieldTransforms)}function GD(n,e,t,r,s,a){const l=n.gc(1,e,t),c=[Zp(e,r,t)],f=[s];if(a.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(Zp(e,a[E])),f.push(a[E+1]);const p=[],g=gn.empty();for(let E=c.length-1;E>=0;--E)if(!Z0(p,c[E])){const I=c[E];let T=f[E];T=vt(T);const C=l.Ac(I);if(T instanceof ah)p.push(I);else{const A=gu(T,C);A!=null&&(p.push(I),g.set(I,A))}}const v=new An(p);return new K0(g,v,l.fieldTransforms)}function qD(n,e,t,r=!1){return gu(t,n.gc(r?4:3,e))}function gu(n,e){if(J0(n=vt(n)))return tg("Unsupported field value:",e,n),X0(n,e);if(n instanceof sh)return function(r,s){if(!Q0(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let f=gu(c,s.Rc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:_d(s.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(s.serializer,a)}}if(r instanceof Xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:f0(s.serializer,r._byteString)};if(r instanceof Xt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Mm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Jm)return function(l,c){return{mapValue:{fields:{[zI]:{stringValue:$I},[gd]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Vc("VectorValues must only contain numeric values.");return km(c.serializer,p)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${nh(r)}`)}(n,e)}function X0(n,e){const t={};return MI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(n,(r,s)=>{const a=gu(s,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function J0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Xm||n instanceof fa||n instanceof Xt||n instanceof sh||n instanceof Jm)}function tg(n,e,t){if(!J0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=nh(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function Zp(n,e,t){if((e=vt(e))instanceof ih)return e._internalPath;if(typeof e=="string")return ng(n,e);throw Td("Field path arguments must be of type string or ",n,!1,void 0,t)}const KD=new RegExp("[~\\*/\\[\\]]");function ng(n,e,t){if(e.search(KD)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ih(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Td(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new de(Z.INVALID_ARGUMENT,c+n+f)}function Z0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QD extends eT{data(){return super.data()}}function lh(n,e){return typeof e=="string"?ng(n,e):e instanceof ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class tT extends rg{}function pa(n,e,...t){let r=[];e instanceof rg&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof ig).length,c=a.filter(f=>f instanceof uh).length;if(l>1||l>0&&c>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class uh extends tT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new uh(e,t,r)}_apply(e){const t=this._parse(e);return nT(e._query,t),new ro(e.firestore,e.converter,jp(e._query,t))}_parse(e){const t=oh(e.firestore);return function(a,l,c,f,p,g,v){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){TE(v,g);const T=[];for(const C of v)T.push(IE(f,a,C));E={arrayValue:{values:T}}}else E=IE(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||TE(v,g),E=qD(c,l,v,g==="in"||g==="not-in");return wt.create(p,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Yl(n,e,t){const r=e,s=lh("where",n);return uh._create(s,r,t)}class ig extends rg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const f of c)nT(l,f),l=jp(l,f)}(e._query,t),new ro(e.firestore,e.converter,jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends tT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sg(e,t)}_apply(e){const t=function(s,a,l){if(s.startAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(a,l)}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Sa(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function XD(n,e="asc"){const t=e,r=lh("orderBy",n);return sg._create(r,t)}function IE(n,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XI(e)&&t.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!_e.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M_(n,new _e(r))}if(t instanceof Xt)return M_(n,t._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(t)}.`)}function TE(n,e){if(!Array.isArray(n)||n.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nT(n,e){const t=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JD{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ds(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[gd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>gt(l.doubleValue));return new Jm(a)}convertGeoPoint(e){return new Xm(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=rs(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);qe(_0(r),9688,{name:e});const s=new Wl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(t)||di(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iT extends eT{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class id extends iT{data(e={}){return super.data(e)}}class ZD{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new id(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new id(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Dl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new id(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Dl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:ek(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ek(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){n=Qn(n,Xt);const e=Qn(n.firestore,ls);return VD(Ym(e),n._key).then(t=>lT(e,n,t))}class sT extends JD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function oT(n,e,t){n=Qn(n,Xt);const r=Qn(n.firestore,ls),s=rT(n.converter,e);return ch(r,[Y0(oh(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Kn.none())])}function Xl(n,e,t,...r){n=Qn(n,Xt);const s=Qn(n.firestore,ls),a=oh(s);let l;return l=typeof(e=vt(e))=="string"||e instanceof ih?GD(a,"updateDoc",n._key,e,t,r):HD(a,"updateDoc",n._key,e),ch(s,[l.toMutation(n._key,Kn.exists(!0))])}function aT(n){return ch(Qn(n.firestore,ls),[new Nm(n._key,Kn.none())])}function og(n,e){const t=Qn(n.firestore,ls),r=sn(n),s=rT(n.converter,e);return ch(t,[Y0(oh(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function ai(n,...e){var t,r,s;n=vt(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||wE(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(wE(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let f,p,g;if(n instanceof Xt)p=Qn(n.firestore,ls),g=qd(n._key.path),f={next:v=>{e[l]&&e[l](lT(p,n,v))},error:e[l+1],complete:e[l+2]};else{const v=Qn(n,ro);p=Qn(v.firestore,ls),g=v._query;const E=new sT(p);f={next:I=>{e[l]&&e[l](new ZD(p,E,v,I))},error:e[l+1],complete:e[l+2]},YD(n._query)}return function(E,I,T,C){const A=new $0(C),O=new O0(I,A,T);return E.asyncQueue.enqueueAndForget(async()=>k0(await Jp(E),O)),()=>{A.Cu(),E.asyncQueue.enqueueAndForget(async()=>N0(await Jp(E),O))}}(Ym(p),g,c,f)}function ch(n,e){return function(r,s){const a=new Qi;return r.asyncQueue.enqueueAndForget(async()=>CD(await MD(r),s,a)),a.promise}(Ym(n),e)}function lT(n,e,t){const r=t.docs.get(e._key),s=new sT(n);return new iT(n,s,e._key,r,new Dl(t.hasPendingWrites,t.fromCache),e.converter)}function Sd(){return new eg("serverTimestamp")}(function(e,t=!0){(function(s){wa=s})(Zs),qs(new ts("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ls(new KP(r.getProvider("auth-internal")),new XP(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Pr(S_,C_,e),Pr(S_,C_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebasestorage.googleapis.com",tk="storageBucket",nk=2*60*1e3,rk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Mr{constructor(e,t,r=0){super(cp(e),`Firebase Storage: ${t} (${cp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lr||(Lr={}));function cp(n){return"storage/"+n}function ik(){const n="An unknown error occurred, please check the error payload for server response.";return new Vr(Lr.UNKNOWN,n)}function sk(){return new Vr(Lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ok(){return new Vr(Lr.CANCELED,"User canceled the upload/download.")}function ak(n){return new Vr(Lr.INVALID_URL,"Invalid URL '"+n+"'.")}function lk(n){return new Vr(Lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function SE(n){return new Vr(Lr.INVALID_ARGUMENT,n)}function cT(){return new Vr(Lr.APP_DELETED,"The Firebase app was deleted.")}function uk(n){return new Vr(Lr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(r.path==="")return r;throw lk(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${v}/${g}/b/${s}/o${E}`,"i"),T={bucket:1,path:3},C=t===uT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",O=new RegExp(`^https?://${C}/${s}/${A}`,"i"),B=[{regex:c,indices:f,postModify:a},{regex:I,indices:T,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<B.length;H++){const q=B[H],J=q.regex.exec(e);if(J){const k=J[q.indices.bucket];let P=J[q.indices.path];P||(P=""),r=new fr(k,P),q.postModify(r);break}}if(r==null)throw ak(e);return r}}class ck{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(n,e,t){let r=1,s=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function g(...A){p||(p=!0,e.apply(null,A))}function v(A){s=setTimeout(()=>{s=null,n(I,f())},A)}function E(){a&&clearTimeout(a)}function I(A,...O){if(p){E();return}if(A){E(),g.call(null,A,...O);return}if(f()||l){E(),g.call(null,A,...O);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,v(B)}let T=!1;function C(A){T||(T=!0,E(),!p&&(s!==null?(A||(c=2),clearTimeout(s),v(0)):A||(c=1)))}return v(0),a=setTimeout(()=>{l=!0,C(!0)},t),C}function hk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){return n!==void 0}function CE(n,e,t,r){if(r<e)throw SE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw SE(`Invalid value for '${n}'. Expected ${t} or less.`)}function pk(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Cd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Cd||(Cd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,r,s,a,l,c,f,p,g,v,E=!0,I=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,C)=>{this.resolve_=T,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Cd.NO_ERROR,f=a.getStatus();if(!c||mk(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Cd.ABORT;r(!1,new Wc(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Wc(p,a))})},t=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());fk(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=ik();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(s.canceled){const f=this.appDelete_?cT():ok();l(f)}else{const f=sk();l(f)}};this.canceled_?t(!1,new Wc(!1,null,!0)):this.backoffId_=dk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function vk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _k(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Ek(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wk(n,e,t,r,s,a,l=!0,c=!1){const f=pk(n.urlParams),p=n.url+f,g=Object.assign({},n.headers);return _k(g,e),vk(g,t),yk(g,a),Ek(g,r),new gk(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Tk(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bd(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tk(this._location.path)}get storage(){return this._service}get parent(){const e=Ik(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new bd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw uk(e)}}function bE(n,e){const t=e==null?void 0:e[tk];return t==null?null:fr.makeFromBucketSpec(t,n)}function Sk(n,e,t,r={}){n.host=`${e}:${t}`;const s=_a(e);s&&(hm(`https://${n.host}`),fm("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Mw(a,n.app.options.projectId))}class Ck{constructor(e,t,r,s,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=uT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nk,this._maxUploadRetryTime=rk,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=bE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=bE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bd(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new ck(cT());{const l=wk(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const AE="@firebase/storage",RE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="storage";function bk(n=gm(),e){n=vt(n);const r=Bd(n,dT).getImmediate({identifier:e}),s=Nw("storage");return s&&Ak(r,...s),r}function Ak(n,e,t,r={}){Sk(n,e,t,r)}function Rk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Ck(t,r,s,e,Zs)}function Pk(){qs(new ts(dT,Rk,"PUBLIC").setMultipleInstances(!0)),Pr(AE,RE,""),Pr(AE,RE,"esm2017")}Pk();const xk={apiKey:"AIzaSyCjarEpj-aW-9r7kTUbfgtOO-GwqMERPD0",authDomain:"studyhub123-b937e.firebaseapp.com",projectId:"studyhub123-b937e",storageBucket:"studyhub123-b937e.appspot.com",messagingSenderId:"926465067454",appId:"1:926465067454:web:d8ea639f458d5a578c51ef",measurementId:"G-76EKHEKYEG"},ag=Uw(xk),Rn=WP(ag),nt=BD(ag);bk(ag);const hT=$.createContext(null);function Dk({children:n}){const[e,t]=$.useState(null),[r,s]=$.useState(!0);$.useEffect(()=>kR(Rn,async f=>{if(f){const p=await vu(sn(nt,"users",f.uid)),g=p.exists()?p.data().role:"user";t({uid:f.uid,email:f.email,role:g})}else t(null);s(!1)}),[]);const a=async(f,p,g="")=>{const v=await hI(Rn,f,p);await oT(sn(nt,"users",v.user.uid),{role:g==="ADMIN123"?"admin":"user"})},l=(f,p)=>fI(Rn,f,p),c=()=>NR(Rn);return U.jsx(hT.Provider,{value:{user:e,loading:r,register:a,login:l,logout:c},children:!r&&n})}const kk=()=>$.useContext(hT);var fT=Rw();const Nk=Fd(fT);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jl.apply(this,arguments)}var Hi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Hi||(Hi={}));const PE="popstate";function Ok(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return em("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Ad(s)}return Mk(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lk(){return Math.random().toString(36).substr(2,8)}function xE(n,e){return{usr:n.state,key:n.key,idx:e}}function em(n,e,t,r){return t===void 0&&(t=null),Jl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:t,key:e&&e.key||r||Lk()})}function Ad(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ba(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Mk(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=Hi.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(Jl({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function v(){c=Hi.Pop;let A=g(),O=A==null?null:A-p;p=A,f&&f({action:c,location:C.location,delta:O})}function E(A,O){c=Hi.Push;let V=em(C.location,A,O);p=g()+1;let B=xE(V,p),H=C.createHref(V);try{l.pushState(B,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(H)}a&&f&&f({action:c,location:C.location,delta:1})}function I(A,O){c=Hi.Replace;let V=em(C.location,A,O);p=g();let B=xE(V,p),H=C.createHref(V);l.replaceState(B,"",H),a&&f&&f({action:c,location:C.location,delta:0})}function T(A){let O=s.location.origin!=="null"?s.location.origin:s.location.href,V=typeof A=="string"?A:Ad(A);return V=V.replace(/ $/,"%20"),ft(O,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,O)}let C={get action(){return c},get location(){return n(s,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(PE,v),f=A,()=>{s.removeEventListener(PE,v),f=null}},createHref(A){return e(s,A)},createURL:T,encodeLocation(A){let O=T(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:I,go(A){return l.go(A)}};return C}var DE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(DE||(DE={}));function Vk(n,e,t){return t===void 0&&(t="/"),Fk(n,e,t)}function Fk(n,e,t,r){let s=typeof e=="string"?ba(e):e,a=ma(s.pathname||"/",t);if(a==null)return null;let l=mT(n);Uk(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=Yk(a);c=Kk(l[f],p)}return c}function mT(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Xi([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),mT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Gk(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let f of gT(a.path))s(a,l,f)}),e}function gT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=gT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function Uk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Bk=/^:[\w-]+$/,jk=3,zk=2,$k=1,Wk=10,Hk=-2,kE=n=>n==="*";function Gk(n,e){let t=n.split("/"),r=t.length;return t.some(kE)&&(r+=Hk),e&&(r+=zk),t.filter(s=>!kE(s)).reduce((s,a)=>s+(Bk.test(a)?jk:a===""?$k:Wk),r)}function qk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Kk(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=tm({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Xi([a,v.pathname]),pathnameBase:eN(Xi([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Xi([a,v.pathnameBase]))}return l}function tm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Qk(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,g,v)=>{let{paramName:E,isOptional:I}=g;if(E==="*"){let C=c[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=c[v];return I&&!T?p[E]=void 0:p[E]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function Qk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),pT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Yk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ma(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Xk(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ba(n):n;return{pathname:t?t.startsWith("/")?t:Jk(t,e):e,search:tN(r),hash:nN(s)}}function Jk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function dp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vT(n,e){let t=Zk(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function yT(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ba(n):(s=Jl({},n),ft(!s.pathname||!s.pathname.includes("?"),dp("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),dp("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),dp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}c=v>=0?e[v]:"/"}let f=Xk(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const Xi=n=>n.join("/").replace(/\/\/+/g,"/"),eN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const _T=["post","put","patch","delete"];new Set(_T);const iN=["get",..._T];new Set(iN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zl.apply(this,arguments)}const dh=$.createContext(null),ET=$.createContext(null),fs=$.createContext(null),hh=$.createContext(null),io=$.createContext({outlet:null,matches:[],isDataRoute:!1}),wT=$.createContext(null);function sN(n,e){let{relative:t}=e===void 0?{}:e;yu()||ft(!1);let{basename:r,navigator:s}=$.useContext(fs),{hash:a,pathname:l,search:c}=fh(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:Xi([r,l])),s.createHref({pathname:f,search:c,hash:a})}function yu(){return $.useContext(hh)!=null}function _u(){return yu()||ft(!1),$.useContext(hh).location}function IT(n){$.useContext(fs).static||$.useLayoutEffect(n)}function Eu(){let{isDataRoute:n}=$.useContext(io);return n?yN():oN()}function oN(){yu()||ft(!1);let n=$.useContext(dh),{basename:e,future:t,navigator:r}=$.useContext(fs),{matches:s}=$.useContext(io),{pathname:a}=_u(),l=JSON.stringify(vT(s,t.v7_relativeSplatPath)),c=$.useRef(!1);return IT(()=>{c.current=!0}),$.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=yT(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Xi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,a,n])}function fh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=$.useContext(fs),{matches:s}=$.useContext(io),{pathname:a}=_u(),l=JSON.stringify(vT(s,r.v7_relativeSplatPath));return $.useMemo(()=>yT(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function aN(n,e){return lN(n,e)}function lN(n,e,t,r){yu()||ft(!1);let{navigator:s}=$.useContext(fs),{matches:a}=$.useContext(io),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=_u(),g;if(e){var v;let A=typeof e=="string"?ba(e):e;f==="/"||(v=A.pathname)!=null&&v.startsWith(f)||ft(!1),g=A}else g=p;let E=g.pathname||"/",I=E;if(f!=="/"){let A=f.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=Vk(n,{pathname:I}),C=fN(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Xi([f,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Xi([f,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&C?$.createElement(hh.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Hi.Pop}},C):C}function uN(){let n=vN(),e=rN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,null)}const cN=$.createElement(uN,null);class dN extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(io.Provider,{value:this.props.routeContext},$.createElement(wT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(n){let{routeContext:e,match:t,children:r}=n,s=$.useContext(dh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(io.Provider,{value:e},r)}function fN(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);g>=0||ft(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:E,errors:I}=t,T=v.route.loader&&E[v.route.id]===void 0&&(!I||I[v.route.id]===void 0);if(v.route.lazy||T){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,E)=>{let I,T=!1,C=null,A=null;t&&(I=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||cN,f&&(p<0&&E===0?(_N("route-fallback"),T=!0,A=null):p===E&&(T=!0,A=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,E+1)),V=()=>{let B;return I?B=C:T?B=A:v.route.Component?B=$.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=g,$.createElement(hN,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?$.createElement(dN,{location:t.location,revalidation:t.revalidation,component:C,error:I,children:V(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):V()},null)}var TT=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(TT||{}),ST=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ST||{});function pN(n){let e=$.useContext(dh);return e||ft(!1),e}function mN(n){let e=$.useContext(ET);return e||ft(!1),e}function gN(n){let e=$.useContext(io);return e||ft(!1),e}function CT(n){let e=gN(),t=e.matches[e.matches.length-1];return t.route.id||ft(!1),t.route.id}function vN(){var n;let e=$.useContext(wT),t=mN(),r=CT();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function yN(){let{router:n}=pN(TT.UseNavigateStable),e=CT(ST.UseNavigateStable),t=$.useRef(!1);return IT(()=>{t.current=!0}),$.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Zl({fromRouteId:e},a)))},[n,e])}const NE={};function _N(n,e,t){NE[n]||(NE[n]=!0)}function EN(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function ii(n){ft(!1)}function wN(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Hi.Pop,navigator:a,static:l=!1,future:c}=n;yu()&&ft(!1);let f=e.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:f,navigator:a,static:l,future:Zl({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=ba(r));let{pathname:g="/",search:v="",hash:E="",state:I=null,key:T="default"}=r,C=$.useMemo(()=>{let A=ma(g,f);return A==null?null:{location:{pathname:A,search:v,hash:E,state:I,key:T},navigationType:s}},[f,g,v,E,I,T,s]);return C==null?null:$.createElement(fs.Provider,{value:p},$.createElement(hh.Provider,{children:t,value:C}))}function IN(n){let{children:e,location:t}=n;return aN(nm(e),t)}new Promise(()=>{});function nm(n,e){e===void 0&&(e=[]);let t=[];return $.Children.forEach(n,(r,s)=>{if(!$.isValidElement(r))return;let a=[...e,s];if(r.type===$.Fragment){t.push.apply(t,nm(r.props.children,a));return}r.type!==ii&&ft(!1),!r.props.index||!r.props.children||ft(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=nm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rd.apply(this,arguments)}function bT(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function TN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SN(n,e){return n.button===0&&(!e||e==="_self")&&!TN(n)}const CN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AN="6";try{window.__reactRouterVersion=AN}catch{}const RN=$.createContext({isTransitioning:!1}),PN="startTransition",OE=zC[PN];function xN(n){let{basename:e,children:t,future:r,window:s}=n,a=$.useRef();a.current==null&&(a.current=Ok({window:s,v5Compat:!0}));let l=a.current,[c,f]=$.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=$.useCallback(v=>{p&&OE?OE(()=>f(v)):f(v)},[f,p]);return $.useLayoutEffect(()=>l.listen(g),[l,g]),$.useEffect(()=>EN(r),[r]),$.createElement(wN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}const DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lg=$.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:v}=e,E=bT(e,CN),{basename:I}=$.useContext(fs),T,C=!1;if(typeof p=="string"&&kN.test(p)&&(T=p,DN))try{let B=new URL(window.location.href),H=p.startsWith("//")?new URL(B.protocol+p):new URL(p),q=ma(H.pathname,I);H.origin===B.origin&&q!=null?p=q+H.search+H.hash:C=!0}catch{}let A=sN(p,{relative:s}),O=ON(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:v});function V(B){r&&r(B),B.defaultPrevented||O(B)}return $.createElement("a",Rd({},E,{href:T||A,onClick:C||a?r:V,ref:t,target:f}))}),Ui=$.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g}=e,v=bT(e,bN),E=fh(f,{relative:v.relative}),I=_u(),T=$.useContext(ET),{navigator:C,basename:A}=$.useContext(fs),O=T!=null&&LN(E)&&p===!0,V=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,B=I.pathname,H=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(B=B.toLowerCase(),H=H?H.toLowerCase():null,V=V.toLowerCase()),H&&A&&(H=ma(H,A)||H);const q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let J=B===V||!l&&B.startsWith(V)&&B.charAt(q)==="/",k=H!=null&&(H===V||!l&&H.startsWith(V)&&H.charAt(V.length)==="/"),P={isActive:J,isPending:k,isTransitioning:O},x=J?r:void 0,N;typeof a=="function"?N=a(P):N=[a,J?"active":null,k?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(P):c;return $.createElement(lg,Rd({},v,{"aria-current":x,className:N,ref:t,style:L,to:f,viewTransition:p}),typeof g=="function"?g(P):g)});var rm;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(rm||(rm={}));var LE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(LE||(LE={}));function NN(n){let e=$.useContext(dh);return e||ft(!1),e}function ON(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=Eu(),p=_u(),g=fh(n,{relative:l});return $.useCallback(v=>{if(SN(v,t)){v.preventDefault();let E=r!==void 0?r:Ad(p)===Ad(g);f(n,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,r,s,t,n,a,l,c])}function LN(n,e){e===void 0&&(e={});let t=$.useContext(RN);t==null&&ft(!1);let{basename:r}=NN(rm.useViewTransitionState),s=fh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ma(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ma(t.nextLocation.pathname,r)||t.nextLocation.pathname;return tm(s.pathname,l)!=null||tm(s.pathname,a)!=null}function MN(){var c;const{user:n,logout:e}=kk(),[t,r]=$.useState(!1),s=(n==null?void 0:n.displayName)||((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"User",a=Eu(),l=f=>{r(!1),a(f)};return U.jsxs("nav",{className:"navbar-container",children:[U.jsxs("div",{className:"navbar-inner",children:[U.jsx("span",{className:"navbar-logo",onClick:()=>l("/"),children:"📚 StudyHub"}),U.jsxs("div",{className:`navbar-links ${t?"open":""}`,children:[U.jsx(Ui,{to:"/",end:!0,className:"navbar-link",children:"Dashboard"}),n&&U.jsx(Ui,{to:"/summaries",className:"navbar-link",children:"Summaries"}),n&&U.jsx(Ui,{to:"/tasks",className:"navbar-link",children:"Tasks"}),n&&U.jsx(Ui,{to:"/messages",className:"navbar-link",children:"Messages"}),n&&U.jsx(Ui,{to:"/settings",className:"navbar-link",children:"Settings"}),(n==null?void 0:n.role)==="admin"&&U.jsx(Ui,{to:"/admin",className:"navbar-link",children:"Admin"})]}),U.jsxs("div",{className:"navbar-user-area",children:[n&&U.jsxs("span",{className:"navbar-username",children:["Hi, ",s]}),n?U.jsx("button",{className:"navbar-btn-logout",onClick:e,children:"Logout"}):U.jsxs(U.Fragment,{children:[U.jsx(Ui,{to:"/login",className:"navbar-link",children:"Login"}),U.jsx(Ui,{to:"/register",className:"navbar-link",children:"Sign Up"})]})]}),U.jsx("button",{className:"navbar-menu-btn",onClick:()=>r(f=>!f),children:U.jsx("span",{className:"navbar-menu-icon",children:t?"✖️":"☰"})})]}),t&&U.jsx("div",{className:"navbar-mobile-overlay",onClick:()=>r(!1)})]})}function VN(){var f;const[n,e]=$.useState(""),[t,r]=$.useState({tasks:0,summaries:0,messages:0,pendingSummaries:0}),[s,a]=$.useState(!1),l=Eu();$.useEffect(()=>{const p=Rn.currentUser;if(!p)return;vu(sn(nt,"users",p.uid)).then(T=>{const C=T.data()||{};e(C.displayName||p.displayName||p.email||"User"),a(C.role==="admin")});const g=ai(Gn(nt,"tasks"),T=>{r(C=>({...C,tasks:T.size}))}),v=ai(Gn(nt,"summaries"),T=>{r(C=>({...C,summaries:T.size}))}),E=ai(Gn(nt,"messages"),T=>{r(C=>({...C,messages:T.size}))});let I=()=>{};if(p){const T=pa(Gn(nt,"summaries"),Yl("status","==","pending"));I=ai(T,C=>{r(A=>({...A,pendingSummaries:C.size}))})}return()=>{g(),v(),E(),I()}},[]);function c({icon:p,label:g,count:v,cardClass:E,route:I}){return U.jsxs("div",{className:`stat-card ${E}`,onClick:()=>l(I),children:[U.jsx("div",{className:"stat-icon",children:p}),U.jsxs("div",{className:"stat-info",children:[U.jsx("span",{className:"stat-label",children:g}),U.jsx("span",{className:"stat-count",children:v})]})]})}return U.jsxs("section",{className:"dashboard-wrapper",children:[U.jsxs("div",{className:"welcome-row",children:[U.jsx("span",{className:"avatar",children:U.jsxs("svg",{width:"48",height:"48",fill:"#7093e0",children:[U.jsx("circle",{cx:"24",cy:"24",r:"24",fill:"#e5edfb"}),U.jsx("text",{x:"50%",y:"65%",textAnchor:"middle",fontSize:"22",fontWeight:"bold",fill:"#7093e0",children:((f=n==null?void 0:n[0])==null?void 0:f.toUpperCase())||"U"})]})}),U.jsxs("h2",{children:["Welcome, ",U.jsx("span",{className:"welcome-name",children:n})," ",U.jsx("span",{className:"wave",children:"👋"})]})]}),U.jsxs("div",{className:"dashboard-grid",children:[U.jsx(c,{icon:U.jsx("span",{style:{fontSize:32},children:"📝"}),label:"Tasks",count:t.tasks,cardClass:"stat-card-tasks",route:"/tasks"}),U.jsx(c,{icon:U.jsx("span",{style:{fontSize:32},children:"📚"}),label:"Summaries",count:t.summaries,cardClass:"stat-card-summaries",route:"/summaries"}),U.jsx(c,{icon:U.jsx("span",{style:{fontSize:32},children:"💬"}),label:"Messages",count:t.messages,cardClass:"stat-card-messages",route:"/messages"}),s&&U.jsx(c,{icon:U.jsx("span",{style:{fontSize:32},children:"🛡️"}),label:"Pending Summaries",count:t.pendingSummaries,cardClass:"stat-card-pending",route:"/admin"})]})]})}function FN(){const[n,e]=$.useState(""),[t,r]=$.useState(""),[s,a]=$.useState([]),[l,c]=$.useState(null),[f,p]=$.useState(null);$.useEffect(()=>{const T=Rn.onAuthStateChanged(C=>p(C));return()=>T()},[]),$.useEffect(()=>{if(!f){a([]);return}const T=pa(Gn(nt,"summaries"),Yl("status","==","approved")),C=pa(Gn(nt,"summaries"),Yl("owner","==",f.uid));let A=[],O=[];function V(){const q=O.filter(k=>k.status!=="approved"),J=[...A,...q.filter(k=>!A.some(P=>P.id===k.id))];J.sort((k,P)=>{var L,j;const x=(L=k.createdAt)!=null&&L.toDate?k.createdAt.toDate().getTime():new Date(k.createdAt).getTime();return((j=P.createdAt)!=null&&j.toDate?P.createdAt.toDate().getTime():new Date(P.createdAt).getTime())-x}),a(J)}const B=ai(T,q=>{A=q.docs.map(J=>({id:J.id,...J.data()})),V()}),H=ai(C,q=>{O=q.docs.map(J=>({id:J.id,...J.data()})),V()});return()=>{B(),H()}},[f]);const g=async()=>{if(!n.trim()||!t.trim()){alert("Please fill in both title and content");return}if(!f)return alert("You must be logged in");let T=f.displayName;try{const C=await vu(sn(nt,"users",f.uid));C.exists()&&C.data().displayName&&(T=C.data().displayName)}catch{}await og(Gn(nt,"summaries"),{owner:f.uid,ownerName:T||f.email||"משתמש",title:n,content:t,status:"pending",createdAt:Sd?Sd():new Date}),e(""),r("")},v=async(T,C)=>{C.stopPropagation(),window.confirm("Are you sure you want to delete this summary?")&&await aT(sn(nt,"summaries",T))},E=T=>c(T),I=()=>c(null);return U.jsxs("section",{className:"page-wrapper",children:[U.jsx("h1",{className:"page-title",children:"סיכומים"}),U.jsxs("div",{className:"summary-form",children:[U.jsx("input",{type:"text",placeholder:"כותרת הסיכום...",value:n,onChange:T=>e(T.target.value),className:"summary-title-input"}),U.jsx("textarea",{placeholder:"כתוב כאן את תוכן הסיכום...",value:t,onChange:T=>r(T.target.value),className:"summary-content-textarea"}),U.jsx("button",{className:"btn-primary",onClick:g,children:"הוסף סיכום"})]}),U.jsxs("div",{className:"summaries-list",children:[s.map(T=>U.jsxs("div",{className:"summary-list-item",onClick:()=>E(T),children:[U.jsxs("div",{className:"summary-list-content",children:[U.jsx("h3",{className:"summary-list-title",children:T.title||"ללא כותרת"}),U.jsx("p",{className:"summary-list-preview",children:T.content&&T.content.length>100?T.content.substring(0,100)+"...":T.content}),U.jsxs("div",{className:"summary-list-footer flex flex-wrap gap-2 items-center justify-between",children:[U.jsx("span",{className:`summary-status ${T.status}`,children:T.status==="approved"?"מאושר":T.status==="pending"?"בהמתנה":"נדחה"}),U.jsx("span",{className:"summary-owner text-xs text-[#206db0] font-semibold",children:T.ownerName?`מאת: ${T.ownerName}`:""}),T.createdAt&&U.jsx("span",{className:"summary-date",children:T.createdAt.toDate?T.createdAt.toDate().toLocaleDateString():new Date(T.createdAt).toLocaleDateString()})]})]}),f&&T.owner===f.uid&&U.jsx("button",{onClick:C=>v(T.id,C),className:"delete-btn",title:"מחק סיכום",children:"×"})]},T.id)),s.length===0&&U.jsx("div",{className:"text-center text-gray-500 py-10",children:"אין סיכומים להצגה"})]}),l&&U.jsx("div",{className:"modal-overlay",onClick:I,children:U.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[U.jsxs("div",{className:"modal-header",children:[U.jsx("h2",{children:l.title||"ללא כותרת"}),U.jsx("button",{className:"close-btn",onClick:I,children:"×"})]}),U.jsxs("div",{className:"modal-body",children:[U.jsx("p",{children:l.content}),l.adminComment&&U.jsxs("div",{className:"text-red-600 mt-2",children:["הערת אדמין: ",l.adminComment]})]}),U.jsxs("div",{className:"modal-footer flex gap-3",children:[U.jsx("span",{className:`summary-status ${l.status}`,children:l.status==="approved"?"מאושר":l.status==="pending"?"בהמתנה":"נדחה"}),U.jsx("span",{className:"summary-owner text-xs text-[#206db0] font-semibold",children:l.ownerName?`מאת: ${l.ownerName}`:""}),l.createdAt&&U.jsx("span",{className:"summary-date",children:l.createdAt.toDate?l.createdAt.toDate().toLocaleDateString():new Date(l.createdAt).toLocaleDateString()})]})]})})]})}function im(n,e){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},im(n,e)}function AT(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,im(n,e)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ie.apply(null,arguments)}function eu(n){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(n)}function UN(n,e){if(eu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BN(n){var e=UN(n,"string");return eu(e)=="symbol"?e:e+""}function jN(n,e,t){return(e=BN(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ME(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function VE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(t),!0).forEach(function(r){jN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ME(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pn(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var FE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),UE=function(){return Math.random().toString(36).substring(7).split("").join(".")},BE={INIT:"@@redux/INIT"+UE(),REPLACE:"@@redux/REPLACE"+UE()};function zN(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function RT(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(pn(1));return t(RT)(n,e)}if(typeof n!="function")throw new Error(pn(2));var s=n,a=e,l=[],c=l,f=!1;function p(){c===l&&(c=l.slice())}function g(){if(f)throw new Error(pn(3));return a}function v(C){if(typeof C!="function")throw new Error(pn(4));if(f)throw new Error(pn(5));var A=!0;return p(),c.push(C),function(){if(A){if(f)throw new Error(pn(6));A=!1,p();var V=c.indexOf(C);c.splice(V,1),l=null}}}function E(C){if(!zN(C))throw new Error(pn(7));if(typeof C.type>"u")throw new Error(pn(8));if(f)throw new Error(pn(9));try{f=!0,a=s(a,C)}finally{f=!1}for(var A=l=c,O=0;O<A.length;O++){var V=A[O];V()}return C}function I(C){if(typeof C!="function")throw new Error(pn(10));s=C,E({type:BE.REPLACE})}function T(){var C,A=v;return C={subscribe:function(V){if(typeof V!="object"||V===null)throw new Error(pn(11));function B(){V.next&&V.next(g())}B();var H=A(B);return{unsubscribe:H}}},C[FE]=function(){return this},C}return E({type:BE.INIT}),r={dispatch:E,subscribe:v,getState:g,replaceReducer:I},r[FE]=T,r}function jE(n,e){return function(){return e(n.apply(this,arguments))}}function zE(n,e){if(typeof n=="function")return jE(n,e);if(typeof n!="object"||n===null)throw new Error(pn(16));var t={};for(var r in n){var s=n[r];typeof s=="function"&&(t[r]=jE(s,e))}return t}function PT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function $N(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var s=r.apply(void 0,arguments),a=function(){throw new Error(pn(15))},l={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=e.map(function(f){return f(l)});return a=PT.apply(void 0,c)(s.dispatch),VE(VE({},s),{},{dispatch:a})}}}var xT=tt.createContext(null);function WN(n){n()}var DT=WN,HN=function(e){return DT=e},GN=function(){return DT};function qN(){var n=GN(),e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){n(function(){for(var s=e;s;)s.callback(),s=s.next})},get:function(){for(var s=[],a=e;a;)s.push(a),a=a.next;return s},subscribe:function(s){var a=!0,l=t={callback:s,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var $E={notify:function(){},get:function(){return[]}};function kT(n,e){var t,r=$E;function s(v){return f(),r.subscribe(v)}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return!!t}function f(){t||(t=e?e.addNestedSub(l):n.subscribe(l),r=qN())}function p(){t&&(t(),t=void 0,r.clear(),r=$E)}var g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:function(){return r}};return g}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect;function KN(n){var e=n.store,t=n.context,r=n.children,s=$.useMemo(function(){var c=kT(e);return{store:e,subscription:c}},[e]),a=$.useMemo(function(){return e.getState()},[e]);NT(function(){var c=s.subscription;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),function(){c.tryUnsubscribe(),c.onStateChange=null}},[s,a]);var l=t||xT;return tt.createElement(l.Provider,{value:s},r)}function Pd(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var hp={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function QN(){if(WE)return Ge;WE=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,v=n?Symbol.for("react.suspense"):60113,E=n?Symbol.for("react.suspense_list"):60120,I=n?Symbol.for("react.memo"):60115,T=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,V=n?Symbol.for("react.scope"):60119;function B(q){if(typeof q=="object"&&q!==null){var J=q.$$typeof;switch(J){case e:switch(q=q.type,q){case f:case p:case r:case a:case s:case v:return q;default:switch(q=q&&q.$$typeof,q){case c:case g:case T:case I:case l:return q;default:return J}}case t:return J}}}function H(q){return B(q)===p}return Ge.AsyncMode=f,Ge.ConcurrentMode=p,Ge.ContextConsumer=c,Ge.ContextProvider=l,Ge.Element=e,Ge.ForwardRef=g,Ge.Fragment=r,Ge.Lazy=T,Ge.Memo=I,Ge.Portal=t,Ge.Profiler=a,Ge.StrictMode=s,Ge.Suspense=v,Ge.isAsyncMode=function(q){return H(q)||B(q)===f},Ge.isConcurrentMode=H,Ge.isContextConsumer=function(q){return B(q)===c},Ge.isContextProvider=function(q){return B(q)===l},Ge.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===e},Ge.isForwardRef=function(q){return B(q)===g},Ge.isFragment=function(q){return B(q)===r},Ge.isLazy=function(q){return B(q)===T},Ge.isMemo=function(q){return B(q)===I},Ge.isPortal=function(q){return B(q)===t},Ge.isProfiler=function(q){return B(q)===a},Ge.isStrictMode=function(q){return B(q)===s},Ge.isSuspense=function(q){return B(q)===v},Ge.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===r||q===p||q===a||q===s||q===v||q===E||typeof q=="object"&&q!==null&&(q.$$typeof===T||q.$$typeof===I||q.$$typeof===l||q.$$typeof===c||q.$$typeof===g||q.$$typeof===A||q.$$typeof===O||q.$$typeof===V||q.$$typeof===C)},Ge.typeOf=B,Ge}var HE;function YN(){return HE||(HE=1,hp.exports=QN()),hp.exports}var fp,GE;function XN(){if(GE)return fp;GE=1;var n=YN(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=s;function l(T){return n.isMemo(T)?s:a[T.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,E=Object.prototype;function I(T,C,A){if(typeof C!="string"){if(E){var O=v(C);O&&O!==E&&I(T,O,A)}var V=f(C);p&&(V=V.concat(p(C)));for(var B=l(T),H=l(C),q=0;q<V.length;++q){var J=V[q];if(!t[J]&&!(A&&A[J])&&!(H&&H[J])&&!(B&&B[J])){var k=g(C,J);try{c(T,J,k)}catch{}}}}return T}return fp=I,fp}var JN=XN();const qE=Fd(JN);var pp={exports:{}},Xe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function ZN(){if(KE)return Xe;KE=1;var n=60103,e=60106,t=60107,r=60108,s=60114,a=60109,l=60110,c=60112,f=60113,p=60120,g=60115,v=60116,E=60121,I=60122,T=60117,C=60129,A=60131;if(typeof Symbol=="function"&&Symbol.for){var O=Symbol.for;n=O("react.element"),e=O("react.portal"),t=O("react.fragment"),r=O("react.strict_mode"),s=O("react.profiler"),a=O("react.provider"),l=O("react.context"),c=O("react.forward_ref"),f=O("react.suspense"),p=O("react.suspense_list"),g=O("react.memo"),v=O("react.lazy"),E=O("react.block"),I=O("react.server.block"),T=O("react.fundamental"),C=O("react.debug_trace_mode"),A=O("react.legacy_hidden")}function V(R){if(typeof R=="object"&&R!==null){var Ce=R.$$typeof;switch(Ce){case n:switch(R=R.type,R){case t:case s:case r:case f:case p:return R;default:switch(R=R&&R.$$typeof,R){case l:case c:case v:case g:case a:return R;default:return Ce}}case e:return Ce}}}var B=a,H=n,q=c,J=t,k=v,P=g,x=e,N=s,L=r,j=f;return Xe.ContextConsumer=l,Xe.ContextProvider=B,Xe.Element=H,Xe.ForwardRef=q,Xe.Fragment=J,Xe.Lazy=k,Xe.Memo=P,Xe.Portal=x,Xe.Profiler=N,Xe.StrictMode=L,Xe.Suspense=j,Xe.isAsyncMode=function(){return!1},Xe.isConcurrentMode=function(){return!1},Xe.isContextConsumer=function(R){return V(R)===l},Xe.isContextProvider=function(R){return V(R)===a},Xe.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},Xe.isForwardRef=function(R){return V(R)===c},Xe.isFragment=function(R){return V(R)===t},Xe.isLazy=function(R){return V(R)===v},Xe.isMemo=function(R){return V(R)===g},Xe.isPortal=function(R){return V(R)===e},Xe.isProfiler=function(R){return V(R)===s},Xe.isStrictMode=function(R){return V(R)===r},Xe.isSuspense=function(R){return V(R)===f},Xe.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===s||R===C||R===r||R===f||R===p||R===A||typeof R=="object"&&R!==null&&(R.$$typeof===v||R.$$typeof===g||R.$$typeof===a||R.$$typeof===l||R.$$typeof===c||R.$$typeof===T||R.$$typeof===E||R[0]===I)},Xe.typeOf=V,Xe}var QE;function eO(){return QE||(QE=1,pp.exports=ZN()),pp.exports}var tO=eO(),nO=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],rO=["reactReduxForwardedRef"],iO=[],sO=[null,null];function oO(n,e){var t=n[1];return[e.payload,t+1]}function YE(n,e,t){NT(function(){return n.apply(void 0,e)},t)}function aO(n,e,t,r,s,a,l){n.current=r,e.current=s,t.current=!1,a.current&&(a.current=null,l())}function lO(n,e,t,r,s,a,l,c,f,p){if(n){var g=!1,v=null,E=function(){if(!g){var C=e.getState(),A,O;try{A=r(C,s.current)}catch(V){O=V,v=V}O||(v=null),A===a.current?l.current||f():(a.current=A,c.current=A,l.current=!0,p({type:"STORE_UPDATED",payload:{error:O}}))}};t.onStateChange=E,t.trySubscribe(),E();var I=function(){if(g=!0,t.tryUnsubscribe(),t.onStateChange=null,v)throw v};return I}}var uO=function(){return[null,0]};function cO(n,e){e===void 0&&(e={});var t=e,r=t.getDisplayName,s=r===void 0?function(B){return"ConnectAdvanced("+B+")"}:r,a=t.methodName,l=a===void 0?"connectAdvanced":a,c=t.renderCountProp,f=c===void 0?void 0:c,p=t.shouldHandleStateChanges,g=p===void 0?!0:p,v=t.storeKey,E=v===void 0?"store":v;t.withRef;var I=t.forwardRef,T=I===void 0?!1:I,C=t.context,A=C===void 0?xT:C,O=Pd(t,nO),V=A;return function(H){var q=H.displayName||H.name||"Component",J=s(q),k=Ie({},O,{getDisplayName:s,methodName:l,renderCountProp:f,shouldHandleStateChanges:g,storeKey:E,displayName:J,wrappedComponentName:q,WrappedComponent:H}),P=O.pure;function x(Ce){return n(Ce.dispatch,k)}var N=P?$.useMemo:function(Ce){return Ce()};function L(Ce){var Ke=$.useMemo(function(){var On=Ce.reactReduxForwardedRef,yn=Pd(Ce,rO);return[Ce.context,On,yn]},[Ce]),Qe=Ke[0],Fe=Ke[1],se=Ke[2],ge=$.useMemo(function(){return Qe&&Qe.Consumer&&tO.isContextConsumer(tt.createElement(Qe.Consumer,null))?Qe:V},[Qe,V]),le=$.useContext(ge),z=!!Ce.store&&!!Ce.store.getState&&!!Ce.store.dispatch;le&&le.store;var X=z?Ce.store:le.store,pe=$.useMemo(function(){return x(X)},[X]),Pe=$.useMemo(function(){if(!g)return sO;var On=kT(X,z?null:le.subscription),yn=On.notifyNestedSubs.bind(On);return[On,yn]},[X,z,le]),be=Pe[0],De=Pe[1],Oe=$.useMemo(function(){return z?le:Ie({},le,{subscription:be})},[z,le,be]),Le=$.useReducer(oO,iO,uO),He=Le[0],rt=He[0],vn=Le[1];if(rt&&rt.error)throw rt.error;var Fr=$.useRef(),kn=$.useRef(se),Nn=$.useRef(),Ur=$.useRef(!1),Br=N(function(){return Nn.current&&se===kn.current?Nn.current:pe(X.getState(),se)},[X,rt,se]);YE(aO,[kn,Fr,Ur,se,Br,Nn,De]),YE(lO,[g,X,be,pe,kn,Fr,Ur,Nn,De,vn],[X,be,pe]);var jr=$.useMemo(function(){return tt.createElement(H,Ie({},Br,{ref:Fe}))},[Fe,H,Br]),so=$.useMemo(function(){return g?tt.createElement(ge.Provider,{value:Oe},jr):jr},[ge,jr,Oe]);return so}var j=P?tt.memo(L):L;if(j.WrappedComponent=H,j.displayName=L.displayName=J,T){var R=tt.forwardRef(function(Ke,Qe){return tt.createElement(j,Ie({},Ke,{reactReduxForwardedRef:Qe}))});return R.displayName=J,R.WrappedComponent=H,qE(R,H)}return qE(j,H)}}function XE(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function mp(n,e){if(XE(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(var s=0;s<t.length;s++)if(!Object.prototype.hasOwnProperty.call(e,t[s])||!XE(n[t[s]],e[t[s]]))return!1;return!0}function dO(n,e){var t={},r=function(l){var c=n[l];typeof c=="function"&&(t[l]=function(){return e(c.apply(void 0,arguments))})};for(var s in n)r(s);return t}function ug(n){return function(t,r){var s=n(t,r);function a(){return s}return a.dependsOnOwnProps=!1,a}}function JE(n){return n.dependsOnOwnProps!==null&&n.dependsOnOwnProps!==void 0?!!n.dependsOnOwnProps:n.length!==1}function OT(n,e){return function(r,s){s.displayName;var a=function(c,f){return a.dependsOnOwnProps?a.mapToProps(c,f):a.mapToProps(c)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,f){a.mapToProps=n,a.dependsOnOwnProps=JE(n);var p=a(c,f);return typeof p=="function"&&(a.mapToProps=p,a.dependsOnOwnProps=JE(p),p=a(c,f)),p},a}}function hO(n){return typeof n=="function"?OT(n):void 0}function fO(n){return n?void 0:ug(function(e){return{dispatch:e}})}function pO(n){return n&&typeof n=="object"?ug(function(e){return dO(n,e)}):void 0}const mO=[hO,fO,pO];function gO(n){return typeof n=="function"?OT(n):void 0}function vO(n){return n?void 0:ug(function(){return{}})}const yO=[gO,vO];function _O(n,e,t){return Ie({},t,n,e)}function EO(n){return function(t,r){r.displayName;var s=r.pure,a=r.areMergedPropsEqual,l=!1,c;return function(p,g,v){var E=n(p,g,v);return l?(!s||!a(E,c))&&(c=E):(l=!0,c=E),c}}}function wO(n){return typeof n=="function"?EO(n):void 0}function IO(n){return n?void 0:function(){return _O}}const TO=[wO,IO];var SO=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function CO(n,e,t,r){return function(a,l){return t(n(a,l),e(r,l),l)}}function bO(n,e,t,r,s){var a=s.areStatesEqual,l=s.areOwnPropsEqual,c=s.areStatePropsEqual,f=!1,p,g,v,E,I;function T(B,H){return p=B,g=H,v=n(p,g),E=e(r,g),I=t(v,E,g),f=!0,I}function C(){return v=n(p,g),e.dependsOnOwnProps&&(E=e(r,g)),I=t(v,E,g),I}function A(){return n.dependsOnOwnProps&&(v=n(p,g)),e.dependsOnOwnProps&&(E=e(r,g)),I=t(v,E,g),I}function O(){var B=n(p,g),H=!c(B,v);return v=B,H&&(I=t(v,E,g)),I}function V(B,H){var q=!l(H,g),J=!a(B,p,H,g);return p=B,g=H,q&&J?C():q?A():J?O():I}return function(H,q){return f?V(H,q):T(H,q)}}function AO(n,e){var t=e.initMapStateToProps,r=e.initMapDispatchToProps,s=e.initMergeProps,a=Pd(e,SO),l=t(n,a),c=r(n,a),f=s(n,a),p=a.pure?bO:CO;return p(l,c,f,n,a)}var RO=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function gp(n,e,t){for(var r=e.length-1;r>=0;r--){var s=e[r](n);if(s)return s}return function(a,l){throw new Error("Invalid value of type "+typeof n+" for "+t+" argument when connecting component "+l.wrappedComponentName+".")}}function PO(n,e){return n===e}function xO(n){var e=n===void 0?{}:n,t=e.connectHOC,r=t===void 0?cO:t,s=e.mapStateToPropsFactories,a=s===void 0?yO:s,l=e.mapDispatchToPropsFactories,c=l===void 0?mO:l,f=e.mergePropsFactories,p=f===void 0?TO:f,g=e.selectorFactory,v=g===void 0?AO:g;return function(I,T,C,A){A===void 0&&(A={});var O=A,V=O.pure,B=V===void 0?!0:V,H=O.areStatesEqual,q=H===void 0?PO:H,J=O.areOwnPropsEqual,k=J===void 0?mp:J,P=O.areStatePropsEqual,x=P===void 0?mp:P,N=O.areMergedPropsEqual,L=N===void 0?mp:N,j=Pd(O,RO),R=gp(I,a,"mapStateToProps"),Ce=gp(T,c,"mapDispatchToProps"),Ke=gp(C,p,"mergeProps");return r(v,Ie({methodName:"connect",getDisplayName:function(Fe){return"Connect("+Fe+")"},shouldHandleStateChanges:!!I,initMapStateToProps:R,initMapDispatchToProps:Ce,initMergeProps:Ke,pure:B,areStatesEqual:q,areOwnPropsEqual:k,areStatePropsEqual:x,areMergedPropsEqual:L},j))}}const LT=xO();HN(fT.unstable_batchedUpdates);function DO(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function MT(n,e){var t=$.useState(function(){return{inputs:e,result:n()}})[0],r=$.useRef(!0),s=$.useRef(t),a=r.current||!!(e&&s.current.inputs&&DO(e,s.current.inputs)),l=a?s.current:{inputs:e,result:n()};return $.useEffect(function(){r.current=!1,s.current=l},[l]),l.result}function kO(n,e){return MT(function(){return n},e)}var $e=MT,ye=kO,NO="Invariant failed";function OO(n,e){throw new Error(NO)}var pr=function(e){var t=e.top,r=e.right,s=e.bottom,a=e.left,l=r-a,c=s-t,f={top:t,right:r,bottom:s,left:a,width:l,height:c,x:a,y:t,center:{x:(r+a)/2,y:(s+t)/2}};return f},cg=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},ZE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},LO=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},vp={top:0,right:0,bottom:0,left:0},dg=function(e){var t=e.borderBox,r=e.margin,s=r===void 0?vp:r,a=e.border,l=a===void 0?vp:a,c=e.padding,f=c===void 0?vp:c,p=pr(cg(t,s)),g=pr(ZE(t,l)),v=pr(ZE(g,f));return{marginBox:p,borderBox:pr(t),paddingBox:g,contentBox:v,margin:s,border:l,padding:f}},Hn=function(e){var t=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var s=Number(t);return isNaN(s)&&OO(),s},MO=function(){return{x:window.pageXOffset,y:window.pageYOffset}},xd=function(e,t){var r=e.borderBox,s=e.border,a=e.margin,l=e.padding,c=LO(r,t);return dg({borderBox:c,border:s,margin:a,padding:l})},Dd=function(e,t){return t===void 0&&(t=MO()),xd(e,t)},VT=function(e,t){var r={top:Hn(t.marginTop),right:Hn(t.marginRight),bottom:Hn(t.marginBottom),left:Hn(t.marginLeft)},s={top:Hn(t.paddingTop),right:Hn(t.paddingRight),bottom:Hn(t.paddingBottom),left:Hn(t.paddingLeft)},a={top:Hn(t.borderTopWidth),right:Hn(t.borderRightWidth),bottom:Hn(t.borderBottomWidth),left:Hn(t.borderLeftWidth)};return dg({borderBox:e,margin:r,padding:s,border:a})},FT=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return VT(t,r)},ew=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function VO(n,e){return!!(n===e||ew(n)&&ew(e))}function FO(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!VO(n[t],e[t]))return!1;return!0}function Ot(n,e){e===void 0&&(e=FO);var t,r=[],s,a=!1;function l(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return a&&t===this&&e(c,r)||(s=n.apply(this,c),a=!0,t=this,r=c),s}return l}var tu=function(e){var t=[],r=null,s=function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];t=c,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function UT(n,e){}UT.bind(null,"warn");UT.bind(null,"error");function Ji(){}function UO(n,e){return Ie({},n,{},e)}function qn(n,e,t){var r=e.map(function(s){var a=UO(t,s.options);return n.addEventListener(s.eventName,s.fn,a),function(){n.removeEventListener(s.eventName,s.fn,a)}});return function(){r.forEach(function(a){a()})}}var BO="Invariant failed";function kd(n){this.message=n}kd.prototype.toString=function(){return this.message};function oe(n,e){throw new kd(BO)}var jO=function(n){AT(e,n);function e(){for(var r,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return r=n.call.apply(n,[this].concat(a))||this,r.callbacks=null,r.unbind=Ji,r.onWindowError=function(c){var f=r.getCallbacks();f.isDragging()&&f.tryAbort();var p=c.error;p instanceof kd&&c.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(c){r.callbacks=c},r}var t=e.prototype;return t.componentDidMount=function(){this.unbind=qn(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(s){if(s instanceof kd){this.setState({});return}throw s},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},e}(tt.Component),zO=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Nd=function(e){return e+1},$O=function(e){return`
  You have lifted an item in position `+Nd(e.source.index)+`
`},BT=function(e,t){var r=e.droppableId===t.droppableId,s=Nd(e.index),a=Nd(t.index);return r?`
      You have moved the item from position `+s+`
      to position `+a+`
    `:`
    You have moved the item from position `+s+`
    in list `+e.droppableId+`
    to list `+t.droppableId+`
    in position `+a+`
  `},jT=function(e,t,r){var s=t.droppableId===r.droppableId;return s?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+t.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},WO=function(e){var t=e.destination;if(t)return BT(e.source,t);var r=e.combine;return r?jT(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},tw=function(e){return`
  The item has returned to its starting position
  of `+Nd(e.index)+`
`},HO=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+tw(e.source)+`
    `;var t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      `+BT(e.source,t)+`
    `:r?`
      You have dropped the item.
      `+jT(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+tw(e.source)+`
  `},sd={dragHandleUsageInstructions:zO,onDragStart:$O,onDragUpdate:WO,onDragEnd:HO},Lt={x:0,y:0},zt=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Pn=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Zi=function(e,t){return e.x===t.x&&e.y===t.y},Aa=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Js=function(e,t,r){var s;return r===void 0&&(r=0),s={},s[e]=t,s[e==="x"?"y":"x"]=r,s},nu=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},nw=function(e,t){return Math.min.apply(Math,t.map(function(r){return nu(e,r)}))},zT=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},GO=function(n,e){var t=pr({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return t.width<=0||t.height<=0?null:t},wu=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},rw=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},qO={top:0,right:0,bottom:0,left:0},KO=function(e,t){return t?wu(e,t.scroll.diff.displacement):e},QO=function(e,t,r){if(r&&r.increasedBy){var s;return Ie({},e,(s={},s[t.end]=e[t.end]+r.increasedBy[t.line],s))}return e},YO=function(e,t){return t&&t.shouldClipSubject?GO(t.pageMarginBox,e):pr(e)},ga=function(n){var e=n.page,t=n.withPlaceholder,r=n.axis,s=n.frame,a=KO(e.marginBox,s),l=QO(a,r,t),c=YO(l,s);return{page:e,withPlaceholder:t,active:c}},hg=function(n,e){n.frame||oe();var t=n.frame,r=Pn(e,t.scroll.initial),s=Aa(r),a=Ie({},t,{scroll:{initial:t.scroll.initial,current:e,diff:{value:r,displacement:s},max:t.scroll.max}}),l=ga({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:a}),c=Ie({},n,{frame:a,subject:l});return c};function Od(n){return Object.values?Object.values(n):Object.keys(n).map(function(e){return n[e]})}function fg(n,e){if(n.findIndex)return n.findIndex(e);for(var t=0;t<n.length;t++)if(e(n[t]))return t;return-1}function ps(n,e){if(n.find)return n.find(e);var t=fg(n,e);if(t!==-1)return n[t]}function $T(n){return Array.prototype.slice.call(n)}var WT=Ot(function(n){return n.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),HT=Ot(function(n){return n.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ph=Ot(function(n){return Od(n)}),XO=Ot(function(n){return Od(n)}),Ra=Ot(function(n,e){var t=XO(e).filter(function(r){return n===r.descriptor.droppableId}).sort(function(r,s){return r.descriptor.index-s.descriptor.index});return t});function pg(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function mh(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var gh=Ot(function(n,e){return e.filter(function(t){return t.descriptor.id!==n.descriptor.id})}),JO=function(n){var e=n.isMovingForward,t=n.draggable,r=n.destination,s=n.insideDestination,a=n.previousImpact;if(!r.isCombineEnabled)return null;var l=pg(a);if(!l)return null;function c(C){var A={type:"COMBINE",combine:{draggableId:C,droppableId:r.descriptor.id}};return Ie({},a,{at:A})}var f=a.displaced.all,p=f.length?f[0]:null;if(e)return p?c(p):null;var g=gh(t,s);if(!p){if(!g.length)return null;var v=g[g.length-1];return c(v.descriptor.id)}var E=fg(g,function(C){return C.descriptor.id===p});E===-1&&oe();var I=E-1;if(I<0)return null;var T=g[I];return c(T.descriptor.id)},Pa=function(n,e){return n.descriptor.droppableId===e.descriptor.id},GT={point:Lt,value:0},ru={invisible:{},visible:{},all:[]},ZO={displaced:ru,displacedBy:GT,at:null},Yn=function(n,e){return function(t){return n<=t&&t<=e}},qT=function(n){var e=Yn(n.top,n.bottom),t=Yn(n.left,n.right);return function(r){var s=e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right);if(s)return!0;var a=e(r.top)||e(r.bottom),l=t(r.left)||t(r.right),c=a&&l;if(c)return!0;var f=r.top<n.top&&r.bottom>n.bottom,p=r.left<n.left&&r.right>n.right,g=f&&p;if(g)return!0;var v=f&&l||p&&a;return v}},e2=function(n){var e=Yn(n.top,n.bottom),t=Yn(n.left,n.right);return function(r){var s=e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right);return s}},mg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},KT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},t2=function(n){return function(e){var t=Yn(e.top,e.bottom),r=Yn(e.left,e.right);return function(s){return n===mg?t(s.top)&&t(s.bottom):r(s.left)&&r(s.right)}}},n2=function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:Lt;return wu(e,r)},r2=function(e,t,r){return t.subject.active?r(t.subject.active)(e):!1},i2=function(e,t,r){return r(t)(e)},gg=function(e){var t=e.target,r=e.destination,s=e.viewport,a=e.withDroppableDisplacement,l=e.isVisibleThroughFrameFn,c=a?n2(t,r):t;return r2(c,r,l)&&i2(c,s,l)},s2=function(e){return gg(Ie({},e,{isVisibleThroughFrameFn:qT}))},QT=function(e){return gg(Ie({},e,{isVisibleThroughFrameFn:e2}))},o2=function(e){return gg(Ie({},e,{isVisibleThroughFrameFn:t2(e.destination.axis)}))},a2=function(e,t,r){if(typeof r=="boolean")return r;if(!t)return!0;var s=t.invisible,a=t.visible;if(s[e])return!1;var l=a[e];return l?l.shouldAnimate:!0};function l2(n,e){var t=n.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return pr(cg(t,r))}function iu(n){var e=n.afterDragging,t=n.destination,r=n.displacedBy,s=n.viewport,a=n.forceShouldAnimate,l=n.last;return e.reduce(function(f,p){var g=l2(p,r),v=p.descriptor.id;f.all.push(v);var E=s2({target:g,destination:t,viewport:s,withDroppableDisplacement:!0});if(!E)return f.invisible[p.descriptor.id]=!0,f;var I=a2(v,l,a),T={draggableId:v,shouldAnimate:I};return f.visible[v]=T,f},{all:[],visible:{},invisible:{}})}function u2(n,e){if(!n.length)return 0;var t=n[n.length-1].descriptor.index;return e.inHomeList?t:t+1}function iw(n){var e=n.insideDestination,t=n.inHomeList,r=n.displacedBy,s=n.destination,a=u2(e,{inHomeList:t});return{displaced:ru,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Ld(n){var e=n.draggable,t=n.insideDestination,r=n.destination,s=n.viewport,a=n.displacedBy,l=n.last,c=n.index,f=n.forceShouldAnimate,p=Pa(e,r);if(c==null)return iw({insideDestination:t,inHomeList:p,displacedBy:a,destination:r});var g=ps(t,function(C){return C.descriptor.index===c});if(!g)return iw({insideDestination:t,inHomeList:p,displacedBy:a,destination:r});var v=gh(e,t),E=t.indexOf(g),I=v.slice(E),T=iu({afterDragging:I,destination:r,displacedBy:a,last:l,viewport:s.frame,forceShouldAnimate:f});return{displaced:T,displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function us(n,e){return!!e.effected[n]}var c2=function(n){var e=n.isMovingForward,t=n.destination,r=n.draggables,s=n.combine,a=n.afterCritical;if(!t.isCombineEnabled)return null;var l=s.draggableId,c=r[l],f=c.descriptor.index,p=us(l,a);return p?e?f:f-1:e?f+1:f},d2=function(n){var e=n.isMovingForward,t=n.isInHomeList,r=n.insideDestination,s=n.location;if(!r.length)return null;var a=s.index,l=e?a+1:a-1,c=r[0].descriptor.index,f=r[r.length-1].descriptor.index,p=t?f:f+1;return l<c||l>p?null:l},h2=function(n){var e=n.isMovingForward,t=n.isInHomeList,r=n.draggable,s=n.draggables,a=n.destination,l=n.insideDestination,c=n.previousImpact,f=n.viewport,p=n.afterCritical,g=c.at;if(g||oe(),g.type==="REORDER"){var v=d2({isMovingForward:e,isInHomeList:t,location:g.destination,insideDestination:l});return v==null?null:Ld({draggable:r,insideDestination:l,destination:a,viewport:f,last:c.displaced,displacedBy:c.displacedBy,index:v})}var E=c2({isMovingForward:e,destination:a,displaced:c.displaced,draggables:s,combine:g.combine,afterCritical:p});return E==null?null:Ld({draggable:r,insideDestination:l,destination:a,viewport:f,last:c.displaced,displacedBy:c.displacedBy,index:E})},f2=function(n){var e=n.displaced,t=n.afterCritical,r=n.combineWith,s=n.displacedBy,a=!!(e.visible[r]||e.invisible[r]);return us(r,t)?a?Lt:Aa(s.point):a?s.point:Lt},p2=function(n){var e=n.afterCritical,t=n.impact,r=n.draggables,s=mh(t);s||oe();var a=s.draggableId,l=r[a].page.borderBox.center,c=f2({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return zt(l,c)},YT=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},m2=function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2},vg=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},sw=function(e){var t=e.axis,r=e.moveRelativeTo,s=e.isMoving;return Js(t.line,r.marginBox[t.end]+YT(t,s),vg(t,r.marginBox,s))},ow=function(e){var t=e.axis,r=e.moveRelativeTo,s=e.isMoving;return Js(t.line,r.marginBox[t.start]-m2(t,s),vg(t,r.marginBox,s))},g2=function(e){var t=e.axis,r=e.moveInto,s=e.isMoving;return Js(t.line,r.contentBox[t.start]+YT(t,s),vg(t,r.contentBox,s))},v2=function(n){var e=n.impact,t=n.draggable,r=n.draggables,s=n.droppable,a=n.afterCritical,l=Ra(s.descriptor.id,r),c=t.page,f=s.axis;if(!l.length)return g2({axis:f,moveInto:s.page,isMoving:c});var p=e.displaced,g=e.displacedBy,v=p.all[0];if(v){var E=r[v];if(us(v,a))return ow({axis:f,moveRelativeTo:E.page,isMoving:c});var I=xd(E.page,g.point);return ow({axis:f,moveRelativeTo:I,isMoving:c})}var T=l[l.length-1];if(T.descriptor.id===t.descriptor.id)return c.borderBox.center;if(us(T.descriptor.id,a)){var C=xd(T.page,Aa(a.displacedBy.point));return sw({axis:f,moveRelativeTo:C,isMoving:c})}return sw({axis:f,moveRelativeTo:T.page,isMoving:c})},sm=function(n,e){var t=n.frame;return t?zt(e,t.scroll.diff.displacement):e},y2=function(e){var t=e.impact,r=e.draggable,s=e.droppable,a=e.draggables,l=e.afterCritical,c=r.page.borderBox.center,f=t.at;return!s||!f?c:f.type==="REORDER"?v2({impact:t,draggable:r,draggables:a,droppable:s,afterCritical:l}):p2({impact:t,draggables:a,afterCritical:l})},vh=function(n){var e=y2(n),t=n.droppable,r=t?sm(t,e):e;return r},XT=function(n,e){var t=Pn(e,n.scroll.initial),r=Aa(t),s=pr({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),a={frame:s,scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:r}}};return a};function aw(n,e){return n.map(function(t){return e[t]})}function _2(n,e){for(var t=0;t<e.length;t++){var r=e[t].visible[n];if(r)return r}return null}var E2=function(n){var e=n.impact,t=n.viewport,r=n.destination,s=n.draggables,a=n.maxScrollChange,l=XT(t,zt(t.scroll.current,a)),c=r.frame?hg(r,zt(r.frame.scroll.current,a)):r,f=e.displaced,p=iu({afterDragging:aw(f.all,s),destination:r,displacedBy:e.displacedBy,viewport:l.frame,last:f,forceShouldAnimate:!1}),g=iu({afterDragging:aw(f.all,s),destination:c,displacedBy:e.displacedBy,viewport:t.frame,last:f,forceShouldAnimate:!1}),v={},E={},I=[f,p,g];f.all.forEach(function(C){var A=_2(C,I);if(A){E[C]=A;return}v[C]=!0});var T=Ie({},e,{displaced:{all:f.all,invisible:v,visible:E}});return T},w2=function(n,e){return zt(n.scroll.diff.displacement,e)},yg=function(n){var e=n.pageBorderBoxCenter,t=n.draggable,r=n.viewport,s=w2(r,e),a=Pn(s,t.page.borderBox.center);return zt(t.client.borderBox.center,a)},JT=function(n){var e=n.draggable,t=n.destination,r=n.newPageBorderBoxCenter,s=n.viewport,a=n.withDroppableDisplacement,l=n.onlyOnMainAxis,c=l===void 0?!1:l,f=Pn(r,e.page.borderBox.center),p=wu(e.page.borderBox,f),g={target:p,destination:t,withDroppableDisplacement:a,viewport:s};return c?o2(g):QT(g)},I2=function(n){var e=n.isMovingForward,t=n.draggable,r=n.destination,s=n.draggables,a=n.previousImpact,l=n.viewport,c=n.previousPageBorderBoxCenter,f=n.previousClientSelection,p=n.afterCritical;if(!r.isEnabled)return null;var g=Ra(r.descriptor.id,s),v=Pa(t,r),E=JO({isMovingForward:e,draggable:t,destination:r,insideDestination:g,previousImpact:a})||h2({isMovingForward:e,isInHomeList:v,draggable:t,draggables:s,destination:r,insideDestination:g,previousImpact:a,viewport:l,afterCritical:p});if(!E)return null;var I=vh({impact:E,draggable:t,droppable:r,draggables:s,afterCritical:p}),T=JT({draggable:t,destination:r,newPageBorderBoxCenter:I,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(T){var C=yg({pageBorderBoxCenter:I,draggable:t,viewport:l});return{clientSelection:C,impact:E,scrollJumpRequest:null}}var A=Pn(I,c),O=E2({impact:E,viewport:l,destination:r,draggables:s,maxScrollChange:A});return{clientSelection:f,impact:O,scrollJumpRequest:A}},rn=function(e){var t=e.subject.active;return t||oe(),t},T2=function(n){var e=n.isMovingForward,t=n.pageBorderBoxCenter,r=n.source,s=n.droppables,a=n.viewport,l=r.subject.active;if(!l)return null;var c=r.axis,f=Yn(l[c.start],l[c.end]),p=ph(s).filter(function(v){return v!==r}).filter(function(v){return v.isEnabled}).filter(function(v){return!!v.subject.active}).filter(function(v){return qT(a.frame)(rn(v))}).filter(function(v){var E=rn(v);return e?l[c.crossAxisEnd]<E[c.crossAxisEnd]:E[c.crossAxisStart]<l[c.crossAxisStart]}).filter(function(v){var E=rn(v),I=Yn(E[c.start],E[c.end]);return f(E[c.start])||f(E[c.end])||I(l[c.start])||I(l[c.end])}).sort(function(v,E){var I=rn(v)[c.crossAxisStart],T=rn(E)[c.crossAxisStart];return e?I-T:T-I}).filter(function(v,E,I){return rn(v)[c.crossAxisStart]===rn(I[0])[c.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var g=p.filter(function(v){var E=Yn(rn(v)[c.start],rn(v)[c.end]);return E(t[c.line])});return g.length===1?g[0]:g.length>1?g.sort(function(v,E){return rn(v)[c.start]-rn(E)[c.start]})[0]:p.sort(function(v,E){var I=nw(t,rw(rn(v))),T=nw(t,rw(rn(E)));return I!==T?I-T:rn(v)[c.start]-rn(E)[c.start]})[0]},lw=function(e,t){var r=e.page.borderBox.center;return us(e.descriptor.id,t)?Pn(r,t.displacedBy.point):r},S2=function(e,t){var r=e.page.borderBox;return us(e.descriptor.id,t)?wu(r,Aa(t.displacedBy.point)):r},C2=function(n){var e=n.pageBorderBoxCenter,t=n.viewport,r=n.destination,s=n.insideDestination,a=n.afterCritical,l=s.filter(function(c){return QT({target:S2(c,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(c,f){var p=nu(e,sm(r,lw(c,a))),g=nu(e,sm(r,lw(f,a)));return p<g?-1:g<p?1:c.descriptor.index-f.descriptor.index});return l[0]||null},Iu=Ot(function(e,t){var r=t[e.line];return{value:r,point:Js(e.line,r)}}),b2=function(e,t,r){var s=e.axis;if(e.descriptor.mode==="virtual")return Js(s.line,t[s.line]);var a=e.subject.page.contentBox[s.size],l=Ra(e.descriptor.id,r),c=l.reduce(function(g,v){return g+v.client.marginBox[s.size]},0),f=c+t[s.line],p=f-a;return p<=0?null:Js(s.line,p)},ZT=function(e,t){return Ie({},e,{scroll:Ie({},e.scroll,{max:t})})},eS=function(e,t,r){var s=e.frame;Pa(t,e)&&oe(),e.subject.withPlaceholder&&oe();var a=Iu(e.axis,t.displaceBy).point,l=b2(e,a,r),c={placeholderSize:a,increasedBy:l,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){var f=ga({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return Ie({},e,{subject:f})}var p=l?zt(s.scroll.max,l):s.scroll.max,g=ZT(s,p),v=ga({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:g});return Ie({},e,{subject:v,frame:g})},A2=function(e){var t=e.subject.withPlaceholder;t||oe();var r=e.frame;if(!r){var s=ga({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Ie({},e,{subject:s})}var a=t.oldFrameMaxScroll;a||oe();var l=ZT(r,a),c=ga({page:e.subject.page,axis:e.axis,frame:l,withPlaceholder:null});return Ie({},e,{subject:c,frame:l})},R2=function(n){var e=n.previousPageBorderBoxCenter,t=n.moveRelativeTo,r=n.insideDestination,s=n.draggable,a=n.draggables,l=n.destination,c=n.viewport,f=n.afterCritical;if(!t){if(r.length)return null;var p={displaced:ru,displacedBy:GT,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},g=vh({impact:p,draggable:s,droppable:l,draggables:a,afterCritical:f}),v=Pa(s,l)?l:eS(l,s,a),E=JT({draggable:s,destination:v,newPageBorderBoxCenter:g,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return E?p:null}var I=e[l.axis.line]<=t.page.borderBox.center[l.axis.line],T=function(){var A=t.descriptor.index;return t.descriptor.id===s.descriptor.id||I?A:A+1}(),C=Iu(l.axis,s.displaceBy);return Ld({draggable:s,insideDestination:r,destination:l,viewport:c,displacedBy:C,last:ru,index:T})},P2=function(n){var e=n.isMovingForward,t=n.previousPageBorderBoxCenter,r=n.draggable,s=n.isOver,a=n.draggables,l=n.droppables,c=n.viewport,f=n.afterCritical,p=T2({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:l,viewport:c});if(!p)return null;var g=Ra(p.descriptor.id,a),v=C2({pageBorderBoxCenter:t,viewport:c,destination:p,insideDestination:g,afterCritical:f}),E=R2({previousPageBorderBoxCenter:t,destination:p,draggable:r,draggables:a,moveRelativeTo:v,insideDestination:g,viewport:c,afterCritical:f});if(!E)return null;var I=vh({impact:E,draggable:r,droppable:p,draggables:a,afterCritical:f}),T=yg({pageBorderBoxCenter:I,draggable:r,viewport:c});return{clientSelection:T,impact:E,scrollJumpRequest:null}},xn=function(n){var e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},x2=function(e,t){var r=xn(e);return r?t[r]:null},D2=function(n){var e=n.state,t=n.type,r=x2(e.impact,e.dimensions.droppables),s=!!r,a=e.dimensions.droppables[e.critical.droppable.id],l=r||a,c=l.axis.direction,f=c==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||c==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(f&&!s)return null;var p=t==="MOVE_DOWN"||t==="MOVE_RIGHT",g=e.dimensions.draggables[e.critical.draggable.id],v=e.current.page.borderBoxCenter,E=e.dimensions,I=E.draggables,T=E.droppables;return f?I2({isMovingForward:p,previousPageBorderBoxCenter:v,draggable:g,destination:l,draggables:I,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):P2({isMovingForward:p,previousPageBorderBoxCenter:v,draggable:g,isOver:l,draggables:I,droppables:T,viewport:e.viewport,afterCritical:e.afterCritical})};function Ws(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function tS(n){var e=Yn(n.top,n.bottom),t=Yn(n.left,n.right);return function(s){return e(s.y)&&t(s.x)}}function k2(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function N2(n){var e=n.pageBorderBox,t=n.draggable,r=n.candidates,s=t.page.borderBox.center,a=r.map(function(l){var c=l.axis,f=Js(l.axis.line,e.center[c.line],l.page.borderBox.center[c.crossAxisLine]);return{id:l.descriptor.id,distance:nu(s,f)}}).sort(function(l,c){return c.distance-l.distance});return a[0]?a[0].id:null}function O2(n){var e=n.pageBorderBox,t=n.draggable,r=n.droppables,s=ph(r).filter(function(a){if(!a.isEnabled)return!1;var l=a.subject.active;if(!l||!k2(e,l))return!1;if(tS(l)(e.center))return!0;var c=a.axis,f=l.center[c.crossAxisLine],p=e[c.crossAxisStart],g=e[c.crossAxisEnd],v=Yn(l[c.crossAxisStart],l[c.crossAxisEnd]),E=v(p),I=v(g);return!E&&!I?!0:E?p<f:g>f});return s.length?s.length===1?s[0].descriptor.id:N2({pageBorderBox:e,draggable:t,candidates:s}):null}var nS=function(e,t){return pr(wu(e,t))},L2=function(n,e){var t=n.frame;return t?nS(e,t.scroll.diff.value):e};function rS(n){var e=n.displaced,t=n.id;return!!(e.visible[t]||e.invisible[t])}function M2(n){var e=n.draggable,t=n.closest,r=n.inHomeList;return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var V2=function(n){var e=n.pageBorderBoxWithDroppableScroll,t=n.draggable,r=n.destination,s=n.insideDestination,a=n.last,l=n.viewport,c=n.afterCritical,f=r.axis,p=Iu(r.axis,t.displaceBy),g=p.value,v=e[f.start],E=e[f.end],I=gh(t,s),T=ps(I,function(A){var O=A.descriptor.id,V=A.page.borderBox.center[f.line],B=us(O,c),H=rS({displaced:a,id:O});return B?H?E<=V:v<V-g:H?E<=V+g:v<V}),C=M2({draggable:t,closest:T,inHomeList:Pa(t,r)});return Ld({draggable:t,insideDestination:s,destination:r,viewport:l,last:a,displacedBy:p,index:C})},F2=4,U2=function(n){var e=n.draggable,t=n.pageBorderBoxWithDroppableScroll,r=n.previousImpact,s=n.destination,a=n.insideDestination,l=n.afterCritical;if(!s.isCombineEnabled)return null;var c=s.axis,f=Iu(s.axis,e.displaceBy),p=f.value,g=t[c.start],v=t[c.end],E=gh(e,a),I=ps(E,function(C){var A=C.descriptor.id,O=C.page.borderBox,V=O[c.size],B=V/F2,H=us(A,l),q=rS({displaced:r.displaced,id:A});return H?q?v>O[c.start]+B&&v<O[c.end]-B:g>O[c.start]-p+B&&g<O[c.end]-p-B:q?v>O[c.start]+p+B&&v<O[c.end]+p-B:g>O[c.start]+B&&g<O[c.end]-B});if(!I)return null;var T={displacedBy:f,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:I.descriptor.id,droppableId:s.descriptor.id}}};return T},iS=function(n){var e=n.pageOffset,t=n.draggable,r=n.draggables,s=n.droppables,a=n.previousImpact,l=n.viewport,c=n.afterCritical,f=nS(t.page.borderBox,e),p=O2({pageBorderBox:f,draggable:t,droppables:s});if(!p)return ZO;var g=s[p],v=Ra(g.descriptor.id,r),E=L2(g,f);return U2({pageBorderBoxWithDroppableScroll:E,draggable:t,previousImpact:a,destination:g,insideDestination:v,afterCritical:c})||V2({pageBorderBoxWithDroppableScroll:E,draggable:t,destination:g,insideDestination:v,last:a.displaced,viewport:l,afterCritical:c})},_g=function(n,e){var t;return Ie({},n,(t={},t[e.descriptor.id]=e,t))},B2=function(e){var t=e.previousImpact,r=e.impact,s=e.droppables,a=xn(t),l=xn(r);if(!a||a===l)return s;var c=s[a];if(!c.subject.withPlaceholder)return s;var f=A2(c);return _g(s,f)},j2=function(n){var e=n.draggable,t=n.draggables,r=n.droppables,s=n.previousImpact,a=n.impact,l=B2({previousImpact:s,impact:a,droppables:r}),c=xn(a);if(!c)return l;var f=r[c];if(Pa(e,f)||f.subject.withPlaceholder)return l;var p=eS(f,e,t);return _g(l,p)},Fl=function(n){var e=n.state,t=n.clientSelection,r=n.dimensions,s=n.viewport,a=n.impact,l=n.scrollJumpRequest,c=s||e.viewport,f=r||e.dimensions,p=t||e.current.client.selection,g=Pn(p,e.initial.client.selection),v={offset:g,selection:p,borderBoxCenter:zt(e.initial.client.borderBoxCenter,g)},E={selection:zt(v.selection,c.scroll.current),borderBoxCenter:zt(v.borderBoxCenter,c.scroll.current),offset:zt(v.offset,c.scroll.diff.value)},I={client:v,page:E};if(e.phase==="COLLECTING")return Ie({phase:"COLLECTING"},e,{dimensions:f,viewport:c,current:I});var T=f.draggables[e.critical.draggable.id],C=a||iS({pageOffset:E.offset,draggable:T,draggables:f.draggables,droppables:f.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),A=j2({draggable:T,impact:C,previousImpact:e.impact,draggables:f.draggables,droppables:f.droppables}),O=Ie({},e,{current:I,dimensions:{draggables:f.draggables,droppables:A},impact:C,viewport:c,scrollJumpRequest:l||null,forceShouldAnimate:l?!1:null});return O};function z2(n,e){return n.map(function(t){return e[t]})}var sS=function(n){var e=n.impact,t=n.viewport,r=n.draggables,s=n.destination,a=n.forceShouldAnimate,l=e.displaced,c=z2(l.all,r),f=iu({afterDragging:c,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:l});return Ie({},e,{displaced:f})},oS=function(n){var e=n.impact,t=n.draggable,r=n.droppable,s=n.draggables,a=n.viewport,l=n.afterCritical,c=vh({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:l});return yg({pageBorderBoxCenter:c,draggable:t,viewport:a})},aS=function(n){var e=n.state,t=n.dimensions,r=n.viewport;e.movementMode!=="SNAP"&&oe();var s=e.impact,a=r||e.viewport,l=t||e.dimensions,c=l.draggables,f=l.droppables,p=c[e.critical.draggable.id],g=xn(s);g||oe();var v=f[g],E=sS({impact:s,viewport:a,destination:v,draggables:c}),I=oS({impact:E,draggable:p,droppable:v,draggables:c,viewport:a,afterCritical:e.afterCritical});return Fl({impact:E,clientSelection:I,state:e,dimensions:l,viewport:a})},$2=function(n){return{index:n.index,droppableId:n.droppableId}},lS=function(n){var e=n.draggable,t=n.home,r=n.draggables,s=n.viewport,a=Iu(t.axis,e.displaceBy),l=Ra(t.descriptor.id,r),c=l.indexOf(e);c===-1&&oe();var f=l.slice(c+1),p=f.reduce(function(I,T){return I[T.descriptor.id]=!0,I},{}),g={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:p},v=iu({afterDragging:f,destination:t,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),E={displaced:v,displacedBy:a,at:{type:"REORDER",destination:$2(e.descriptor)}};return{impact:E,afterCritical:g}},W2=function(n,e){return{draggables:n.draggables,droppables:_g(n.droppables,e)}},H2=function(n){var e=n.draggable,t=n.offset,r=n.initialWindowScroll,s=xd(e.client,t),a=Dd(s,r),l=Ie({},e,{placeholder:Ie({},e.placeholder,{client:s}),client:s,page:a});return l},G2=function(n){var e=n.frame;return e||oe(),e},q2=function(n){var e=n.additions,t=n.updatedDroppables,r=n.viewport,s=r.scroll.diff.value;return e.map(function(a){var l=a.descriptor.droppableId,c=t[l],f=G2(c),p=f.scroll.diff.value,g=zt(s,p),v=H2({draggable:a,offset:g,initialWindowScroll:r.scroll.initial});return v})},K2=function(n){var e=n.state,t=n.published,r=t.modified.map(function(B){var H=e.dimensions.droppables[B.droppableId],q=hg(H,B.scroll);return q}),s=Ie({},e.dimensions.droppables,{},WT(r)),a=HT(q2({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),l=Ie({},e.dimensions.draggables,{},a);t.removals.forEach(function(B){delete l[B]});var c={droppables:s,draggables:l},f=xn(e.impact),p=f?c.droppables[f]:null,g=c.draggables[e.critical.draggable.id],v=c.droppables[e.critical.droppable.id],E=lS({draggable:g,home:v,draggables:l,viewport:e.viewport}),I=E.impact,T=E.afterCritical,C=p&&p.isCombineEnabled?e.impact:I,A=iS({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:C,viewport:e.viewport,afterCritical:T}),O=Ie({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:A,onLiftImpact:I,dimensions:c,afterCritical:T,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return O;var V=Ie({phase:"DROP_PENDING"},O,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return V},om=function(e){return e.movementMode==="SNAP"},yp=function(e,t,r){var s=W2(e.dimensions,t);return!om(e)||r?Fl({state:e,dimensions:s}):aS({state:e,dimensions:s})};function _p(n){return n.isDragging&&n.movementMode==="SNAP"?Ie({phase:"DRAGGING"},n,{scrollJumpRequest:null}):n}var uw={phase:"IDLE",completed:null,shouldFlush:!1},Q2=function(n,e){if(n===void 0&&(n=uw),e.type==="FLUSH")return Ie({},uw,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&oe();var t=e.payload,r=t.critical,s=t.clientSelection,a=t.viewport,l=t.dimensions,c=t.movementMode,f=l.draggables[r.draggable.id],p=l.droppables[r.droppable.id],g={selection:s,borderBoxCenter:f.client.borderBox.center,offset:Lt},v={client:g,page:{selection:zt(g.selection,a.scroll.initial),borderBoxCenter:zt(g.selection,a.scroll.initial),offset:zt(g.selection,a.scroll.diff.value)}},E=ph(l.droppables).every(function(vn){return!vn.isFixedOnPage}),I=lS({draggable:f,home:p,draggables:l.draggables,viewport:a}),T=I.impact,C=I.afterCritical,A={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:l,initial:v,current:v,isWindowScrollAllowed:E,impact:T,afterCritical:C,onLiftImpact:T,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return A}if(e.type==="COLLECTION_STARTING"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&oe();var O=Ie({phase:"COLLECTING"},n,{phase:"COLLECTING"});return O}if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||oe(),K2({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;Ws(n)||oe();var V=e.payload.client;return Zi(V,n.current.client.selection)?n:Fl({state:n,clientSelection:V,impact:om(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return _p(n);Ws(n)||oe();var B=e.payload,H=B.id,q=B.newScroll,J=n.dimensions.droppables[H];if(!J)return n;var k=hg(J,q);return yp(n,k,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;Ws(n)||oe();var P=e.payload,x=P.id,N=P.isEnabled,L=n.dimensions.droppables[x];L||oe(),L.isEnabled===N&&oe();var j=Ie({},L,{isEnabled:N});return yp(n,j,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;Ws(n)||oe();var R=e.payload,Ce=R.id,Ke=R.isCombineEnabled,Qe=n.dimensions.droppables[Ce];Qe||oe(),Qe.isCombineEnabled===Ke&&oe();var Fe=Ie({},Qe,{isCombineEnabled:Ke});return yp(n,Fe,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;Ws(n)||oe(),n.isWindowScrollAllowed||oe();var se=e.payload.newScroll;if(Zi(n.viewport.scroll.current,se))return _p(n);var ge=XT(n.viewport,se);return om(n)?aS({state:n,viewport:ge}):Fl({state:n,viewport:ge})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ws(n))return n;var le=e.payload.maxScroll;if(Zi(le,n.viewport.scroll.max))return n;var z=Ie({},n.viewport,{scroll:Ie({},n.viewport.scroll,{max:le})});return Ie({phase:"DRAGGING"},n,{viewport:z})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&oe();var X=D2({state:n,type:e.type});return X?Fl({state:n,impact:X.impact,clientSelection:X.clientSelection,scrollJumpRequest:X.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){var pe=e.payload.reason;n.phase!=="COLLECTING"&&oe();var Pe=Ie({phase:"DROP_PENDING"},n,{phase:"DROP_PENDING",isWaiting:!0,reason:pe});return Pe}if(e.type==="DROP_ANIMATE"){var be=e.payload,De=be.completed,Oe=be.dropDuration,Le=be.newHomeClientOffset;n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||oe();var He={phase:"DROP_ANIMATING",completed:De,dropDuration:Oe,newHomeClientOffset:Le,dimensions:n.dimensions};return He}if(e.type==="DROP_COMPLETE"){var rt=e.payload.completed;return{phase:"IDLE",completed:rt,shouldFlush:!1}}return n},Y2=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},X2=function(e){return{type:"LIFT",payload:e}},J2=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Z2=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},eL=function(){return{type:"COLLECTION_STARTING",payload:null}},tL=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},nL=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},rL=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},uS=function(e){return{type:"MOVE",payload:e}},iL=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},sL=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},oL=function(){return{type:"MOVE_UP",payload:null}},aL=function(){return{type:"MOVE_DOWN",payload:null}},lL=function(){return{type:"MOVE_RIGHT",payload:null}},uL=function(){return{type:"MOVE_LEFT",payload:null}},Eg=function(){return{type:"FLUSH",payload:null}},cL=function(e){return{type:"DROP_ANIMATE",payload:e}},wg=function(e){return{type:"DROP_COMPLETE",payload:e}},cS=function(e){return{type:"DROP",payload:e}},dL=function(e){return{type:"DROP_PENDING",payload:e}},dS=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},hL=function(n){return function(e){var t=e.getState,r=e.dispatch;return function(s){return function(a){if(a.type!=="LIFT"){s(a);return}var l=a.payload,c=l.id,f=l.clientSelection,p=l.movementMode,g=t();g.phase==="DROP_ANIMATING"&&r(wg({completed:g.completed})),t().phase!=="IDLE"&&oe(),r(Eg()),r(Y2({draggableId:c,movementMode:p}));var v={shouldPublishImmediately:p==="SNAP"},E={draggableId:c,scrollOptions:v},I=n.startPublishing(E),T=I.critical,C=I.dimensions,A=I.viewport;r(J2({critical:T,dimensions:C,clientSelection:f,movementMode:p,viewport:A}))}}}},fL=function(n){return function(){return function(e){return function(t){t.type==="INITIAL_PUBLISH"&&n.dragging(),t.type==="DROP_ANIMATE"&&n.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&n.resting(),e(t)}}}},Ig={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},su={opacity:{drop:0,combining:.7},scale:{drop:.75}},Tg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zs=Tg.outOfTheWay+"s "+Ig.outOfTheWay,Ul={fluid:"opacity "+zs,snap:"transform "+zs+", opacity "+zs,drop:function(e){var t=e+"s "+Ig.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+zs,placeholder:"height "+zs+", width "+zs+", margin "+zs},cw=function(e){return Zi(e,Lt)?null:"translate("+e.x+"px, "+e.y+"px)"},am={moveTo:cw,drop:function(e,t){var r=cw(e);return r?t?r+" scale("+su.scale.drop+")":r:null}},lm=Tg.minDropTime,hS=Tg.maxDropTime,pL=hS-lm,dw=1500,mL=.6,gL=function(n){var e=n.current,t=n.destination,r=n.reason,s=nu(e,t);if(s<=0)return lm;if(s>=dw)return hS;var a=s/dw,l=lm+pL*a,c=r==="CANCEL"?l*mL:l;return Number(c.toFixed(2))},vL=function(n){var e=n.impact,t=n.draggable,r=n.dimensions,s=n.viewport,a=n.afterCritical,l=r.draggables,c=r.droppables,f=xn(e),p=f?c[f]:null,g=c[t.descriptor.droppableId],v=oS({impact:e,draggable:t,draggables:l,afterCritical:a,droppable:p||g,viewport:s}),E=Pn(v,t.client.borderBox.center);return E},yL=function(n){var e=n.draggables,t=n.reason,r=n.lastImpact,s=n.home,a=n.viewport,l=n.onLiftImpact;if(!r.at||t!=="DROP"){var c=sS({draggables:e,impact:l,destination:s,viewport:a,forceShouldAnimate:!0});return{impact:c,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var f=Ie({},r,{displaced:ru});return{impact:f,didDropInsideDroppable:!0}},_L=function(n){var e=n.getState,t=n.dispatch;return function(r){return function(s){if(s.type!=="DROP"){r(s);return}var a=e(),l=s.payload.reason;if(a.phase==="COLLECTING"){t(dL({reason:l}));return}if(a.phase!=="IDLE"){var c=a.phase==="DROP_PENDING"&&a.isWaiting;c&&oe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||oe();var f=a.critical,p=a.dimensions,g=p.draggables[a.critical.draggable.id],v=yL({reason:l,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),E=v.impact,I=v.didDropInsideDroppable,T=I?pg(E):null,C=I?mh(E):null,A={index:f.draggable.index,droppableId:f.droppable.id},O={draggableId:g.descriptor.id,type:g.descriptor.type,source:A,reason:l,mode:a.movementMode,destination:T,combine:C},V=vL({impact:E,draggable:g,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),B={critical:a.critical,afterCritical:a.afterCritical,result:O,impact:E},H=!Zi(a.current.client.offset,V)||!!O.combine;if(!H){t(wg({completed:B}));return}var q=gL({current:a.current.client.offset,destination:V,reason:l}),J={newHomeClientOffset:V,dropDuration:q,completed:B};t(cL(J))}}}},fS=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function EL(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||n()}}}function wL(n){var e=n.onWindowScroll;function t(){e(fS())}var r=tu(t),s=EL(r),a=Ji;function l(){return a!==Ji}function c(){l()&&oe(),a=qn(window,[s])}function f(){l()||oe(),r.cancel(),a(),a=Ji}return{start:c,stop:f,isActive:l}}var IL=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},TL=function(n){var e=wL({onWindowScroll:function(r){n.dispatch(iL({newScroll:r}))}});return function(t){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&IL(r)&&e.stop(),t(r)}}},SL=function(n){var e=!1,t=!1,r=setTimeout(function(){t=!0}),s=function(l){e||t||(e=!0,n(l),clearTimeout(r))};return s.wasCalled=function(){return e},s},CL=function(){var n=[],e=function(a){var l=fg(n,function(p){return p.timerId===a});l===-1&&oe();var c=n.splice(l,1),f=c[0];f.callback()},t=function(a){var l=setTimeout(function(){return e(l)}),c={timerId:l,callback:a};n.push(c)},r=function(){if(n.length){var a=[].concat(n);n.length=0,a.forEach(function(l){clearTimeout(l.timerId),l.callback()})}};return{add:t,flush:r}},bL=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index},AL=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId},RL=function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&s},Tl=function(e,t){t()},Hc=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ep=function(e,t,r,s){if(!e){r(s(t));return}var a=SL(r),l={announce:a};e(t,l),a.wasCalled()||r(s(t))},PL=function(n,e){var t=CL(),r=null,s=function(E,I){r&&oe(),Tl("onBeforeCapture",function(){var T=n().onBeforeCapture;if(T){var C={draggableId:E,mode:I};T(C)}})},a=function(E,I){r&&oe(),Tl("onBeforeDragStart",function(){var T=n().onBeforeDragStart;T&&T(Hc(E,I))})},l=function(E,I){r&&oe();var T=Hc(E,I);r={mode:I,lastCritical:E,lastLocation:T.source,lastCombine:null},t.add(function(){Tl("onDragStart",function(){return Ep(n().onDragStart,T,e,sd.onDragStart)})})},c=function(E,I){var T=pg(I),C=mh(I);r||oe();var A=!RL(E,r.lastCritical);A&&(r.lastCritical=E);var O=!bL(r.lastLocation,T);O&&(r.lastLocation=T);var V=!AL(r.lastCombine,C);if(V&&(r.lastCombine=C),!(!A&&!O&&!V)){var B=Ie({},Hc(E,r.mode),{combine:C,destination:T});t.add(function(){Tl("onDragUpdate",function(){return Ep(n().onDragUpdate,B,e,sd.onDragUpdate)})})}},f=function(){r||oe(),t.flush()},p=function(E){r||oe(),r=null,Tl("onDragEnd",function(){return Ep(n().onDragEnd,E,e,sd.onDragEnd)})},g=function(){if(r){var E=Ie({},Hc(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});p(E)}};return{beforeCapture:s,beforeStart:a,start:l,update:c,flush:f,drop:p,abort:g}},xL=function(n,e){var t=PL(n,e);return function(r){return function(s){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var l=a.payload.critical;t.beforeStart(l,a.payload.movementMode),s(a),t.start(l,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var c=a.payload.completed.result;t.flush(),s(a),t.drop(c);return}if(s(a),a.type==="FLUSH"){t.abort();return}var f=r.getState();f.phase==="DRAGGING"&&t.update(f.critical,f.impact)}}}},DL=function(n){return function(e){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){e(t);return}var r=n.getState();r.phase!=="DROP_ANIMATING"&&oe(),n.dispatch(wg({completed:r.completed}))}}},kL=function(n){var e=null,t=null;function r(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return function(s){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&r(),s(a),a.type==="DROP_ANIMATE"){var l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var f=n.getState();f.phase==="DROP_ANIMATING"&&n.dispatch(dS())}};t=requestAnimationFrame(function(){t=null,e=qn(window,[l])})}}}},NL=function(n){return function(){return function(e){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&n.stopPublishing(),e(t)}}}},OL=function(n){var e=!1;return function(){return function(t){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,n.tryRecordFocus(r.payload.critical.draggable.id),t(r),n.tryRestoreFocusRecorded();return}if(t(r),!!e){if(r.type==="FLUSH"){e=!1,n.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var s=r.payload.completed.result;s.combine&&n.tryShiftRecord(s.draggableId,s.combine.draggableId),n.tryRestoreFocusRecorded()}}}}}},LL=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},ML=function(n){return function(e){return function(t){return function(r){if(LL(r)){n.stop(),t(r);return}if(r.type==="INITIAL_PUBLISH"){t(r);var s=e.getState();s.phase!=="DRAGGING"&&oe(),n.start(s);return}t(r),n.scroll(e.getState())}}}},VL=function(n){return function(e){return function(t){if(e(t),t.type==="PUBLISH_WHILE_DRAGGING"){var r=n.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||n.dispatch(cS({reason:r.reason})))}}}},FL=PT,UL=function(n){var e=n.dimensionMarshal,t=n.focusMarshal,r=n.styleMarshal,s=n.getResponders,a=n.announce,l=n.autoScroller;return RT(Q2,FL($N(fL(r),NL(e),hL(e),_L,DL,kL,VL,ML(l),TL,OL(t),xL(s,a))))},wp=function(){return{additions:{},removals:{},modified:{}}};function BL(n){var e=n.registry,t=n.callbacks,r=wp(),s=null,a=function(){s||(t.collectionStarting(),s=requestAnimationFrame(function(){s=null;var g=r,v=g.additions,E=g.removals,I=g.modified,T=Object.keys(v).map(function(O){return e.draggable.getById(O).getDimension(Lt)}).sort(function(O,V){return O.descriptor.index-V.descriptor.index}),C=Object.keys(I).map(function(O){var V=e.droppable.getById(O),B=V.callbacks.getScrollWhileDragging();return{droppableId:O,scroll:B}}),A={additions:T,removals:Object.keys(E),modified:C};r=wp(),t.publish(A)}))},l=function(g){var v=g.descriptor.id;r.additions[v]=g,r.modified[g.descriptor.droppableId]=!0,r.removals[v]&&delete r.removals[v],a()},c=function(g){var v=g.descriptor;r.removals[v.id]=!0,r.modified[v.droppableId]=!0,r.additions[v.id]&&delete r.additions[v.id],a()},f=function(){s&&(cancelAnimationFrame(s),s=null,r=wp())};return{add:l,remove:c,stop:f}}var pS=function(n){var e=n.scrollHeight,t=n.scrollWidth,r=n.height,s=n.width,a=Pn({x:t,y:e},{x:s,y:r}),l={x:Math.max(0,a.x),y:Math.max(0,a.y)};return l},mS=function(){var n=document.documentElement;return n||oe(),n},gS=function(){var n=mS(),e=pS({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight});return e},jL=function(){var n=fS(),e=gS(),t=n.y,r=n.x,s=mS(),a=s.clientWidth,l=s.clientHeight,c=r+a,f=t+l,p=pr({top:t,left:r,right:c,bottom:f}),g={frame:p,scroll:{initial:n,current:n,max:e,diff:{value:Lt,displacement:Lt}}};return g},zL=function(n){var e=n.critical,t=n.scrollOptions,r=n.registry,s=jL(),a=s.scroll.current,l=e.droppable,c=r.droppable.getAllByType(l.type).map(function(v){return v.callbacks.getDimensionAndWatchScroll(a,t)}),f=r.draggable.getAllByType(e.draggable.type).map(function(v){return v.getDimension(a)}),p={draggables:HT(f),droppables:WT(c)},g={dimensions:p,critical:e,viewport:s};return g};function hw(n,e,t){if(t.descriptor.id===e.id||t.descriptor.type!==e.type)return!1;var r=n.droppable.getById(t.descriptor.droppableId);return r.descriptor.mode==="virtual"}var $L=function(n,e){var t=null,r=BL({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),s=function(I,T){n.droppable.exists(I)||oe(),t&&e.updateDroppableIsEnabled({id:I,isEnabled:T})},a=function(I,T){t&&(n.droppable.exists(I)||oe(),e.updateDroppableIsCombineEnabled({id:I,isCombineEnabled:T}))},l=function(I,T){t&&(n.droppable.exists(I)||oe(),e.updateDroppableScroll({id:I,newScroll:T}))},c=function(I,T){t&&n.droppable.getById(I).callbacks.scroll(T)},f=function(){if(t){r.stop();var I=t.critical.droppable;n.droppable.getAllByType(I.type).forEach(function(T){return T.callbacks.dragStopped()}),t.unsubscribe(),t=null}},p=function(I){t||oe();var T=t.critical.draggable;I.type==="ADDITION"&&hw(n,T,I.value)&&r.add(I.value),I.type==="REMOVAL"&&hw(n,T,I.value)&&r.remove(I.value)},g=function(I){t&&oe();var T=n.draggable.getById(I.draggableId),C=n.droppable.getById(T.descriptor.droppableId),A={draggable:T.descriptor,droppable:C.descriptor},O=n.subscribe(p);return t={critical:A,unsubscribe:O},zL({critical:A,registry:n,scrollOptions:I.scrollOptions})},v={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:l,startPublishing:g,stopPublishing:f};return v},vS=function(n,e){return n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP"},WL=function(n){window.scrollBy(n.x,n.y)},HL=Ot(function(n){return ph(n).filter(function(e){return!(!e.isEnabled||!e.frame)})}),GL=function(e,t){var r=ps(HL(t),function(s){return s.frame||oe(),tS(s.frame.pageMarginBox)(e)});return r},qL=function(n){var e=n.center,t=n.destination,r=n.droppables;if(t){var s=r[t];return s.frame?s:null}var a=GL(e,r);return a},es={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},KL=function(n,e){var t=n[e.size]*es.startFromPercentage,r=n[e.size]*es.maxScrollAtPercentage,s={startScrollingFrom:t,maxScrollValueAt:r};return s},yS=function(n){var e=n.startOfRange,t=n.endOfRange,r=n.current,s=t-e;if(s===0)return 0;var a=r-e,l=a/s;return l},Sg=1,QL=function(n,e){if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return es.maxPixelScroll;if(n===e.startScrollingFrom)return Sg;var t=yS({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),r=1-t,s=es.maxPixelScroll*es.ease(r);return Math.ceil(s)},fw=es.durationDampening.accelerateAt,pw=es.durationDampening.stopDampeningAt,YL=function(n,e){var t=e,r=pw,s=Date.now(),a=s-t;if(a>=pw)return n;if(a<fw)return Sg;var l=yS({startOfRange:fw,endOfRange:r,current:a}),c=n*es.ease(l);return Math.ceil(c)},mw=function(n){var e=n.distanceToEdge,t=n.thresholds,r=n.dragStartTime,s=n.shouldUseTimeDampening,a=QL(e,t);return a===0?0:s?Math.max(YL(a,r),Sg):a},gw=function(n){var e=n.container,t=n.distanceToEdges,r=n.dragStartTime,s=n.axis,a=n.shouldUseTimeDampening,l=KL(e,s),c=t[s.end]<t[s.start];return c?mw({distanceToEdge:t[s.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:a}):-1*mw({distanceToEdge:t[s.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:a})},XL=function(n){var e=n.container,t=n.subject,r=n.proposedScroll,s=t.height>e.height,a=t.width>e.width;return!a&&!s?r:a&&s?null:{x:a?0:r.x,y:s?0:r.y}},JL=zT(function(n){return n===0?0:n}),_S=function(n){var e=n.dragStartTime,t=n.container,r=n.subject,s=n.center,a=n.shouldUseTimeDampening,l={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},c=gw({container:t,distanceToEdges:l,dragStartTime:e,axis:mg,shouldUseTimeDampening:a}),f=gw({container:t,distanceToEdges:l,dragStartTime:e,axis:KT,shouldUseTimeDampening:a}),p=JL({x:f,y:c});if(Zi(p,Lt))return null;var g=XL({container:t,subject:r,proposedScroll:p});return g?Zi(g,Lt)?null:g:null},ZL=zT(function(n){return n===0?0:n>0?1:-1}),Cg=function(){var n=function(t,r){return t<0?t:t>r?t-r:0};return function(e){var t=e.current,r=e.max,s=e.change,a=zt(t,s),l={x:n(a.x,r.x),y:n(a.y,r.y)};return Zi(l,Lt)?null:l}}(),ES=function(e){var t=e.max,r=e.current,s=e.change,a={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},l=ZL(s),c=Cg({max:a,current:r,change:l});return!c||l.x!==0&&c.x===0||l.y!==0&&c.y===0},bg=function(e,t){return ES({current:e.scroll.current,max:e.scroll.max,change:t})},eM=function(e,t){if(!bg(e,t))return null;var r=e.scroll.max,s=e.scroll.current;return Cg({current:s,max:r,change:t})},Ag=function(e,t){var r=e.frame;return r?ES({current:r.scroll.current,max:r.scroll.max,change:t}):!1},tM=function(e,t){var r=e.frame;return!r||!Ag(e,t)?null:Cg({current:r.scroll.current,max:r.scroll.max,change:t})},nM=function(n){var e=n.viewport,t=n.subject,r=n.center,s=n.dragStartTime,a=n.shouldUseTimeDampening,l=_S({dragStartTime:s,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a});return l&&bg(e,l)?l:null},rM=function(n){var e=n.droppable,t=n.subject,r=n.center,s=n.dragStartTime,a=n.shouldUseTimeDampening,l=e.frame;if(!l)return null;var c=_S({dragStartTime:s,container:l.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a});return c&&Ag(e,c)?c:null},vw=function(n){var e=n.state,t=n.dragStartTime,r=n.shouldUseTimeDampening,s=n.scrollWindow,a=n.scrollDroppable,l=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id],f=c.page.marginBox;if(e.isWindowScrollAllowed){var p=e.viewport,g=nM({dragStartTime:t,viewport:p,subject:f,center:l,shouldUseTimeDampening:r});if(g){s(g);return}}var v=qL({center:l,destination:xn(e.impact),droppables:e.dimensions.droppables});if(v){var E=rM({dragStartTime:t,droppable:v,subject:f,center:l,shouldUseTimeDampening:r});E&&a(v.descriptor.id,E)}},iM=function(n){var e=n.scrollWindow,t=n.scrollDroppable,r=tu(e),s=tu(t),a=null,l=function(g){a||oe();var v=a,E=v.shouldUseTimeDampening,I=v.dragStartTime;vw({state:g,scrollWindow:r,scrollDroppable:s,dragStartTime:I,shouldUseTimeDampening:E})},c=function(g){a&&oe();var v=Date.now(),E=!1,I=function(){E=!0};vw({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:I,scrollDroppable:I}),a={dragStartTime:v,shouldUseTimeDampening:E},E&&l(g)},f=function(){a&&(r.cancel(),s.cancel(),a=null)};return{start:c,stop:f,scroll:l}},sM=function(n){var e=n.move,t=n.scrollDroppable,r=n.scrollWindow,s=function(p,g){var v=zt(p.current.client.selection,g);e({client:v})},a=function(p,g){if(!Ag(p,g))return g;var v=tM(p,g);if(!v)return t(p.descriptor.id,g),null;var E=Pn(g,v);t(p.descriptor.id,E);var I=Pn(g,E);return I},l=function(p,g,v){if(!p||!bg(g,v))return v;var E=eM(g,v);if(!E)return r(v),null;var I=Pn(v,E);r(I);var T=Pn(v,I);return T},c=function(p){var g=p.scrollJumpRequest;if(g){var v=xn(p.impact);v||oe();var E=a(p.dimensions.droppables[v],g);if(E){var I=p.viewport,T=l(p.isWindowScrollAllowed,I,E);T&&s(p,T)}}};return c},oM=function(n){var e=n.scrollDroppable,t=n.scrollWindow,r=n.move,s=iM({scrollWindow:t,scrollDroppable:e}),a=sM({move:r,scrollWindow:t,scrollDroppable:e}),l=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){s.scroll(p);return}p.scrollJumpRequest&&a(p)}},c={scroll:l,start:s.start,stop:s.stop};return c},va="data-rbd",ya=function(){var n=va+"-drag-handle";return{base:n,draggableId:n+"-draggable-id",contextId:n+"-context-id"}}(),um=function(){var n=va+"-draggable";return{base:n,contextId:n+"-context-id",id:n+"-id"}}(),aM=function(){var n=va+"-droppable";return{base:n,contextId:n+"-context-id",id:n+"-id"}}(),yw={contextId:va+"-scroll-container-context-id"},lM=function(e){return function(t){return"["+t+'="'+e+'"]'}},Sl=function(e,t){return e.map(function(r){var s=r.styles[t];return s?r.selector+" { "+s+" }":""}).join(" ")},uM="pointer-events: none;",cM=function(n){var e=lM(n),t=function(){var c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(ya.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:uM,dropAnimating:c}}}(),r=function(){var c=`
      transition: `+Ul.outOfTheWay+`;
    `;return{selector:e(um.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}}(),s={selector:e(aM.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},l=[r,t,s,a];return{always:Sl(l,"always"),resting:Sl(l,"resting"),dragging:Sl(l,"dragging"),dropAnimating:Sl(l,"dropAnimating"),userCancel:Sl(l,"userCancel")}},Dn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect,Ip=function(){var e=document.querySelector("head");return e||oe(),e},_w=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function dM(n,e){var t=$e(function(){return cM(n)},[n]),r=$.useRef(null),s=$.useRef(null),a=ye(Ot(function(v){var E=s.current;E||oe(),E.textContent=v}),[]),l=ye(function(v){var E=r.current;E||oe(),E.textContent=v},[]);Dn(function(){!r.current&&!s.current||oe();var v=_w(e),E=_w(e);return r.current=v,s.current=E,v.setAttribute(va+"-always",n),E.setAttribute(va+"-dynamic",n),Ip().appendChild(v),Ip().appendChild(E),l(t.always),a(t.resting),function(){var I=function(C){var A=C.current;A||oe(),Ip().removeChild(A),C.current=null};I(r),I(s)}},[e,l,a,t.always,t.resting,n]);var c=ye(function(){return a(t.dragging)},[a,t.dragging]),f=ye(function(v){if(v==="DROP"){a(t.dropAnimating);return}a(t.userCancel)},[a,t.dropAnimating,t.userCancel]),p=ye(function(){s.current&&a(t.resting)},[a,t.resting]),g=$e(function(){return{dragging:c,dropping:f,resting:p}},[c,f,p]);return g}var wS=function(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:window};function yh(n){return n instanceof wS(n).HTMLElement}function hM(n,e){var t="["+ya.contextId+'="'+n+'"]',r=$T(document.querySelectorAll(t));if(!r.length)return null;var s=ps(r,function(a){return a.getAttribute(ya.draggableId)===e});return!s||!yh(s)?null:s}function fM(n){var e=$.useRef({}),t=$.useRef(null),r=$.useRef(null),s=$.useRef(!1),a=ye(function(E,I){var T={id:E,focus:I};return e.current[E]=T,function(){var A=e.current,O=A[E];O!==T&&delete A[E]}},[]),l=ye(function(E){var I=hM(n,E);I&&I!==document.activeElement&&I.focus()},[n]),c=ye(function(E,I){t.current===E&&(t.current=I)},[]),f=ye(function(){r.current||s.current&&(r.current=requestAnimationFrame(function(){r.current=null;var E=t.current;E&&l(E)}))},[l]),p=ye(function(E){t.current=null;var I=document.activeElement;I&&I.getAttribute(ya.draggableId)===E&&(t.current=E)},[]);Dn(function(){return s.current=!0,function(){s.current=!1;var E=r.current;E&&cancelAnimationFrame(E)}},[]);var g=$e(function(){return{register:a,tryRecordFocus:p,tryRestoreFocusRecorded:f,tryShiftRecord:c}},[a,p,f,c]);return g}function pM(){var n={draggables:{},droppables:{}},e=[];function t(v){return e.push(v),function(){var I=e.indexOf(v);I!==-1&&e.splice(I,1)}}function r(v){e.length&&e.forEach(function(E){return E(v)})}function s(v){return n.draggables[v]||null}function a(v){var E=s(v);return E||oe(),E}var l={register:function(E){n.draggables[E.descriptor.id]=E,r({type:"ADDITION",value:E})},update:function(E,I){var T=n.draggables[I.descriptor.id];T&&T.uniqueId===E.uniqueId&&(delete n.draggables[I.descriptor.id],n.draggables[E.descriptor.id]=E)},unregister:function(E){var I=E.descriptor.id,T=s(I);T&&E.uniqueId===T.uniqueId&&(delete n.draggables[I],r({type:"REMOVAL",value:E}))},getById:a,findById:s,exists:function(E){return!!s(E)},getAllByType:function(E){return Od(n.draggables).filter(function(I){return I.descriptor.type===E})}};function c(v){return n.droppables[v]||null}function f(v){var E=c(v);return E||oe(),E}var p={register:function(E){n.droppables[E.descriptor.id]=E},unregister:function(E){var I=c(E.descriptor.id);I&&E.uniqueId===I.uniqueId&&delete n.droppables[E.descriptor.id]},getById:f,findById:c,exists:function(E){return!!c(E)},getAllByType:function(E){return Od(n.droppables).filter(function(I){return I.descriptor.type===E})}};function g(){n.draggables={},n.droppables={},e.length=0}return{draggable:l,droppable:p,subscribe:t,clean:g}}function mM(){var n=$e(pM,[]);return $.useEffect(function(){return function(){requestAnimationFrame(n.clean)}},[n]),n}var Rg=tt.createContext(null),Md=function(){var n=document.body;return n||oe(),n},gM={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},vM=function(e){return"rbd-announcement-"+e};function yM(n){var e=$e(function(){return vM(n)},[n]),t=$.useRef(null);$.useEffect(function(){var a=document.createElement("div");return t.current=a,a.id=e,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ie(a.style,gM),Md().appendChild(a),function(){setTimeout(function(){var f=Md();f.contains(a)&&f.removeChild(a),a===t.current&&(t.current=null)})}},[e]);var r=ye(function(s){var a=t.current;if(a){a.textContent=s;return}},[]);return r}var _M=0,EM={separator:"::"};function Pg(n,e){return e===void 0&&(e=EM),$e(function(){return""+n+e.separator+_M++},[e.separator,n])}function wM(n){var e=n.contextId,t=n.uniqueId;return"rbd-hidden-text-"+e+"-"+t}function IM(n){var e=n.contextId,t=n.text,r=Pg("hidden-text",{separator:"-"}),s=$e(function(){return wM({contextId:e,uniqueId:r})},[r,e]);return $.useEffect(function(){var l=document.createElement("div");return l.id=s,l.textContent=t,l.style.display="none",Md().appendChild(l),function(){var f=Md();f.contains(l)&&f.removeChild(l)}},[s,t]),s}var _h=tt.createContext(null);function IS(n){var e=$.useRef(n);return $.useEffect(function(){e.current=n}),e}function TM(){var n=null;function e(){return!!n}function t(l){return l===n}function r(l){n&&oe();var c={abandon:l};return n=c,c}function s(){n||oe(),n=null}function a(){n&&(n.abandon(),s())}return{isClaimed:e,isActive:t,claim:r,release:s,tryAbandon:a}}var SM=9,CM=13,xg=27,TS=32,bM=33,AM=34,RM=35,PM=36,xM=37,DM=38,kM=39,NM=40,Gc,OM=(Gc={},Gc[CM]=!0,Gc[SM]=!0,Gc),SS=function(n){OM[n.keyCode]&&n.preventDefault()},Eh=function(){var n="visibilitychange";if(typeof document>"u")return n;var e=[n,"ms"+n,"webkit"+n,"moz"+n,"o"+n],t=ps(e,function(r){return"on"+r in document});return t||n}(),CS=0,Ew=5;function LM(n,e){return Math.abs(e.x-n.x)>=Ew||Math.abs(e.y-n.y)>=Ew}var ww={type:"IDLE"};function MM(n){var e=n.cancel,t=n.completed,r=n.getPhase,s=n.setPhase;return[{eventName:"mousemove",fn:function(l){var c=l.button,f=l.clientX,p=l.clientY;if(c===CS){var g={x:f,y:p},v=r();if(v.type==="DRAGGING"){l.preventDefault(),v.actions.move(g);return}v.type!=="PENDING"&&oe();var E=v.point;if(LM(E,g)){l.preventDefault();var I=v.actions.fluidLift(g);s({type:"DRAGGING",actions:I})}}}},{eventName:"mouseup",fn:function(l){var c=r();if(c.type!=="DRAGGING"){e();return}l.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(l){r().type==="DRAGGING"&&l.preventDefault(),e()}},{eventName:"keydown",fn:function(l){var c=r();if(c.type==="PENDING"){e();return}if(l.keyCode===xg){l.preventDefault(),e();return}SS(l)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(l){var c=r();if(c.type==="IDLE"&&oe(),c.actions.shouldRespectForcePress()){e();return}l.preventDefault()}},{eventName:Eh,fn:e}]}function VM(n){var e=$.useRef(ww),t=$.useRef(Ji),r=$e(function(){return{eventName:"mousedown",fn:function(v){if(!v.defaultPrevented&&v.button===CS&&!(v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)){var E=n.findClosestDraggableId(v);if(E){var I=n.tryGetLock(E,l,{sourceEvent:v});if(I){v.preventDefault();var T={x:v.clientX,y:v.clientY};t.current(),p(I,T)}}}}}},[n]),s=$e(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(v){if(!v.defaultPrevented){var E=n.findClosestDraggableId(v);if(E){var I=n.findOptionsForDraggable(E);I&&(I.shouldRespectForcePress||n.canGetLock(E)&&v.preventDefault())}}}}},[n]),a=ye(function(){var v={passive:!1,capture:!0};t.current=qn(window,[s,r],v)},[s,r]),l=ye(function(){var g=e.current;g.type!=="IDLE"&&(e.current=ww,t.current(),a())},[a]),c=ye(function(){var g=e.current;l(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[l]),f=ye(function(){var v={capture:!0,passive:!1},E=MM({cancel:c,completed:l,getPhase:function(){return e.current},setPhase:function(T){e.current=T}});t.current=qn(window,E,v)},[c,l]),p=ye(function(v,E){e.current.type!=="IDLE"&&oe(),e.current={type:"PENDING",point:E,actions:v},f()},[f]);Dn(function(){return a(),function(){t.current()}},[a])}var Yo;function FM(){}var UM=(Yo={},Yo[AM]=!0,Yo[bM]=!0,Yo[PM]=!0,Yo[RM]=!0,Yo);function BM(n,e){function t(){e(),n.cancel()}function r(){e(),n.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===xg){a.preventDefault(),t();return}if(a.keyCode===TS){a.preventDefault(),r();return}if(a.keyCode===NM){a.preventDefault(),n.moveDown();return}if(a.keyCode===DM){a.preventDefault(),n.moveUp();return}if(a.keyCode===kM){a.preventDefault(),n.moveRight();return}if(a.keyCode===xM){a.preventDefault(),n.moveLeft();return}if(UM[a.keyCode]){a.preventDefault();return}SS(a)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:Eh,fn:t}]}function jM(n){var e=$.useRef(FM),t=$e(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==TS)return;var l=n.findClosestDraggableId(a);if(!l)return;var c=n.tryGetLock(l,g,{sourceEvent:a});if(!c)return;a.preventDefault();var f=!0,p=c.snapLift();e.current();function g(){f||oe(),f=!1,e.current(),r()}e.current=qn(window,BM(p,g),{capture:!0,passive:!1})}}},[n]),r=ye(function(){var a={passive:!1,capture:!0};e.current=qn(window,[t],a)},[t]);Dn(function(){return r(),function(){e.current()}},[r])}var Tp={type:"IDLE"},zM=120,$M=.15;function WM(n){var e=n.cancel,t=n.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(t().type!=="DRAGGING"){e();return}s.keyCode===xg&&s.preventDefault(),e()}},{eventName:Eh,fn:e}]}function HM(n){var e=n.cancel,t=n.completed,r=n.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var l=r();if(l.type!=="DRAGGING"){e();return}l.hasMoved=!0;var c=a.touches[0],f=c.clientX,p=c.clientY,g={x:f,y:p};a.preventDefault(),l.actions.move(g)}},{eventName:"touchend",fn:function(a){var l=r();if(l.type!=="DRAGGING"){e();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(a){if(r().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(a){var l=r();l.type==="IDLE"&&oe();var c=a.touches[0];if(c){var f=c.force>=$M;if(f){var p=l.actions.shouldRespectForcePress();if(l.type==="PENDING"){p&&e();return}if(p){if(l.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}}}},{eventName:Eh,fn:e}]}function GM(n){var e=$.useRef(Tp),t=$.useRef(Ji),r=ye(function(){return e.current},[]),s=ye(function(I){e.current=I},[]),a=$e(function(){return{eventName:"touchstart",fn:function(I){if(!I.defaultPrevented){var T=n.findClosestDraggableId(I);if(T){var C=n.tryGetLock(T,c,{sourceEvent:I});if(C){var A=I.touches[0],O=A.clientX,V=A.clientY,B={x:O,y:V};t.current(),v(C,B)}}}}}},[n]),l=ye(function(){var I={capture:!0,passive:!1};t.current=qn(window,[a],I)},[a]),c=ye(function(){var E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),s(Tp),t.current(),l())},[l,s]),f=ye(function(){var E=e.current;c(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[c]),p=ye(function(){var I={capture:!0,passive:!1},T={cancel:f,completed:c,getPhase:r},C=qn(window,HM(T),I),A=qn(window,WM(T),I);t.current=function(){C(),A()}},[f,r,c]),g=ye(function(){var I=r();I.type!=="PENDING"&&oe();var T=I.actions.fluidLift(I.point);s({type:"DRAGGING",actions:T,hasMoved:!1})},[r,s]),v=ye(function(I,T){r().type!=="IDLE"&&oe();var C=setTimeout(g,zM);s({type:"PENDING",point:T,actions:I,longPressTimerId:C}),p()},[p,r,s,g]);Dn(function(){return l(),function(){t.current();var T=r();T.type==="PENDING"&&(clearTimeout(T.longPressTimerId),s(Tp))}},[r,l,s]),Dn(function(){var I=qn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return I},[])}var qM={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function bS(n,e){if(e==null)return!1;var t=!!qM[e.tagName.toLowerCase()];if(t)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===n?!1:bS(n,e.parentElement)}function KM(n,e){var t=e.target;return yh(t)?bS(n,t):!1}var QM=function(n){return pr(n.getBoundingClientRect()).center};function YM(n){return n instanceof wS(n).Element}var XM=function(){var n="matches";if(typeof document>"u")return n;var e=[n,"msMatchesSelector","webkitMatchesSelector"],t=ps(e,function(r){return r in Element.prototype});return t||n}();function AS(n,e){return n==null?null:n[XM](e)?n:AS(n.parentElement,e)}function JM(n,e){return n.closest?n.closest(e):AS(n,e)}function ZM(n){return"["+ya.contextId+'="'+n+'"]'}function eV(n,e){var t=e.target;if(!YM(t))return null;var r=ZM(n),s=JM(t,r);return!s||!yh(s)?null:s}function tV(n,e){var t=eV(n,e);return t?t.getAttribute(ya.draggableId):null}function nV(n,e){var t="["+um.contextId+'="'+n+'"]',r=$T(document.querySelectorAll(t)),s=ps(r,function(a){return a.getAttribute(um.id)===e});return!s||!yh(s)?null:s}function rV(n){n.preventDefault()}function qc(n){var e=n.expected,t=n.phase,r=n.isLockActive;return n.shouldWarn,!(!r()||e!==t)}function RS(n){var e=n.lockAPI,t=n.store,r=n.registry,s=n.draggableId;if(e.isClaimed())return!1;var a=r.draggable.findById(s);return!(!a||!a.options.isEnabled||!vS(t.getState(),s))}function iV(n){var e=n.lockAPI,t=n.contextId,r=n.store,s=n.registry,a=n.draggableId,l=n.forceSensorStop,c=n.sourceEvent,f=RS({lockAPI:e,store:r,registry:s,draggableId:a});if(!f)return null;var p=s.draggable.getById(a),g=nV(t,p.descriptor.id);if(!g||c&&!p.options.canDragInteractiveElements&&KM(g,c))return null;var v=e.claim(l||Ji),E="PRE_DRAG";function I(){return p.options.shouldRespectForcePress}function T(){return e.isActive(v)}function C(J,k){qc({expected:J,phase:E,isLockActive:T,shouldWarn:!0})&&r.dispatch(k())}var A=C.bind(null,"DRAGGING");function O(J){function k(){e.release(),E="COMPLETED"}E!=="PRE_DRAG"&&(k(),E!=="PRE_DRAG"&&oe()),r.dispatch(X2(J.liftActionArgs)),E="DRAGGING";function P(x,N){if(N===void 0&&(N={shouldBlockNextClick:!1}),J.cleanup(),N.shouldBlockNextClick){var L=qn(window,[{eventName:"click",fn:rV,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}k(),r.dispatch(cS({reason:x}))}return Ie({isActive:function(){return qc({expected:"DRAGGING",phase:E,isLockActive:T,shouldWarn:!1})},shouldRespectForcePress:I,drop:function(N){return P("DROP",N)},cancel:function(N){return P("CANCEL",N)}},J.actions)}function V(J){var k=tu(function(x){A(function(){return uS({client:x})})}),P=O({liftActionArgs:{id:a,clientSelection:J,movementMode:"FLUID"},cleanup:function(){return k.cancel()},actions:{move:k}});return Ie({},P,{move:k})}function B(){var J={moveUp:function(){return A(oL)},moveRight:function(){return A(lL)},moveDown:function(){return A(aL)},moveLeft:function(){return A(uL)}};return O({liftActionArgs:{id:a,clientSelection:QM(g),movementMode:"SNAP"},cleanup:Ji,actions:J})}function H(){var J=qc({expected:"PRE_DRAG",phase:E,isLockActive:T,shouldWarn:!0});J&&e.release()}var q={isActive:function(){return qc({expected:"PRE_DRAG",phase:E,isLockActive:T,shouldWarn:!1})},shouldRespectForcePress:I,fluidLift:V,snapLift:B,abort:H};return q}var sV=[VM,jM,GM];function oV(n){var e=n.contextId,t=n.store,r=n.registry,s=n.customSensors,a=n.enableDefaultSensors,l=[].concat(a?sV:[],s||[]),c=$.useState(function(){return TM()})[0],f=ye(function(V,B){V.isDragging&&!B.isDragging&&c.tryAbandon()},[c]);Dn(function(){var V=t.getState(),B=t.subscribe(function(){var H=t.getState();f(V,H),V=H});return B},[c,t,f]),Dn(function(){return c.tryAbandon},[c.tryAbandon]);for(var p=ye(function(O){return RS({lockAPI:c,registry:r,store:t,draggableId:O})},[c,r,t]),g=ye(function(O,V,B){return iV({lockAPI:c,registry:r,contextId:e,store:t,draggableId:O,forceSensorStop:V,sourceEvent:B&&B.sourceEvent?B.sourceEvent:null})},[e,c,r,t]),v=ye(function(O){return tV(e,O)},[e]),E=ye(function(O){var V=r.draggable.findById(O);return V?V.options:null},[r.draggable]),I=ye(function(){c.isClaimed()&&(c.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Eg()))},[c,t]),T=ye(c.isClaimed,[c]),C=$e(function(){return{canGetLock:p,tryGetLock:g,findClosestDraggableId:v,findOptionsForDraggable:E,tryReleaseLock:I,isLockClaimed:T}},[p,g,v,E,I,T]),A=0;A<l.length;A++)l[A](C)}var aV=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Cl(n){return n.current||oe(),n.current}function lV(n){var e=n.contextId,t=n.setCallbacks,r=n.sensors,s=n.nonce,a=n.dragHandleUsageInstructions,l=$.useRef(null),c=IS(n),f=ye(function(){return aV(c.current)},[c]),p=yM(e),g=IM({contextId:e,text:a}),v=dM(e,s),E=ye(function(x){Cl(l).dispatch(x)},[]),I=$e(function(){return zE({publishWhileDragging:Z2,updateDroppableScroll:tL,updateDroppableIsEnabled:nL,updateDroppableIsCombineEnabled:rL,collectionStarting:eL},E)},[E]),T=mM(),C=$e(function(){return $L(T,I)},[T,I]),A=$e(function(){return oM(Ie({scrollWindow:WL,scrollDroppable:C.scrollDroppable},zE({move:uS},E)))},[C.scrollDroppable,E]),O=fM(e),V=$e(function(){return UL({announce:p,autoScroller:A,dimensionMarshal:C,focusMarshal:O,getResponders:f,styleMarshal:v})},[p,A,C,O,f,v]);l.current=V;var B=ye(function(){var x=Cl(l),N=x.getState();N.phase!=="IDLE"&&x.dispatch(Eg())},[]),H=ye(function(){var x=Cl(l).getState();return x.isDragging||x.phase==="DROP_ANIMATING"},[]),q=$e(function(){return{isDragging:H,tryAbort:B}},[H,B]);t(q);var J=ye(function(x){return vS(Cl(l).getState(),x)},[]),k=ye(function(){return Ws(Cl(l).getState())},[]),P=$e(function(){return{marshal:C,focus:O,contextId:e,canLift:J,isMovementAllowed:k,dragHandleUsageInstructionsId:g,registry:T}},[e,C,g,O,J,k,T]);return oV({contextId:e,store:V,registry:T,customSensors:r,enableDefaultSensors:n.enableDefaultSensors!==!1}),$.useEffect(function(){return B},[B]),tt.createElement(_h.Provider,{value:P},tt.createElement(KN,{context:Rg,store:V},n.children))}var uV=0;function cV(){return $e(function(){return""+uV++},[])}function dV(n){var e=cV(),t=n.dragHandleUsageInstructions||sd.dragHandleUsageInstructions;return tt.createElement(jO,null,function(r){return tt.createElement(lV,{nonce:n.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd},n.children)})}var PS=function(e){return function(t){return e===t}},hV=PS("scroll"),fV=PS("auto"),Iw=function(e,t){return t(e.overflowX)||t(e.overflowY)},pV=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Iw(r,hV)||Iw(r,fV)},mV=function(){return!1},gV=function n(e){return e==null?null:e===document.body?mV()?e:null:e===document.documentElement?null:pV(e)?e:n(e.parentElement)},cm=function(n){return{x:n.scrollLeft,y:n.scrollTop}},vV=function n(e){if(!e)return!1;var t=window.getComputedStyle(e);return t.position==="fixed"?!0:n(e.parentElement)},yV=function(n){var e=gV(n),t=vV(n);return{closestScrollable:e,isFixedOnPage:t}},_V=function(n){var e=n.descriptor,t=n.isEnabled,r=n.isCombineEnabled,s=n.isFixedOnPage,a=n.direction,l=n.client,c=n.page,f=n.closest,p=function(){if(!f)return null;var I=f.scrollSize,T=f.client,C=pS({scrollHeight:I.scrollHeight,scrollWidth:I.scrollWidth,height:T.paddingBox.height,width:T.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:T,scrollSize:I,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:C,diff:{value:Lt,displacement:Lt}}}}(),g=a==="vertical"?mg:KT,v=ga({page:c,withPlaceholder:null,axis:g,frame:p}),E={descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:g,isEnabled:t,client:l,page:c,frame:p,subject:v};return E},EV=function(e,t){var r=FT(e);if(!t||e!==t)return r;var s=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,l=s+t.scrollHeight,c=a+t.scrollWidth,f={top:s,right:c,bottom:l,left:a},p=cg(f,r.border),g=dg({borderBox:p,margin:r.margin,border:r.border,padding:r.padding});return g},wV=function(n){var e=n.ref,t=n.descriptor,r=n.env,s=n.windowScroll,a=n.direction,l=n.isDropDisabled,c=n.isCombineEnabled,f=n.shouldClipSubject,p=r.closestScrollable,g=EV(e,p),v=Dd(g,s),E=function(){if(!p)return null;var T=FT(p),C={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:T,page:Dd(T,s),scroll:cm(p),scrollSize:C,shouldClipSubject:f}}(),I=_V({descriptor:t,isEnabled:!l,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:a,client:g,page:v,closest:E});return I},IV={passive:!1},TV={passive:!0},Tw=function(n){return n.shouldPublishImmediately?IV:TV};function Vd(n){var e=$.useContext(n);return e||oe(),e}var Kc=function(e){return e&&e.env.closestScrollable||null};function SV(n){var e=$.useRef(null),t=Vd(_h),r=Pg("droppable"),s=t.registry,a=t.marshal,l=IS(n),c=$e(function(){return{id:n.droppableId,type:n.type,mode:n.mode}},[n.droppableId,n.mode,n.type]),f=$.useRef(c),p=$e(function(){return Ot(function(H,q){e.current||oe();var J={x:H,y:q};a.updateDroppableScroll(c.id,J)})},[c.id,a]),g=ye(function(){var H=e.current;return!H||!H.env.closestScrollable?Lt:cm(H.env.closestScrollable)},[]),v=ye(function(){var H=g();p(H.x,H.y)},[g,p]),E=$e(function(){return tu(v)},[v]),I=ye(function(){var H=e.current,q=Kc(H);H&&q||oe();var J=H.scrollOptions;if(J.shouldPublishImmediately){v();return}E()},[E,v]),T=ye(function(H,q){e.current&&oe();var J=l.current,k=J.getDroppableRef();k||oe();var P=yV(k),x={ref:k,descriptor:c,env:P,scrollOptions:q};e.current=x;var N=wV({ref:k,descriptor:c,env:P,windowScroll:H,direction:J.direction,isDropDisabled:J.isDropDisabled,isCombineEnabled:J.isCombineEnabled,shouldClipSubject:!J.ignoreContainerClipping}),L=P.closestScrollable;return L&&(L.setAttribute(yw.contextId,t.contextId),L.addEventListener("scroll",I,Tw(x.scrollOptions))),N},[t.contextId,c,I,l]),C=ye(function(){var H=e.current,q=Kc(H);return H&&q||oe(),cm(q)},[]),A=ye(function(){var H=e.current;H||oe();var q=Kc(H);e.current=null,q&&(E.cancel(),q.removeAttribute(yw.contextId),q.removeEventListener("scroll",I,Tw(H.scrollOptions)))},[I,E]),O=ye(function(H){var q=e.current;q||oe();var J=Kc(q);J||oe(),J.scrollTop+=H.y,J.scrollLeft+=H.x},[]),V=$e(function(){return{getDimensionAndWatchScroll:T,getScrollWhileDragging:C,dragStopped:A,scroll:O}},[A,T,C,O]),B=$e(function(){return{uniqueId:r,descriptor:c,callbacks:V}},[V,c,r]);Dn(function(){return f.current=B.descriptor,s.droppable.register(B),function(){e.current&&A(),s.droppable.unregister(B)}},[V,c,A,B,a,s.droppable]),Dn(function(){e.current&&a.updateDroppableIsEnabled(f.current.id,!n.isDropDisabled)},[n.isDropDisabled,a]),Dn(function(){e.current&&a.updateDroppableIsCombineEnabled(f.current.id,n.isCombineEnabled)},[n.isCombineEnabled,a])}function Sp(){}var Sw={width:0,height:0,margin:qO},CV=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,s=e.animate;return t||s==="close"?Sw:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},bV=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,s=e.animate,a=CV({isAnimatingOpenOnMount:t,placeholder:r,animate:s});return{display:r.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Ul.placeholder:null}};function AV(n){var e=$.useRef(null),t=ye(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=n.animate,s=n.onTransitionEnd,a=n.onClose,l=n.contextId,c=$.useState(n.animate==="open"),f=c[0],p=c[1];$.useEffect(function(){return f?r!=="open"?(t(),p(!1),Sp):e.current?Sp:(e.current=setTimeout(function(){e.current=null,p(!1)}),t):Sp},[r,f,t]);var g=ye(function(E){E.propertyName==="height"&&(s(),r==="close"&&a())},[r,a,s]),v=bV({isAnimatingOpenOnMount:f,animate:n.animate,placeholder:n.placeholder});return tt.createElement(n.placeholder.tagName,{style:v,"data-rbd-placeholder-context-id":l,onTransitionEnd:g,ref:n.innerRef})}var RV=tt.memo(AV),Dg=tt.createContext(null),PV=function(n){AT(e,n);function e(){for(var r,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return r=n.call.apply(n,[this].concat(a))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(s,a){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var t=e.prototype;return t.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},e}(tt.PureComponent),Cw={dragging:5e3,dropAnimating:4500},xV=function(e,t){return t?Ul.drop(t.duration):e?Ul.snap:Ul.fluid},DV=function(e,t){return e?t?su.opacity.drop:su.opacity.combining:null},kV=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function NV(n){var e=n.dimension,t=e.client,r=n.offset,s=n.combineWith,a=n.dropping,l=!!s,c=kV(n),f=!!a,p=f?am.drop(r,l):am.moveTo(r),g={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:xV(c,a),transform:p,opacity:DV(l,f),zIndex:f?Cw.dropAnimating:Cw.dragging,pointerEvents:"none"};return g}function OV(n){return{transform:am.moveTo(n.offset),transition:n.shouldAnimateDisplacement?null:"none"}}function LV(n){return n.type==="DRAGGING"?NV(n):OV(n)}function MV(n,e,t){t===void 0&&(t=Lt);var r=window.getComputedStyle(e),s=e.getBoundingClientRect(),a=VT(s,r),l=Dd(a,t),c={client:a,tagName:e.tagName.toLowerCase(),display:r.display},f={x:a.marginBox.width,y:a.marginBox.height},p={descriptor:n,placeholder:c,displaceBy:f,client:a,page:l};return p}function VV(n){var e=Pg("draggable"),t=n.descriptor,r=n.registry,s=n.getDraggableRef,a=n.canDragInteractiveElements,l=n.shouldRespectForcePress,c=n.isEnabled,f=$e(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:l,isEnabled:c}},[a,c,l]),p=ye(function(I){var T=s();return T||oe(),MV(t,T,I)},[t,s]),g=$e(function(){return{uniqueId:e,descriptor:t,options:f,getDimension:p}},[t,p,f,e]),v=$.useRef(g),E=$.useRef(!0);Dn(function(){return r.draggable.register(v.current),function(){return r.draggable.unregister(v.current)}},[r.draggable]),Dn(function(){if(E.current){E.current=!1;return}var I=v.current;v.current=g,r.draggable.update(g,I)},[g,r.draggable])}function FV(n){n.preventDefault()}function UV(n){var e=$.useRef(null),t=ye(function(x){e.current=x},[]),r=ye(function(){return e.current},[]),s=Vd(_h),a=s.contextId,l=s.dragHandleUsageInstructionsId,c=s.registry,f=Vd(Dg),p=f.type,g=f.droppableId,v=$e(function(){return{id:n.draggableId,index:n.index,type:p,droppableId:g}},[n.draggableId,n.index,p,g]),E=n.children,I=n.draggableId,T=n.isEnabled,C=n.shouldRespectForcePress,A=n.canDragInteractiveElements,O=n.isClone,V=n.mapped,B=n.dropAnimationFinished;if(!O){var H=$e(function(){return{descriptor:v,registry:c,getDraggableRef:r,canDragInteractiveElements:A,shouldRespectForcePress:C,isEnabled:T}},[v,c,r,A,C,T]);VV(H)}var q=$e(function(){return T?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":I,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:FV}:null},[a,l,I,T]),J=ye(function(x){V.type==="DRAGGING"&&V.dropping&&x.propertyName==="transform"&&B()},[B,V]),k=$e(function(){var x=LV(V),N=V.type==="DRAGGING"&&V.dropping?J:null,L={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":I,style:x,onTransitionEnd:N},dragHandleProps:q};return L},[a,q,I,V,J,t]),P=$e(function(){return{draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}},[v.droppableId,v.id,v.index,v.type]);return E(k,V.snapshot,P)}var xS=function(n,e){return n===e},DS=function(n){var e=n.combine,t=n.destination;return t?t.droppableId:e?e.droppableId:null},BV=function(e){return e.combine?e.combine.draggableId:null},jV=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function zV(){var n=Ot(function(s,a){return{x:s,y:a}}),e=Ot(function(s,a,l,c,f){return{isDragging:!0,isClone:a,isDropAnimating:!!f,dropAnimation:f,mode:s,draggingOver:l,combineWith:c,combineTargetFor:null}}),t=Ot(function(s,a,l,c,f,p,g){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:p,mode:a,offset:s,dimension:l,forceShouldAnimate:g,snapshot:e(a,c,f,p,null)}}}),r=function(a,l){if(a.isDragging){if(a.critical.draggable.id!==l.draggableId)return null;var c=a.current.client.offset,f=a.dimensions.draggables[l.draggableId],p=xn(a.impact),g=jV(a.impact),v=a.forceShouldAnimate;return t(n(c.x,c.y),a.movementMode,f,l.isClone,p,g,v)}if(a.phase==="DROP_ANIMATING"){var E=a.completed;if(E.result.draggableId!==l.draggableId)return null;var I=l.isClone,T=a.dimensions.draggables[l.draggableId],C=E.result,A=C.mode,O=DS(C),V=BV(C),B=a.dropDuration,H={duration:B,curve:Ig.drop,moveTo:a.newHomeClientOffset,opacity:V?su.opacity.drop:null,scale:V?su.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:T,dropping:H,draggingOver:O,combineWith:V,mode:A,forceShouldAnimate:null,snapshot:e(A,I,O,V,H)}}}return null};return r}function kS(n){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}var $V={mapped:{type:"SECONDARY",offset:Lt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kS(null)}};function WV(){var n=Ot(function(l,c){return{x:l,y:c}}),e=Ot(kS),t=Ot(function(l,c,f){return c===void 0&&(c=null),{mapped:{type:"SECONDARY",offset:l,combineTargetFor:c,shouldAnimateDisplacement:f,snapshot:e(c)}}}),r=function(c){return c?t(Lt,c,!0):null},s=function(c,f,p,g){var v=p.displaced.visible[c],E=!!(g.inVirtualList&&g.effected[c]),I=mh(p),T=I&&I.draggableId===c?f:null;if(!v){if(!E)return r(T);if(p.displaced.invisible[c])return null;var C=Aa(g.displacedBy.point),A=n(C.x,C.y);return t(A,T,!0)}if(E)return r(T);var O=p.displacedBy.point,V=n(O.x,O.y);return t(V,T,v.shouldAnimate)},a=function(c,f){if(c.isDragging)return c.critical.draggable.id===f.draggableId?null:s(f.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){var p=c.completed;return p.result.draggableId===f.draggableId?null:s(f.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return a}var HV=function(){var e=zV(),t=WV(),r=function(a,l){return e(a,l)||t(a,l)||$V};return r},GV={dropAnimationFinished:dS},qV=LT(HV,GV,null,{context:Rg,pure:!0,areStatePropsEqual:xS})(UV);function NS(n){var e=Vd(Dg),t=e.isUsingCloneFor;return t===n.draggableId&&!n.isClone?null:tt.createElement(qV,n)}function KV(n){var e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,t=!!n.disableInteractiveElementBlocking,r=!!n.shouldRespectForcePress;return tt.createElement(NS,Ie({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:r}))}function QV(n){var e=$.useContext(_h);e||oe();var t=e.contextId,r=e.isMovementAllowed,s=$.useRef(null),a=$.useRef(null),l=n.children,c=n.droppableId,f=n.type,p=n.mode,g=n.direction,v=n.ignoreContainerClipping,E=n.isDropDisabled,I=n.isCombineEnabled,T=n.snapshot,C=n.useClone,A=n.updateViewportMaxScroll,O=n.getContainerForClone,V=ye(function(){return s.current},[]),B=ye(function(L){s.current=L},[]);ye(function(){return a.current},[]);var H=ye(function(L){a.current=L},[]),q=ye(function(){r()&&A({maxScroll:gS()})},[r,A]);SV({droppableId:c,type:f,mode:p,direction:g,isDropDisabled:E,isCombineEnabled:I,ignoreContainerClipping:v,getDroppableRef:V});var J=tt.createElement(PV,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},function(L){var j=L.onClose,R=L.data,Ce=L.animate;return tt.createElement(RV,{placeholder:R,onClose:j,innerRef:H,animate:Ce,contextId:t,onTransitionEnd:q})}),k=$e(function(){return{innerRef:B,placeholder:J,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":t}}},[t,c,J,B]),P=C?C.dragging.draggableId:null,x=$e(function(){return{droppableId:c,type:f,isUsingCloneFor:P}},[c,P,f]);function N(){if(!C)return null;var L=C.dragging,j=C.render,R=tt.createElement(NS,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Ce,Ke){return j(Ce,Ke,L)});return Nk.createPortal(R,O())}return tt.createElement(Dg.Provider,{value:x},l(k,T),N())}var Cp=function(e,t){return e===t.droppable.type},bw=function(e,t){return t.draggables[e.draggable.id]},YV=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Ie({},e,{shouldAnimatePlaceholder:!1}),r=Ot(function(l){return{draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}}}),s=Ot(function(l,c,f,p,g,v){var E=g.descriptor.id,I=g.descriptor.droppableId===l;if(I){var T=v?{render:v,dragging:r(g.descriptor)}:null,C={isDraggingOver:f,draggingOverWith:f?E:null,draggingFromThisWith:E,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:T}}if(!c)return t;if(!p)return e;var A={isDraggingOver:f,draggingOverWith:E,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:A,useClone:null}}),a=function(c,f){var p=f.droppableId,g=f.type,v=!f.isDropDisabled,E=f.renderClone;if(c.isDragging){var I=c.critical;if(!Cp(g,I))return t;var T=bw(I,c.dimensions),C=xn(c.impact)===p;return s(p,v,C,C,T,E)}if(c.phase==="DROP_ANIMATING"){var A=c.completed;if(!Cp(g,A.critical))return t;var O=bw(A.critical,c.dimensions);return s(p,v,DS(A.result)===p,xn(A.impact)===p,O,E)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){var V=c.completed;if(!Cp(g,V.critical))return t;var B=xn(V.impact)===p,H=!!(V.impact.at&&V.impact.at.type==="COMBINE"),q=V.critical.droppable.id===p;return B?H?e:t:q?e:t}return t};return a},XV={updateViewportMaxScroll:sL};function JV(){return document.body||oe(),document.body}var ZV={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:JV},OS=LT(YV,XV,null,{context:Rg,pure:!0,areStatePropsEqual:xS})(QV);OS.defaultProps=ZV;const Aw=["todo","in-progress","done"];function eF(){const[n,e]=$.useState(null),[t,r]=$.useState([]),[s,a]=$.useState(""),[l,c]=$.useState(!1),[f,p]=$.useState(null);$.useEffect(()=>{const C=Rn.onAuthStateChanged(A=>{e(A)});return()=>C()},[]),$.useEffect(()=>{if(!n)return;const C=pa(Gn(nt,"tasks"),Yl("owner","==",n.uid)),A=ai(C,O=>{const V=O.docs.map(B=>({id:B.id,...B.data()}));r(V)});return()=>A()},[n]);async function g(C){if(C.preventDefault(),!!s.trim()){c(!0),p(null);try{await og(Gn(nt,"tasks"),{text:s.trim(),owner:n.uid,status:"todo",createdAt:Sd(),completed:!1}),a("")}catch(A){p("Failed to add task: "+A.message)}finally{c(!1)}}}async function v(C){try{await aT(sn(nt,"tasks",C))}catch(A){alert("Failed to delete task: "+A.message)}}async function E(C){try{await Xl(sn(nt,"tasks",C.id),{completed:!C.completed,status:C.completed?"todo":"done"})}catch(A){alert("Failed to update task: "+A.message)}}async function I(C){if(!C.destination)return;const{draggableId:A,destination:O}=C,V=O.droppableId;try{await Xl(sn(nt,"tasks",A),{status:V})}catch(B){alert("Failed to update status: "+B.message)}}const T=Aw.reduce((C,A)=>(C[A]=t.filter(O=>O.status===A),C),{});return n?U.jsxs("section",{className:"page-wrapper p-6",children:[U.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your Tasks"}),U.jsxs("form",{onSubmit:g,className:"mb-6 flex gap-3",children:[U.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),placeholder:"New task description",className:"input-field flex-grow",disabled:l,required:!0}),U.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Adding...":"Add Task"})]}),f&&U.jsx("p",{className:"text-red-600 mb-4",children:f}),U.jsx(dV,{onDragEnd:I,children:U.jsx("div",{className:"flex gap-6",children:Aw.map(C=>U.jsx(OS,{droppableId:C,children:A=>U.jsxs("div",{...A.droppableProps,ref:A.innerRef,className:"bg-white p-4 rounded shadow flex-1 min-h-[300px]",children:[U.jsx("h2",{className:"font-semibold capitalize mb-2",children:C.replace("-"," ")}),T[C].map((O,V)=>U.jsx(KV,{draggableId:O.id,index:V,children:(B,H)=>U.jsxs("div",{ref:B.innerRef,...B.draggableProps,...B.dragHandleProps,className:`p-3 rounded mb-2 flex items-center justify-between cursor-move
                            ${H.isDragging?"bg-blue-100":"bg-gray-100"}`,children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("input",{type:"checkbox",checked:O.completed,onChange:()=>E(O),"aria-label":`Mark task "${O.text}" as completed`}),U.jsx("span",{className:O.completed?"line-through text-gray-500":"",children:O.text})]}),U.jsx("button",{onClick:()=>v(O.id),"aria-label":`Delete task "${O.text}"`,className:"text-red-600 font-bold text-xl",type:"button",children:"×"})]})},O.id)),A.placeholder]})},C))})})]}):U.jsx("p",{children:"Please log in to see your tasks."})}function tF(){const[n,e]=$.useState(null),[t,r]=$.useState([]),[s,a]=$.useState(""),l=$.useRef(null);$.useEffect(()=>Rn.onAuthStateChanged(g=>e(g)),[]),$.useEffect(()=>{if(!n)return;const p=Gn(nt,"messages"),g=pa(p,XD("createdAt","asc")),v=ai(g,E=>{const I=E.docs.map(T=>({id:T.id,...T.data()}));r(I),setTimeout(()=>c(),50)});return()=>v()},[n]);const c=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})},f=async p=>{if(p.preventDefault(),!s.trim()||!n)return;let g=n.displayName||n.email;try{const v=await vu(sn(nt,"users",n.uid));if(v.exists()){const E=v.data();g=E.displayName||E.email||n.email}}catch{}await og(Gn(nt,"messages"),{text:s.trim(),senderId:n.uid,senderName:g,createdAt:Sd()}),a("")};return n?U.jsxs("section",{className:"page-wrapper max-w-3xl mx-auto p-4 flex flex-col h-full",children:[U.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"צ'אט בזמן אמת"}),U.jsxs("div",{className:"messages-list flex-grow overflow-auto mb-4 border rounded p-3 bg-white flex flex-col gap-2",style:{maxHeight:"60vh"},children:[t.map(p=>{var g;return U.jsxs("div",{className:`p-2 rounded max-w-[75%] ${p.senderId===n.uid?"bg-blue-500 text-white self-end":"bg-gray-100 self-start"}`,children:[U.jsx("p",{className:"text-xs font-bold mb-1",children:p.senderName||p.senderId}),U.jsx("p",{className:"break-words",children:p.text}),U.jsx("small",{className:"text-[11px] text-gray-600 mt-1 block text-right",children:(g=p.createdAt)!=null&&g.toDate?p.createdAt.toDate().toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"}):"..."})]},p.id)}),U.jsx("div",{ref:l})]}),U.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[U.jsx("input",{type:"text",className:"input-field flex-grow border rounded px-3 py-2 focus:ring focus:ring-blue-300",placeholder:"כתוב הודעה...",value:s,onChange:p=>a(p.target.value),required:!0,autoFocus:!0}),U.jsx("button",{type:"submit",className:"btn-primary bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors",disabled:!s.trim(),children:"שלח"})]})]}):U.jsx("p",{className:"text-center mt-8",children:"אנא התחבר כדי להשתמש בצ'אט"})}const nF="ono1234";function rF(){const[n,e]=$.useState(""),[t,r]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(""),[f,p]=$.useState(""),[g,v]=$.useState(!1);$.useEffect(()=>{(async()=>{const C=Rn.currentUser;if(C)try{const A=await vu(sn(nt,"users",C.uid));if(A.exists()){const O=A.data();e(O.displayName||C.displayName||""),r(O.email||C.email||"")}else e(C.displayName||""),r(C.email||"")}catch{e(C.displayName||""),r(C.email||"")}})()},[]);const E=async()=>{v(!0),a("");try{const T=Rn.currentUser;if(!T)throw new Error("לא מחובר");await pI(T,{displayName:n}),await Xl(sn(nt,"users",T.uid),{displayName:n}),a("הפרופיל עודכן בהצלחה!")}catch{a("עדכון נכשל.")}finally{v(!1),setTimeout(()=>a(""),2800)}},I=async T=>{T.preventDefault(),p("");const C=Rn.currentUser;C&&(l.trim()===nF?(await Xl(sn(nt,"users",C.uid),{role:"admin"}),p("קיבלת הרשאות אדמין ✅")):p("קוד לא נכון 🚫"),c(""),setTimeout(()=>p(""),2500))};return U.jsxs("section",{className:"settings-wrapper",children:[U.jsx("h1",{className:"page-title",children:"הגדרות"}),U.jsxs("div",{className:"settings-card",children:[U.jsx("label",{htmlFor:"displayName",children:"שם מלא"}),U.jsx("input",{type:"text",id:"displayName",value:n,onChange:T=>e(T.target.value),placeholder:"שם מלא"}),U.jsx("label",{htmlFor:"email",children:"אימייל"}),U.jsx("input",{type:"email",id:"email",value:t,disabled:!0,readOnly:!0,className:"input-disabled"}),U.jsx("button",{className:"btn-primary",onClick:E,disabled:g||n.trim()==="",children:g?"שומר...":"שמור שינויים"}),s&&U.jsx("p",{className:"message",children:s}),U.jsx("hr",{className:"my-5"}),U.jsxs("form",{className:"admin-box",onSubmit:I,children:[U.jsx("label",{style:{color:"#2563eb",fontWeight:600,marginBottom:3,fontSize:"1.06rem"},children:"הכנס קוד אדמין (רק אם ברצונך להיות אדמין במערכת)"}),U.jsxs("div",{style:{display:"flex",gap:8,marginTop:5},children:[U.jsx("input",{type:"text",className:"input-admin",placeholder:"קוד אדמין",value:l,onChange:T=>c(T.target.value)}),U.jsx("button",{className:"btn-secondary",type:"submit",children:"שלח"})]}),f&&U.jsx("div",{className:"admin-status",children:f})]})]})]})}function iF(){const[n,e]=$.useState(""),[t,r]=$.useState(""),[s,a]=$.useState(null),[l,c]=$.useState(!1),f=Eu();async function p(g){g.preventDefault(),a(null),c(!0);try{await fI(Rn,n,t),f("/")}catch(v){a("התחברות נכשלה: "+((v==null?void 0:v.message)||""))}finally{c(!1)}}return U.jsxs("div",{className:"login-wrapper",dir:"rtl",children:[U.jsx("h2",{className:"login-title",children:"התחברות למערכת"}),U.jsxs("form",{className:"login-form",onSubmit:p,autoComplete:"on",children:[U.jsx("label",{htmlFor:"login-email",children:"אימייל"}),U.jsx("input",{id:"login-email",type:"email",value:n,onChange:g=>e(g.target.value),placeholder:"email@example.com",required:!0}),U.jsx("label",{htmlFor:"login-password",children:"סיסמה"}),U.jsx("input",{id:"login-password",type:"password",value:t,onChange:g=>r(g.target.value),placeholder:"הקלד סיסמה",required:!0}),s&&U.jsx("div",{className:"auth-error",children:s}),U.jsx("button",{className:"btn-primary",type:"submit",disabled:l,children:l?"מתחבר...":"התחבר"})]}),U.jsxs("div",{className:"login-hint",children:["אין לך משתמש? ",U.jsx(lg,{to:"/register",children:"להרשמה"})]})]})}const sF="ono1234";function oF(){const[n,e]=$.useState(""),[t,r]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(""),[f,p]=$.useState(""),[g,v]=$.useState(!1),E=Eu();async function I(T){T.preventDefault(),p(""),v(!0);try{if(!s.trim())throw new Error("יש להזין שם מלא");const A=(await hI(Rn,n,t)).user,O=l===sF?"admin":"user";await pI(A,{displayName:s}),await oT(sn(nt,"users",A.uid),{displayName:s,email:n,role:O}),E("/")}catch(C){p(C.message||"שגיאת הרשמה")}finally{v(!1)}}return U.jsxs("div",{className:"register-wrapper",dir:"rtl",children:[U.jsx("h2",{className:"register-title",children:"הרשמה למערכת"}),U.jsxs("form",{className:"register-form",onSubmit:I,children:[U.jsx("label",{htmlFor:"register-displayName",children:"שם מלא"}),U.jsx("input",{id:"register-displayName",type:"text",value:s,onChange:T=>a(T.target.value),placeholder:"שם מלא",required:!0}),U.jsx("label",{htmlFor:"register-email",children:"אימייל"}),U.jsx("input",{id:"register-email",type:"email",value:n,onChange:T=>e(T.target.value),placeholder:"email@example.com",required:!0}),U.jsx("label",{htmlFor:"register-password",children:"סיסמה"}),U.jsx("input",{id:"register-password",type:"password",value:t,onChange:T=>r(T.target.value),placeholder:"הקלד סיסמה",required:!0}),U.jsx("label",{htmlFor:"admin-code",children:"קוד אדמין (לא חובה)"}),U.jsx("input",{id:"admin-code",type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"קוד לאדמין (לא חובה)"}),f&&U.jsx("div",{className:"auth-error",children:f}),U.jsx("button",{className:"btn-primary",type:"submit",disabled:g,children:g?"נרשם...":"הרשמה"})]}),U.jsxs("div",{className:"register-hint",children:["כבר יש לך משתמש? ",U.jsx(lg,{to:"/login",children:"להתחברות"})]})]})}function aF(){const[n,e]=$.useState([]),[t,r]=$.useState(!0),[s,a]=$.useState({});$.useEffect(()=>{r(!0);const c=pa(Gn(nt,"summaries"),Yl("status","==","pending")),f=ai(c,p=>{e(p.docs.map(g=>({id:g.id,...g.data()}))),r(!1)});return()=>f()},[]);async function l(c,f){r(!0);const p=s[c]||"";await Xl(sn(nt,"summaries",c),{status:f,adminComment:p,reviewedAt:new Date}),r(!1)}return U.jsxs("section",{className:"admin-section max-w-3xl mx-auto p-6 bg-white rounded shadow",children:[U.jsx("h1",{className:"text-2xl font-bold mb-8 text-center",children:"Admin Panel – Summaries Approval"}),t&&U.jsx("div",{className:"text-center py-8",children:"Loading..."}),!t&&n.length===0&&U.jsx("div",{className:"text-center text-gray-500 py-8",children:"No summaries pending approval 🎉"}),U.jsx("div",{className:"grid gap-6",children:n.map(c=>U.jsxs("div",{className:"card relative",children:[U.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[U.jsx("span",{className:"font-semibold text-blue-700",children:"Title:"}),U.jsx("span",{className:"text-lg",children:c.title||"(No Title)"}),U.jsxs("span",{className:"ml-auto text-sm text-gray-400",children:["by ",c.ownerName||c.owner||"Unknown"]})]}),U.jsxs("div",{className:"mb-3",children:[U.jsx("span",{className:"font-semibold text-blue-700",children:"Summary:"}),U.jsx("div",{className:"bg-gray-50 rounded p-3 mt-1 text-sm max-h-40 overflow-auto",children:c.content||"[No Content]"})]}),U.jsxs("div",{className:"mb-2",children:[U.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Feedback (optional):"}),U.jsx("textarea",{className:"input-field w-full border border-gray-300 rounded px-3 py-2 min-h-[40px] focus:ring focus:ring-blue-200",value:s[c.id]||"",onChange:f=>a(p=>({...p,[c.id]:f.target.value})),placeholder:"Feedback to the user (optional)..."})]}),U.jsxs("div",{className:"flex gap-2 mt-2",children:[U.jsx("button",{className:"btn-primary bg-green-600 hover:bg-green-700",onClick:()=>l(c.id,"approved"),disabled:t,children:"Approve"}),U.jsx("button",{className:"btn-primary bg-red-500 hover:bg-red-700",onClick:()=>l(c.id,"rejected"),disabled:t,children:"Reject"})]})]},c.id))})]})}function lF(){return U.jsxs(xN,{children:[U.jsx(MN,{}),U.jsx("main",{className:"p-6",children:U.jsxs(IN,{children:[U.jsx(ii,{path:"/",element:U.jsx(VN,{})}),U.jsx(ii,{path:"/summaries",element:U.jsx(FN,{})}),U.jsx(ii,{path:"/tasks",element:U.jsx(eF,{})}),U.jsx(ii,{path:"/messages",element:U.jsx(tF,{})}),U.jsx(ii,{path:"/settings",element:U.jsx(rF,{})}),U.jsx(ii,{path:"/login",element:U.jsx(iF,{})}),U.jsx(ii,{path:"/register",element:U.jsx(oF,{})}),U.jsx(ii,{path:"/admin",element:U.jsx(aF,{})})]})})]})}KC.createRoot(document.getElementById("root")).render(U.jsx(Dk,{children:U.jsx(lF,{})}));
